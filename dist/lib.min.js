function buildClassCheck(t){var e;return("String"===t||"Number"===t||"Boolean"===t)&&(e=t.toLowerCase()),"Array"===t&&array.isArray||function(n){return e&&typeof n===e?!0:className(n)==="[object "+t+"]"}}function className(t){return object.prototype.toString.call(t)}function initializeClasses(){initializeClass(object),iterateOverObject(ClassNames,function(t,e){initializeClass(globalContext[e])})}function initializeClass(t){t.SugarMethods||(defineProperty(t,"SugarMethods",{}),extend(t,!1,!1,{restore:function(){var e=0===arguments.length,n=multiArgs(arguments);iterateOverObject(t.SugarMethods,function(i,s){(e||n.indexOf(i)>-1)&&defineProperty(s.instance?t.prototype:t,i,s.method)})},extend:function(e,n,i){extend(t,i!==!1,n,e)}}))}function extend(t,e,n,i){var s,r=e?t.prototype:t;initializeClass(t),iterateOverObject(i,function(i,o){s=r[i],"function"==typeof n&&(o=wrapNative(r[i],o,n)),n===!1&&r[i]||defineProperty(r,i,o),t.SugarMethods[i]={instance:e,method:o,original:s}})}function extendSimilar(t,e,n,i,s){var r={};i=isString(i)?i.split(","):i,i.forEach(function(t,e){s(r,t,e)}),extend(t,e,n,r)}function wrapNative(t,e,n){return function(){return!t||n!==!0&&n.apply(this,arguments)?e.apply(this,arguments):t.apply(this,arguments)}}function defineProperty(t,e,n){definePropertySupport?object.defineProperty(t,e,{value:n,configurable:!0,enumerable:!1,writable:!0}):t[e]=n}function multiArgs(t,e){var n,i,s=[];for(n=0,i=t.length;i>n;n++)s.push(t[n]),e&&e.call(t,t[n],n);return s}function flattenedArgs(t,e,n){multiArgs(array.prototype.concat.apply([],array.prototype.slice.call(t,n||0)),e)}function checkCallback(t){if(!t||!t.call)throw new TypeError("Callback is not callable")}function isDefined(t){return t!==Undefined}function isUndefined(t){return t===Undefined}function isObjectPrimitive(t){return t&&"object"==typeof t}function isObject(t){return!!t&&"[object Object]"===className(t)&&"hasOwnProperty"in t}function hasOwnProperty(t,e){return object.hasOwnProperty.call(t,e)}function iterateOverObject(t,e){var n;for(n in t)if(hasOwnProperty(t,n)&&e.call(t,n,t[n],t)===!1)break}function simpleMerge(t,e){return iterateOverObject(e,function(n){t[n]=e[n]}),t}function Hash(t){simpleMerge(this,t)}function getRange(t,e,n,i){for(var s=[],r=parseInt(t),o=0>i;!o&&e>=r||o&&r>=e;)s.push(r),n&&n.call(this,r),r+=i||1;return s}function round(t,e,n){var i=math[n||"round"],s=math.pow(10,math.abs(e||0));return 0>e&&(s=1/s),i(t*s)/s}function ceil(t,e){return round(t,e,"ceil")}function floor(t,e){return round(t,e,"floor")}function padNumber(t,e,n,i){var s=math.abs(t).toString(i||10);return s=repeatString(e-s.replace(/\.\d+/,"").length,"0")+s,(n||0>t)&&(s=(0>t?"-":"+")+s),s}function getOrdinalizedSuffix(t){if(t>=11&&13>=t)return"th";switch(t%10){case 1:return"st";case 2:return"nd";case 3:return"rd";default:return"th"}}function getTrimmableCharacters(){return"	\n\f\r   ᠎             \u2028\u2029　﻿"}function repeatString(t,e){return array(math.max(0,isDefined(t)?t:1)+1).join(e||"")}function getRegExpFlags(t,e){var n=(""+t).match(/[^/]*$/)[0];return e&&(n=(n+e).split("").sort().join("").replace(/([gimy])\1+/g,"$1")),n}function escapeRegExp(t){return isString(t)||(t=string(t)),t.replace(/([\\/'*+?|()\[\]{}.^$])/g,"\\$1")}function stringify(t,e){var n,i,s,r,o,a,l,c,u=typeof t;if("string"===u)return t;if(s=object.prototype.toString.call(t),n=isObject(t),i="[object Array]"===s,null!=t&&n||i){if(e||(e=[]),e.length>1)for(l=e.length;l--;)if(e[l]===t)return"CYC";for(e.push(t),r=string(t.constructor),o=i?t:object.keys(t).sort(),l=0,c=o.length;c>l;l++)a=i?l:o[l],r+=a+stringify(t[a],e);e.pop()}else r=1/t===-1/0?"-0":string(t&&t.valueOf?t.valueOf():t);return u+s+r}function isEqual(t,e){return objectIsMatchedByValue(t)&&objectIsMatchedByValue(e)?stringify(t)===stringify(e):t===e}function objectIsMatchedByValue(t){var e=className(t);return"[object Date]"===e||"[object Array]"===e||"[object String]"===e||"[object Number]"===e||"[object RegExp]"===e||"[object Boolean]"===e||"[object Arguments]"===e||isObject(t)}function entryAtIndex(t,e,n){var i,s=[],r=t.length,o=e[e.length-1]!==!1;return multiArgs(e,function(e){return isBoolean(e)?!1:(o&&(e%=r,0>e&&(e=r+e)),i=n?t.charAt(e)||"":t[e],s.push(i),void 0)}),2>s.length?s[0]:s}function buildObjectInstanceMethods(t,e){extendSimilar(e,!0,!1,t,function(t,e){t[e+("equal"===e?"s":"")]=function(){return object[e].apply(null,[this].concat(multiArgs(arguments)))}})}function setDelay(t,e,n,i,s){var r;t.timers||(t.timers=[]),isNumber(e)||(e=0),t.timers.push(setTimeout(function(){t.timers.splice(r,1),n.apply(i,s||[])},e)),r=t.timers.length}(function(){var t=this,e=t._,n={},i=Array.prototype,s=Object.prototype,r=Function.prototype,o=i.push,a=i.slice,l=i.concat,c=s.toString,u=s.hasOwnProperty,h=i.forEach,d=i.map,p=i.reduce,f=i.reduceRight,m=i.filter,g=i.every,v=i.some,y=i.indexOf,_=i.lastIndexOf,b=Array.isArray,w=Object.keys,C=r.bind,x=function(t){return t instanceof x?t:this instanceof x?(this._wrapped=t,void 0):new x(t)};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=x),exports._=x):t._=x,x.VERSION="1.4.4";var S=x.each=x.forEach=function(t,e,i){if(null!=t)if(h&&t.forEach===h)t.forEach(e,i);else if(t.length===+t.length){for(var s=0,r=t.length;r>s;s++)if(e.call(i,t[s],s,t)===n)return}else for(var o in t)if(x.has(t,o)&&e.call(i,t[o],o,t)===n)return};x.map=x.collect=function(t,e,n){var i=[];return null==t?i:d&&t.map===d?t.map(e,n):(S(t,function(t,s,r){i[i.length]=e.call(n,t,s,r)}),i)};var T="Reduce of empty array with no initial value";x.reduce=x.foldl=x.inject=function(t,e,n,i){var s=arguments.length>2;if(null==t&&(t=[]),p&&t.reduce===p)return i&&(e=x.bind(e,i)),s?t.reduce(e,n):t.reduce(e);if(S(t,function(t,r,o){s?n=e.call(i,n,t,r,o):(n=t,s=!0)}),!s)throw new TypeError(T);return n},x.reduceRight=x.foldr=function(t,e,n,i){var s=arguments.length>2;if(null==t&&(t=[]),f&&t.reduceRight===f)return i&&(e=x.bind(e,i)),s?t.reduceRight(e,n):t.reduceRight(e);var r=t.length;if(r!==+r){var o=x.keys(t);r=o.length}if(S(t,function(a,l,c){l=o?o[--r]:--r,s?n=e.call(i,n,t[l],l,c):(n=t[l],s=!0)}),!s)throw new TypeError(T);return n},x.find=x.detect=function(t,e,n){var i;return E(t,function(t,s,r){return e.call(n,t,s,r)?(i=t,!0):void 0}),i},x.filter=x.select=function(t,e,n){var i=[];return null==t?i:m&&t.filter===m?t.filter(e,n):(S(t,function(t,s,r){e.call(n,t,s,r)&&(i[i.length]=t)}),i)},x.reject=function(t,e,n){return x.filter(t,function(t,i,s){return!e.call(n,t,i,s)},n)},x.every=x.all=function(t,e,i){e||(e=x.identity);var s=!0;return null==t?s:g&&t.every===g?t.every(e,i):(S(t,function(t,r,o){return(s=s&&e.call(i,t,r,o))?void 0:n}),!!s)};var E=x.some=x.any=function(t,e,i){e||(e=x.identity);var s=!1;return null==t?s:v&&t.some===v?t.some(e,i):(S(t,function(t,r,o){return s||(s=e.call(i,t,r,o))?n:void 0}),!!s)};x.contains=x.include=function(t,e){return null==t?!1:y&&t.indexOf===y?-1!=t.indexOf(e):E(t,function(t){return t===e})},x.invoke=function(t,e){var n=a.call(arguments,2),i=x.isFunction(e);return x.map(t,function(t){return(i?e:t[e]).apply(t,n)})},x.pluck=function(t,e){return x.map(t,function(t){return t[e]})},x.where=function(t,e,n){return x.isEmpty(e)?n?null:[]:x[n?"find":"filter"](t,function(t){for(var n in e)if(e[n]!==t[n])return!1;return!0})},x.findWhere=function(t,e){return x.where(t,e,!0)},x.max=function(t,e,n){if(!e&&x.isArray(t)&&t[0]===+t[0]&&65535>t.length)return Math.max.apply(Math,t);if(!e&&x.isEmpty(t))return-1/0;var i={computed:-1/0,value:-1/0};return S(t,function(t,s,r){var o=e?e.call(n,t,s,r):t;o>=i.computed&&(i={value:t,computed:o})}),i.value},x.min=function(t,e,n){if(!e&&x.isArray(t)&&t[0]===+t[0]&&65535>t.length)return Math.min.apply(Math,t);if(!e&&x.isEmpty(t))return 1/0;var i={computed:1/0,value:1/0};return S(t,function(t,s,r){var o=e?e.call(n,t,s,r):t;i.computed>o&&(i={value:t,computed:o})}),i.value},x.shuffle=function(t){var e,n=0,i=[];return S(t,function(t){e=x.random(n++),i[n-1]=i[e],i[e]=t}),i};var k=function(t){return x.isFunction(t)?t:function(e){return e[t]}};x.sortBy=function(t,e,n){var i=k(e);return x.pluck(x.map(t,function(t,e,s){return{value:t,index:e,criteria:i.call(n,t,e,s)}}).sort(function(t,e){var n=t.criteria,i=e.criteria;if(n!==i){if(n>i||void 0===n)return 1;if(i>n||void 0===i)return-1}return t.index<e.index?-1:1}),"value")};var V=function(t,e,n,i){var s={},r=k(e||x.identity);return S(t,function(e,o){var a=r.call(n,e,o,t);i(s,a,e)}),s};x.groupBy=function(t,e,n){return V(t,e,n,function(t,e,n){(x.has(t,e)?t[e]:t[e]=[]).push(n)})},x.countBy=function(t,e,n){return V(t,e,n,function(t,e){x.has(t,e)||(t[e]=0),t[e]++})},x.sortedIndex=function(t,e,n,i){n=null==n?x.identity:k(n);for(var s=n.call(i,e),r=0,o=t.length;o>r;){var a=r+o>>>1;s>n.call(i,t[a])?r=a+1:o=a}return r},x.toArray=function(t){return t?x.isArray(t)?a.call(t):t.length===+t.length?x.map(t,x.identity):x.values(t):[]},x.size=function(t){return null==t?0:t.length===+t.length?t.length:x.keys(t).length},x.first=x.head=x.take=function(t,e,n){return null==t?void 0:null==e||n?t[0]:a.call(t,0,e)},x.initial=function(t,e,n){return a.call(t,0,t.length-(null==e||n?1:e))},x.last=function(t,e,n){return null==t?void 0:null==e||n?t[t.length-1]:a.call(t,Math.max(t.length-e,0))},x.rest=x.tail=x.drop=function(t,e,n){return a.call(t,null==e||n?1:e)},x.compact=function(t){return x.filter(t,x.identity)};var O=function(t,e,n){return S(t,function(t){x.isArray(t)?e?o.apply(n,t):O(t,e,n):n.push(t)}),n};x.flatten=function(t,e){return O(t,e,[])},x.without=function(t){return x.difference(t,a.call(arguments,1))},x.uniq=x.unique=function(t,e,n,i){x.isFunction(e)&&(i=n,n=e,e=!1);var s=n?x.map(t,n,i):t,r=[],o=[];return S(s,function(n,i){(e?i&&o[o.length-1]===n:x.contains(o,n))||(o.push(n),r.push(t[i]))}),r},x.union=function(){return x.uniq(l.apply(i,arguments))},x.intersection=function(t){var e=a.call(arguments,1);return x.filter(x.uniq(t),function(t){return x.every(e,function(e){return x.indexOf(e,t)>=0})})},x.difference=function(t){var e=l.apply(i,a.call(arguments,1));return x.filter(t,function(t){return!x.contains(e,t)})},x.zip=function(){for(var t=a.call(arguments),e=x.max(x.pluck(t,"length")),n=Array(e),i=0;e>i;i++)n[i]=x.pluck(t,""+i);return n},x.object=function(t,e){if(null==t)return{};for(var n={},i=0,s=t.length;s>i;i++)e?n[t[i]]=e[i]:n[t[i][0]]=t[i][1];return n},x.indexOf=function(t,e,n){if(null==t)return-1;var i=0,s=t.length;if(n){if("number"!=typeof n)return i=x.sortedIndex(t,e),t[i]===e?i:-1;i=0>n?Math.max(0,s+n):n}if(y&&t.indexOf===y)return t.indexOf(e,n);for(;s>i;i++)if(t[i]===e)return i;return-1},x.lastIndexOf=function(t,e,n){if(null==t)return-1;var i=null!=n;if(_&&t.lastIndexOf===_)return i?t.lastIndexOf(e,n):t.lastIndexOf(e);for(var s=i?n:t.length;s--;)if(t[s]===e)return s;return-1},x.range=function(t,e,n){1>=arguments.length&&(e=t||0,t=0),n=arguments[2]||1;for(var i=Math.max(Math.ceil((e-t)/n),0),s=0,r=Array(i);i>s;)r[s++]=t,t+=n;return r},x.bind=function(t,e){if(t.bind===C&&C)return C.apply(t,a.call(arguments,1));var n=a.call(arguments,2);return function(){return t.apply(e,n.concat(a.call(arguments)))}},x.partial=function(t){var e=a.call(arguments,1);return function(){return t.apply(this,e.concat(a.call(arguments)))}},x.bindAll=function(t){var e=a.call(arguments,1);return 0===e.length&&(e=x.functions(t)),S(e,function(e){t[e]=x.bind(t[e],t)}),t},x.memoize=function(t,e){var n={};return e||(e=x.identity),function(){var i=e.apply(this,arguments);return x.has(n,i)?n[i]:n[i]=t.apply(this,arguments)}},x.delay=function(t,e){var n=a.call(arguments,2);return setTimeout(function(){return t.apply(null,n)},e)},x.defer=function(t){return x.delay.apply(x,[t,1].concat(a.call(arguments,1)))},x.throttle=function(t,e){var n,i,s,r,o=0,a=function(){o=new Date,s=null,r=t.apply(n,i)};return function(){var l=new Date,c=e-(l-o);return n=this,i=arguments,0>=c?(clearTimeout(s),s=null,o=l,r=t.apply(n,i)):s||(s=setTimeout(a,c)),r}},x.debounce=function(t,e,n){var i,s;return function(){var r=this,o=arguments,a=function(){i=null,n||(s=t.apply(r,o))},l=n&&!i;return clearTimeout(i),i=setTimeout(a,e),l&&(s=t.apply(r,o)),s}},x.once=function(t){var e,n=!1;return function(){return n?e:(n=!0,e=t.apply(this,arguments),t=null,e)}},x.wrap=function(t,e){return function(){var n=[t];return o.apply(n,arguments),e.apply(this,n)}},x.compose=function(){var t=arguments;return function(){for(var e=arguments,n=t.length-1;n>=0;n--)e=[t[n].apply(this,e)];return e[0]}},x.after=function(t,e){return 0>=t?e():function(){return 1>--t?e.apply(this,arguments):void 0}},x.keys=w||function(t){if(t!==Object(t))throw new TypeError("Invalid object");var e=[];for(var n in t)x.has(t,n)&&(e[e.length]=n);return e},x.values=function(t){var e=[];for(var n in t)x.has(t,n)&&e.push(t[n]);return e},x.pairs=function(t){var e=[];for(var n in t)x.has(t,n)&&e.push([n,t[n]]);return e},x.invert=function(t){var e={};for(var n in t)x.has(t,n)&&(e[t[n]]=n);return e},x.functions=x.methods=function(t){var e=[];for(var n in t)x.isFunction(t[n])&&e.push(n);return e.sort()},x.extend=function(t){return S(a.call(arguments,1),function(e){if(e)for(var n in e)t[n]=e[n]}),t},x.pick=function(t){var e={},n=l.apply(i,a.call(arguments,1));return S(n,function(n){n in t&&(e[n]=t[n])}),e},x.omit=function(t){var e={},n=l.apply(i,a.call(arguments,1));for(var s in t)x.contains(n,s)||(e[s]=t[s]);return e},x.defaults=function(t){return S(a.call(arguments,1),function(e){if(e)for(var n in e)null==t[n]&&(t[n]=e[n])}),t},x.clone=function(t){return x.isObject(t)?x.isArray(t)?t.slice():x.extend({},t):t},x.tap=function(t,e){return e(t),t};var M=function(t,e,n,i){if(t===e)return 0!==t||1/t==1/e;if(null==t||null==e)return t===e;t instanceof x&&(t=t._wrapped),e instanceof x&&(e=e._wrapped);var s=c.call(t);if(s!=c.call(e))return!1;switch(s){case"[object String]":return t==e+"";case"[object Number]":return t!=+t?e!=+e:0==t?1/t==1/e:t==+e;case"[object Date]":case"[object Boolean]":return+t==+e;case"[object RegExp]":return t.source==e.source&&t.global==e.global&&t.multiline==e.multiline&&t.ignoreCase==e.ignoreCase}if("object"!=typeof t||"object"!=typeof e)return!1;for(var r=n.length;r--;)if(n[r]==t)return i[r]==e;n.push(t),i.push(e);var o=0,a=!0;if("[object Array]"==s){if(o=t.length,a=o==e.length)for(;o--&&(a=M(t[o],e[o],n,i)););}else{var l=t.constructor,u=e.constructor;if(l!==u&&!(x.isFunction(l)&&l instanceof l&&x.isFunction(u)&&u instanceof u))return!1;for(var h in t)if(x.has(t,h)&&(o++,!(a=x.has(e,h)&&M(t[h],e[h],n,i))))break;if(a){for(h in e)if(x.has(e,h)&&!o--)break;a=!o}}return n.pop(),i.pop(),a};x.isEqual=function(t,e){return M(t,e,[],[])},x.isEmpty=function(t){if(null==t)return!0;if(x.isArray(t)||x.isString(t))return 0===t.length;for(var e in t)if(x.has(t,e))return!1;return!0},x.isElement=function(t){return!(!t||1!==t.nodeType)},x.isArray=b||function(t){return"[object Array]"==c.call(t)},x.isObject=function(t){return t===Object(t)},S(["Arguments","Function","String","Number","Date","RegExp"],function(t){x["is"+t]=function(e){return c.call(e)=="[object "+t+"]"}}),x.isArguments(arguments)||(x.isArguments=function(t){return!(!t||!x.has(t,"callee"))}),x.isFunction=function(t){return"function"==typeof t},x.isFinite=function(t){return isFinite(t)&&!isNaN(parseFloat(t))},x.isNaN=function(t){return x.isNumber(t)&&t!=+t},x.isBoolean=function(t){return t===!0||t===!1||"[object Boolean]"==c.call(t)},x.isNull=function(t){return null===t},x.isUndefined=function(t){return void 0===t},x.has=function(t,e){return u.call(t,e)},x.noConflict=function(){return t._=e,this},x.identity=function(t){return t},x.times=function(t,e,n){for(var i=Array(t),s=0;t>s;s++)i[s]=e.call(n,s);return i},x.random=function(t,e){return null==e&&(e=t,t=0),t+Math.floor(Math.random()*(e-t+1))};var A={escape:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","/":"&#x2F;"}};A.unescape=x.invert(A.escape);var P={escape:RegExp("["+x.keys(A.escape).join("")+"]","g"),unescape:RegExp("("+x.keys(A.unescape).join("|")+")","g")};x.each(["escape","unescape"],function(t){x[t]=function(e){return null==e?"":(""+e).replace(P[t],function(e){return A[t][e]})}}),x.result=function(t,e){if(null==t)return null;var n=t[e];return x.isFunction(n)?n.call(t):n},x.mixin=function(t){S(x.functions(t),function(e){var n=x[e]=t[e];x.prototype[e]=function(){var t=[this._wrapped];return o.apply(t,arguments),H.call(this,n.apply(x,t))}})};var D=0;x.uniqueId=function(t){var e=++D+"";return t?t+e:e},x.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var N=/(.)^/,j={"'":"'","\\":"\\","\r":"r","\n":"n","	":"t","\u2028":"u2028","\u2029":"u2029"},L=/\\|'|\r|\n|\t|\u2028|\u2029/g;x.template=function(t,e,n){var i;n=x.defaults({},n,x.templateSettings);var s=RegExp([(n.escape||N).source,(n.interpolate||N).source,(n.evaluate||N).source].join("|")+"|$","g"),r=0,o="__p+='";t.replace(s,function(e,n,i,s,a){return o+=t.slice(r,a).replace(L,function(t){return"\\"+j[t]}),n&&(o+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'"),i&&(o+="'+\n((__t=("+i+"))==null?'':__t)+\n'"),s&&(o+="';\n"+s+"\n__p+='"),r=a+e.length,e}),o+="';\n",n.variable||(o="with(obj||{}){\n"+o+"}\n"),o="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+o+"return __p;\n";try{i=Function(n.variable||"obj","_",o)}catch(a){throw a.source=o,a}if(e)return i(e,x);var l=function(t){return i.call(this,t,x)};return l.source="function("+(n.variable||"obj")+"){\n"+o+"}",l},x.chain=function(t){return x(t).chain()};var H=function(t){return this._chain?x(t).chain():t};x.mixin(x),S(["pop","push","reverse","shift","sort","splice","unshift"],function(t){var e=i[t];x.prototype[t]=function(){var n=this._wrapped;return e.apply(n,arguments),"shift"!=t&&"splice"!=t||0!==n.length||delete n[0],H.call(this,n)}}),S(["concat","join","slice"],function(t){var e=i[t];x.prototype[t]=function(){return H.call(this,e.apply(this._wrapped,arguments))}}),x.extend(x.prototype,{chain:function(){return this._chain=!0,this},value:function(){return this._wrapped}})}).call(this),!function(t,e){"use strict";var n=e.prototype.trim,i=e.prototype.trimRight,s=e.prototype.trimLeft,r=function(t){return 1*t||0},o=function(t,e){if(1>e)return"";for(var n="";e>0;)1&e&&(n+=t),e>>=1,t+=t;return n},a=[].slice,l=function(t){return null==t?"\\s":t.source?t.source:"["+p.escapeRegExp(t)+"]"},c={lt:"<",gt:">",quot:'"',amp:"&",apos:"'"},u={};for(var h in c)u[c[h]]=h;u["'"]="#39";var d=function(){function t(t){return Object.prototype.toString.call(t).slice(8,-1).toLowerCase()}var n=o,i=function(){return i.cache.hasOwnProperty(arguments[0])||(i.cache[arguments[0]]=i.parse(arguments[0])),i.format.call(null,i.cache[arguments[0]],arguments)};return i.format=function(i,s){var r,o,a,l,c,u,h,p=1,f=i.length,m="",g=[];for(o=0;f>o;o++)if(m=t(i[o]),"string"===m)g.push(i[o]);else if("array"===m){if(l=i[o],l[2])for(r=s[p],a=0;l[2].length>a;a++){if(!r.hasOwnProperty(l[2][a]))throw Error(d('[_.sprintf] property "%s" does not exist',l[2][a]));r=r[l[2][a]]}else r=l[1]?s[l[1]]:s[p++];if(/[^s]/.test(l[8])&&"number"!=t(r))throw Error(d("[_.sprintf] expecting number but found %s",t(r)));switch(l[8]){case"b":r=r.toString(2);break;case"c":r=e.fromCharCode(r);break;case"d":r=parseInt(r,10);break;case"e":r=l[7]?r.toExponential(l[7]):r.toExponential();break;case"f":r=l[7]?parseFloat(r).toFixed(l[7]):parseFloat(r);break;case"o":r=r.toString(8);break;case"s":r=(r=e(r))&&l[7]?r.substring(0,l[7]):r;break;case"u":r=Math.abs(r);break;case"x":r=r.toString(16);break;case"X":r=r.toString(16).toUpperCase()}r=/[def]/.test(l[8])&&l[3]&&r>=0?"+"+r:r,u=l[4]?"0"==l[4]?"0":l[4].charAt(1):" ",h=l[6]-e(r).length,c=l[6]?n(u,h):"",g.push(l[5]?r+c:c+r)}return g.join("")},i.cache={},i.parse=function(t){for(var e=t,n=[],i=[],s=0;e;){if(null!==(n=/^[^\x25]+/.exec(e)))i.push(n[0]);else if(null!==(n=/^\x25{2}/.exec(e)))i.push("%");else{if(null===(n=/^\x25(?:([1-9]\d*)\$|\(([^\)]+)\))?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-fosuxX])/.exec(e)))throw Error("[_.sprintf] huh?");if(n[2]){s|=1;var r=[],o=n[2],a=[];if(null===(a=/^([a-z_][a-z_\d]*)/i.exec(o)))throw Error("[_.sprintf] huh?");for(r.push(a[1]);""!==(o=o.substring(a[0].length));)if(null!==(a=/^\.([a-z_][a-z_\d]*)/i.exec(o)))r.push(a[1]);else{if(null===(a=/^\[(\d+)\]/.exec(o)))throw Error("[_.sprintf] huh?");r.push(a[1])}n[2]=r}else s|=2;if(3===s)throw Error("[_.sprintf] mixing positional and named placeholders is not (yet) supported");i.push(n)}e=e.substring(n[0].length)}return i},i}(),p={VERSION:"2.3.0",isBlank:function(t){return null==t&&(t=""),/^\s*$/.test(t)},stripTags:function(t){return null==t?"":e(t).replace(/<\/?[^>]+>/g,"")},capitalize:function(t){return t=null==t?"":e(t),t.charAt(0).toUpperCase()+t.slice(1)},chop:function(t,n){return null==t?[]:(t=e(t),n=~~n,n>0?t.match(RegExp(".{1,"+n+"}","g")):[t])},clean:function(t){return p.strip(t).replace(/\s+/g," ")},count:function(t,n){if(null==t||null==n)return 0;t=e(t),n=e(n);for(var i=0,s=0,r=n.length;;){if(s=t.indexOf(n,s),-1===s)break;i++,s+=r}return i},chars:function(t){return null==t?[]:e(t).split("")},swapCase:function(t){return null==t?"":e(t).replace(/\S/g,function(t){return t===t.toUpperCase()?t.toLowerCase():t.toUpperCase()})},escapeHTML:function(t){return null==t?"":e(t).replace(/[&<>"']/g,function(t){return"&"+u[t]+";"})},unescapeHTML:function(t){return null==t?"":e(t).replace(/\&([^;]+);/g,function(t,n){var i;return n in c?c[n]:(i=n.match(/^#x([\da-fA-F]+)$/))?e.fromCharCode(parseInt(i[1],16)):(i=n.match(/^#(\d+)$/))?e.fromCharCode(~~i[1]):t})},escapeRegExp:function(t){return null==t?"":e(t).replace(/([.*+?^=!:${}()|[\]\/\\])/g,"\\$1")},splice:function(t,e,n,i){var s=p.chars(t);return s.splice(~~e,~~n,i),s.join("")},insert:function(t,e,n){return p.splice(t,e,0,n)},include:function(t,n){return""===n?!0:null==t?!1:-1!==e(t).indexOf(n)},join:function(){var t=a.call(arguments),e=t.shift();return null==e&&(e=""),t.join(e)},lines:function(t){return null==t?[]:e(t).split("\n")},reverse:function(t){return p.chars(t).reverse().join("")},startsWith:function(t,n){return""===n?!0:null==t||null==n?!1:(t=e(t),n=e(n),t.length>=n.length&&t.slice(0,n.length)===n)},endsWith:function(t,n){return""===n?!0:null==t||null==n?!1:(t=e(t),n=e(n),t.length>=n.length&&t.slice(t.length-n.length)===n)},succ:function(t){return null==t?"":(t=e(t),t.slice(0,-1)+e.fromCharCode(t.charCodeAt(t.length-1)+1))},titleize:function(t){return null==t?"":e(t).replace(/(?:^|\s)\S/g,function(t){return t.toUpperCase()})},camelize:function(t){return p.trim(t).replace(/[-_\s]+(.)?/g,function(t,e){return e.toUpperCase()})},underscored:function(t){return p.trim(t).replace(/([a-z\d])([A-Z]+)/g,"$1_$2").replace(/[-\s]+/g,"_").toLowerCase()},dasherize:function(t){return p.trim(t).replace(/([A-Z])/g,"-$1").replace(/[-_\s]+/g,"-").toLowerCase()},classify:function(t){return p.titleize(e(t).replace(/[\W_]/g," ")).replace(/\s/g,"")},humanize:function(t){return p.capitalize(p.underscored(t).replace(/_id$/,"").replace(/_/g," "))},trim:function(t,i){return null==t?"":!i&&n?n.call(t):(i=l(i),e(t).replace(RegExp("^"+i+"+|"+i+"+$","g"),""))},ltrim:function(t,n){return null==t?"":!n&&s?s.call(t):(n=l(n),e(t).replace(RegExp("^"+n+"+"),""))},rtrim:function(t,n){return null==t?"":!n&&i?i.call(t):(n=l(n),e(t).replace(RegExp(n+"+$"),""))},truncate:function(t,n,i){return null==t?"":(t=e(t),i=i||"...",n=~~n,t.length>n?t.slice(0,n)+i:t)},prune:function(t,n,i){if(null==t)return"";if(t=e(t),n=~~n,i=null!=i?e(i):"...",n>=t.length)return t;var s=function(t){return t.toUpperCase()!==t.toLowerCase()?"A":" "},r=t.slice(0,n+1).replace(/.(?=\W*\w*$)/g,s);return r=r.slice(r.length-2).match(/\w\w/)?r.replace(/\s*\S+$/,""):p.rtrim(r.slice(0,r.length-1)),(r+i).length>t.length?t:t.slice(0,r.length)+i},words:function(t,e){return p.isBlank(t)?[]:p.trim(t,e).split(e||/\s+/)},pad:function(t,n,i,s){t=null==t?"":e(t),n=~~n;var r=0;switch(i?i.length>1&&(i=i.charAt(0)):i=" ",s){case"right":return r=n-t.length,t+o(i,r);case"both":return r=n-t.length,o(i,Math.ceil(r/2))+t+o(i,Math.floor(r/2));default:return r=n-t.length,o(i,r)+t}},lpad:function(t,e,n){return p.pad(t,e,n)},rpad:function(t,e,n){return p.pad(t,e,n,"right")},lrpad:function(t,e,n){return p.pad(t,e,n,"both")},sprintf:d,vsprintf:function(t,e){return e.unshift(t),d.apply(null,e)},toNumber:function(t,e){return t?(t=p.trim(t),t.match(/^-?\d+(?:\.\d+)?$/)?r(r(t).toFixed(~~e)):0/0):0},numberFormat:function(t,e,n,i){if(isNaN(t)||null==t)return"";t=t.toFixed(~~e),i="string"==typeof i?i:",";var s=t.split("."),r=s[0],o=s[1]?(n||".")+s[1]:"";return r.replace(/(\d)(?=(?:\d{3})+$)/g,"$1"+i)+o},strRight:function(t,n){if(null==t)return"";t=e(t),n=null!=n?e(n):n;var i=n?t.indexOf(n):-1;return~i?t.slice(i+n.length,t.length):t},strRightBack:function(t,n){if(null==t)return"";t=e(t),n=null!=n?e(n):n;var i=n?t.lastIndexOf(n):-1;return~i?t.slice(i+n.length,t.length):t},strLeft:function(t,n){if(null==t)return"";t=e(t),n=null!=n?e(n):n;var i=n?t.indexOf(n):-1;return~i?t.slice(0,i):t},strLeftBack:function(t,e){if(null==t)return"";t+="",e=null!=e?""+e:e;var n=t.lastIndexOf(e);return~n?t.slice(0,n):t},toSentence:function(t,e,n,i){e=e||", ",n=n||" and ";var s=t.slice(),r=s.pop();return t.length>2&&i&&(n=p.rtrim(e)+n),s.length?s.join(e)+n+r:r},toSentenceSerial:function(){var t=a.call(arguments);return t[3]=!0,p.toSentence.apply(p,t)},slugify:function(t){if(null==t)return"";var n="ąàáäâãåæćęèéëêìíïîłńòóöôõøùúüûñçżź",i="aaaaaaaaceeeeeiiiilnoooooouuuunczz",s=RegExp(l(n),"g");return t=e(t).toLowerCase().replace(s,function(t){var e=n.indexOf(t);return i.charAt(e)||"-"}),p.dasherize(t.replace(/[^\w\s-]/g,""))},surround:function(t,e){return[e,t,e].join("")},quote:function(t){return p.surround(t,'"')},exports:function(){var t={};for(var e in this)this.hasOwnProperty(e)&&!e.match(/^(?:include|contains|reverse)$/)&&(t[e]=this[e]);return t},repeat:function(t,n,i){if(null==t)return"";if(n=~~n,null==i)return o(e(t),n);for(var s=[];n>0;s[--n]=t);return s.join(i)},levenshtein:function(t,n){if(null==t&&null==n)return 0;if(null==t)return e(n).length;if(null==n)return e(t).length;t=e(t),n=e(n);for(var i,s,r=[],o=0;n.length>=o;o++)for(var a=0;t.length>=a;a++)s=o&&a?t.charAt(a-1)===n.charAt(o-1)?i:Math.min(r[a],r[a-1],i)+1:o+a,i=r[a],r[a]=s;return r.pop()}};p.strip=p.trim,p.lstrip=p.ltrim,p.rstrip=p.rtrim,p.center=p.lrpad,p.rjust=p.lpad,p.ljust=p.rpad,p.contains=p.include,p.q=p.quote,"undefined"!=typeof exports&&("undefined"!=typeof module&&module.exports&&(module.exports=p),exports._s=p),"function"==typeof define&&define.amd&&define("underscore.string",[],function(){return p}),t._=t._||{},t._.string=t._.str=p}(this,String);var object=Object,array=Array,regexp=RegExp,date=Date,string=String,number=Number,math=Math,Undefined,globalContext="undefined"!=typeof global?global:this,definePropertySupport=object.defineProperty&&object.defineProperties,ClassNames="Array,Boolean,Date,Function,Number,String,RegExp".split(","),isArray=buildClassCheck(ClassNames[0]),isBoolean=buildClassCheck(ClassNames[1]),isDate=buildClassCheck(ClassNames[2]),isFunction=buildClassCheck(ClassNames[3]),isNumber=buildClassCheck(ClassNames[4]),isString=buildClassCheck(ClassNames[5]),isRegExp=buildClassCheck(ClassNames[6]);Hash.prototype.constructor=object,initializeClasses(),extend(Function,!0,!1,{lazy:function(t,e){function n(){l&&a.length>e-2||(a.push([this,arguments]),i())}var i,s,r,o=this,a=[],l=!1;return t=t||1,e=e||1/0,s=ceil(t),r=round(s/t),i=function(){if(!l&&0!=a.length){for(var t=math.max(a.length-r,0);a.length>t;)Function.prototype.apply.apply(o,a.shift());setDelay(n,s,function(){l=!1,i()}),l=!0}},n},delay:function(t){var e=this,n=multiArgs(arguments).slice(1);return setDelay(e,t,e,e,n),e},throttle:function(t){return this.lazy(t,1)},debounce:function(t){function e(){e.cancel(),setDelay(e,t,n,this,arguments)}var n=this;return e},cancel:function(){if(isArray(this.timers))for(;this.timers.length>0;)clearTimeout(this.timers.shift());return this},after:function(t){var e=this,n=0,i=[];if(isNumber(t)){if(0===t)return e.call(),e}else t=1;return function(){var s;return i.push(multiArgs(arguments)),n++,n==t?(s=e.call(this,i),n=0,i=[],s):void 0}},once:function(){var t=this;return function(){return hasOwnProperty(t,"memo")?t.memo:t.memo=t.apply(this,arguments)}},fill:function(){var t=this,e=multiArgs(arguments);return function(){var n=multiArgs(arguments);return e.forEach(function(t,e){(null!=t||e>=n.length)&&n.splice(e,0,t)}),t.apply(this,n)}}}),function(t,e){function n(e){return!t(e).parents().andSelf().filter(function(){return"hidden"===t.curCSS(this,"visibility")||t.expr.filters.hidden(this)}).length}function i(e,i){var s=e.nodeName.toLowerCase();if("area"===s){var r,o=e.parentNode,a=o.name;return e.href&&a&&"map"===o.nodeName.toLowerCase()?(r=t("img[usemap=#"+a+"]")[0],!!r&&n(r)):!1}return(/input|select|textarea|button|object/.test(s)?!e.disabled:"a"==s?e.href||i:i)&&n(e)}t.ui=t.ui||{},t.ui.version||(t.extend(t.ui,{version:"1.8.18",keyCode:{ALT:18,BACKSPACE:8,CAPS_LOCK:20,COMMA:188,COMMAND:91,COMMAND_LEFT:91,COMMAND_RIGHT:93,CONTROL:17,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,INSERT:45,LEFT:37,MENU:93,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SHIFT:16,SPACE:32,TAB:9,UP:38,WINDOWS:91}}),t.fn.extend({propAttr:t.fn.prop||t.fn.attr,_focus:t.fn.focus,focus:function(e,n){return"number"==typeof e?this.each(function(){var i=this;setTimeout(function(){t(i).focus(),n&&n.call(i)},e)}):this._focus.apply(this,arguments)},scrollParent:function(){var e;return e=t.browser.msie&&/(static|relative)/.test(this.css("position"))||/absolute/.test(this.css("position"))?this.parents().filter(function(){return/(relative|absolute|fixed)/.test(t.curCSS(this,"position",1))&&/(auto|scroll)/.test(t.curCSS(this,"overflow",1)+t.curCSS(this,"overflow-y",1)+t.curCSS(this,"overflow-x",1))}).eq(0):this.parents().filter(function(){return/(auto|scroll)/.test(t.curCSS(this,"overflow",1)+t.curCSS(this,"overflow-y",1)+t.curCSS(this,"overflow-x",1))}).eq(0),/fixed/.test(this.css("position"))||!e.length?t(document):e},zIndex:function(n){if(n!==e)return this.css("zIndex",n);if(this.length)for(var i,s,r=t(this[0]);r.length&&r[0]!==document;){if(i=r.css("position"),("absolute"===i||"relative"===i||"fixed"===i)&&(s=parseInt(r.css("zIndex"),10),!isNaN(s)&&0!==s))return s;r=r.parent()}return 0},disableSelection:function(){return this.bind((t.support.selectstart?"selectstart":"mousedown")+".ui-disableSelection",function(t){t.preventDefault()})},enableSelection:function(){return this.unbind(".ui-disableSelection")}}),t.each(["Width","Height"],function(n,i){function s(e,n,i,s){return t.each(r,function(){n-=parseFloat(t.curCSS(e,"padding"+this,!0))||0,i&&(n-=parseFloat(t.curCSS(e,"border"+this+"Width",!0))||0),s&&(n-=parseFloat(t.curCSS(e,"margin"+this,!0))||0)}),n}var r="Width"===i?["Left","Right"]:["Top","Bottom"],o=i.toLowerCase(),a={innerWidth:t.fn.innerWidth,innerHeight:t.fn.innerHeight,outerWidth:t.fn.outerWidth,outerHeight:t.fn.outerHeight};t.fn["inner"+i]=function(n){return n===e?a["inner"+i].call(this):this.each(function(){t(this).css(o,s(this,n)+"px")})},t.fn["outer"+i]=function(e,n){return"number"!=typeof e?a["outer"+i].call(this,e):this.each(function(){t(this).css(o,s(this,e,!0,n)+"px")})}}),t.extend(t.expr[":"],{data:function(e,n,i){return!!t.data(e,i[3])},focusable:function(e){return i(e,!isNaN(t.attr(e,"tabindex")))},tabbable:function(e){var n=t.attr(e,"tabindex"),s=isNaN(n);return(s||n>=0)&&i(e,!s)}}),t(function(){var e=document.body,n=e.appendChild(n=document.createElement("div"));n.offsetHeight,t.extend(n.style,{minHeight:"100px",height:"auto",padding:0,borderWidth:0}),t.support.minHeight=100===n.offsetHeight,t.support.selectstart="onselectstart"in n,e.removeChild(n).style.display="none"}),t.extend(t.ui,{plugin:{add:function(e,n,i){var s=t.ui[e].prototype;for(var r in i)s.plugins[r]=s.plugins[r]||[],s.plugins[r].push([n,i[r]])},call:function(t,e,n){var i=t.plugins[e];
if(i&&t.element[0].parentNode)for(var s=0;i.length>s;s++)t.options[i[s][0]]&&i[s][1].apply(t.element,n)}},contains:function(t,e){return document.compareDocumentPosition?16&t.compareDocumentPosition(e):t!==e&&t.contains(e)},hasScroll:function(e,n){if("hidden"===t(e).css("overflow"))return!1;var i=n&&"left"===n?"scrollLeft":"scrollTop",s=!1;return e[i]>0?!0:(e[i]=1,s=e[i]>0,e[i]=0,s)},isOverAxis:function(t,e,n){return t>e&&e+n>t},isOver:function(e,n,i,s,r,o){return t.ui.isOverAxis(e,i,r)&&t.ui.isOverAxis(n,s,o)}}))}(jQuery),function(t,e){if(t.cleanData){var n=t.cleanData;t.cleanData=function(e){for(var i,s=0;null!=(i=e[s]);s++)try{t(i).triggerHandler("remove")}catch(r){}n(e)}}else{var i=t.fn.remove;t.fn.remove=function(e,n){return this.each(function(){return n||(!e||t.filter(e,[this]).length)&&t("*",this).add([this]).each(function(){try{t(this).triggerHandler("remove")}catch(e){}}),i.call(t(this),e,n)})}}t.widget=function(e,n,i){var s,r=e.split(".")[0];e=e.split(".")[1],s=r+"-"+e,i||(i=n,n=t.Widget),t.expr[":"][s]=function(n){return!!t.data(n,e)},t[r]=t[r]||{},t[r][e]=function(t,e){arguments.length&&this._createWidget(t,e)};var o=new n;o.options=t.extend(!0,{},o.options),t[r][e].prototype=t.extend(!0,o,{namespace:r,widgetName:e,widgetEventPrefix:t[r][e].prototype.widgetEventPrefix||e,widgetBaseClass:s},i),t.widget.bridge(e,t[r][e])},t.widget.bridge=function(n,i){t.fn[n]=function(s){var r="string"==typeof s,o=Array.prototype.slice.call(arguments,1),a=this;return s=!r&&o.length?t.extend.apply(null,[!0,s].concat(o)):s,r&&"_"===s.charAt(0)?a:(r?this.each(function(){var i=t.data(this,n),r=i&&t.isFunction(i[s])?i[s].apply(i,o):i;return r!==i&&r!==e?(a=r,!1):void 0}):this.each(function(){var e=t.data(this,n);e?e.option(s||{})._init():t.data(this,n,new i(s,this))}),a)}},t.Widget=function(t,e){arguments.length&&this._createWidget(t,e)},t.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",options:{disabled:!1},_createWidget:function(e,n){t.data(n,this.widgetName,this),this.element=t(n),this.options=t.extend(!0,{},this.options,this._getCreateOptions(),e);var i=this;this.element.bind("remove."+this.widgetName,function(){i.destroy()}),this._create(),this._trigger("create"),this._init()},_getCreateOptions:function(){return t.metadata&&t.metadata.get(this.element[0])[this.widgetName]},_create:function(){},_init:function(){},destroy:function(){this.element.unbind("."+this.widgetName).removeData(this.widgetName),this.widget().unbind("."+this.widgetName).removeAttr("aria-disabled").removeClass(this.widgetBaseClass+"-disabled "+"ui-state-disabled")},widget:function(){return this.element},option:function(n,i){var s=n;if(0===arguments.length)return t.extend({},this.options);if("string"==typeof n){if(i===e)return this.options[n];s={},s[n]=i}return this._setOptions(s),this},_setOptions:function(e){var n=this;return t.each(e,function(t,e){n._setOption(t,e)}),this},_setOption:function(t,e){return this.options[t]=e,"disabled"===t&&this.widget()[e?"addClass":"removeClass"](this.widgetBaseClass+"-disabled"+" "+"ui-state-disabled").attr("aria-disabled",e),this},enable:function(){return this._setOption("disabled",!1)},disable:function(){return this._setOption("disabled",!0)},_trigger:function(e,n,i){var s,r,o=this.options[e];if(i=i||{},n=t.Event(n),n.type=(e===this.widgetEventPrefix?e:this.widgetEventPrefix+e).toLowerCase(),n.target=this.element[0],r=n.originalEvent,r)for(s in r)s in n||(n[s]=r[s]);return this.element.trigger(n,i),!(t.isFunction(o)&&o.call(this.element[0],n,i)===!1||n.isDefaultPrevented())}}}(jQuery),function(t){t.widget("ui.stars",{options:{inputType:"radio",split:0,disabled:!1,cancelTitle:"Cancel Rating",cancelValue:0,cancelShow:!0,disableValue:!0,oneVoteOnly:!1,showTitles:!1,captionEl:null,callback:null,starWidth:16,cancelClass:"ui-stars-cancel",starClass:"ui-stars-star",starOnClass:"ui-stars-star-on",starHoverClass:"ui-stars-star-hover",starDisabledClass:"ui-stars-star-disabled",cancelHoverClass:"ui-stars-cancel-hover",cancelDisabledClass:"ui-stars-cancel-disabled"},_create:function(){function e(t,e){if(-1!=t){var r=e?s.starHoverClass:s.starOnClass,o=e?s.starOnClass:s.starHoverClass;i.$stars.eq(t).prevAll("."+s.starClass).andSelf().removeClass(o).addClass(r),i.$stars.eq(t).nextAll("."+s.starClass).removeClass(s.starHoverClass+" "+s.starOnClass),i._showCap(s.id2title[t])}else n()}function n(){i.$stars.removeClass(s.starOnClass+" "+s.starHoverClass),i._showCap("")}var i=this,s=this.options,r=0;this.element.data("former.stars",this.element.html()),s.isSelect="select"==s.inputType,this.$form=t(this.element).closest("form"),this.$selec=s.isSelect?t("select",this.element):null,this.$rboxs=s.isSelect?t("option",this.$selec):t(":radio",this.element),this.$stars=this.$rboxs.map(function(e){var n={value:this.value,title:(s.isSelect?this.text:this.title)||this.value,isDefault:s.isSelect&&this.defaultSelected||this.defaultChecked};if(0==e&&(s.split="number"!=typeof s.split?0:s.split,s.val2id=[],s.id2val=[],s.id2title=[],s.name=s.isSelect?i.$selec.get(0).name:this.name,s.disabled=s.disabled||(s.isSelect?t(i.$selec).attr("disabled"):t(this).attr("disabled"))),n.value==s.cancelValue)return s.cancelTitle=n.title,null;s.val2id[n.value]=r,s.id2val[r]=n.value,s.id2title[r]=n.title,n.isDefault&&(s.checked=r,s.value=s.defaultValue=n.value,s.title=n.title);var o=t("<div/>").addClass(s.starClass),a=t("<a/>").attr("title",s.showTitles?n.title:"").text(n.value);if(s.split){var l=r%s.split,c=Math.floor(s.starWidth/s.split);o.width(c),a.css("margin-left","-"+l*c+"px")}return r++,o.append(a).get(0)}),s.items=r,s.isSelect?this.$selec.remove():this.$rboxs.remove(),this.$cancel=t("<div/>").addClass(s.cancelClass).append(t("<a/>").attr("title",s.showTitles?s.cancelTitle:"").text(s.cancelValue)),s.cancelShow&=!s.disabled&&!s.oneVoteOnly,s.cancelShow&&this.element.append(this.$cancel),this.element.append(this.$stars),void 0===s.checked&&(s.checked=-1,s.value=s.defaultValue=s.cancelValue,s.title=""),this.$value=t("<input type='hidden' name='"+s.name+"' value='"+s.value+"' />"),this.element.append(this.$value),this.$stars.bind("click.stars",function(t){if(!s.forceSelect&&s.disabled)return!1;var n=i.$stars.index(this);s.checked=n,s.value=s.id2val[n],s.title=s.id2title[n],i.$value.attr({disabled:s.disabled?"disabled":"",value:s.value}),e(n,!1),i._disableCancel(),!s.forceSelect&&i.callback(t,"star")}).bind("mouseover.stars",function(){if(s.disabled)return!1;var t=i.$stars.index(this);e(t,!0)}).bind("mouseout.stars",function(){return s.disabled?!1:(e(i.options.checked,!1),void 0)}),this.$cancel.bind("click.stars",function(t){return s.forceSelect||!s.disabled&&s.value!=s.cancelValue?(s.checked=-1,s.value=s.cancelValue,s.title="",i.$value.val(s.value),s.disableValue&&i.$value.attr({disabled:"disabled"}),n(),i._disableCancel(),!s.forceSelect&&i.callback(t,"cancel"),void 0):!1}).bind("mouseover.stars",function(){return i._disableCancel()?!1:(i.$cancel.addClass(s.cancelHoverClass),n(),i._showCap(s.cancelTitle),void 0)}).bind("mouseout.stars",function(){return i._disableCancel()?!1:(i.$cancel.removeClass(s.cancelHoverClass),i.$stars.triggerHandler("mouseout.stars"),void 0)}),this.$form.bind("reset.stars",function(){!s.disabled&&i.select(s.defaultValue)}),t(window).unload(function(){i.$cancel.unbind(".stars"),i.$stars.unbind(".stars"),i.$form.unbind(".stars"),i.$selec=i.$rboxs=i.$stars=i.$value=i.$cancel=i.$form=null}),this.select(s.value),s.disabled&&this.disable()},_disableCancel:function(){var t=this.options,e=t.disabled||t.oneVoteOnly||t.value==t.cancelValue;return e?this.$cancel.removeClass(t.cancelHoverClass).addClass(t.cancelDisabledClass):this.$cancel.removeClass(t.cancelDisabledClass),this.$cancel.css("opacity",e?.5:1),e},_disableAll:function(){var t=this.options;this._disableCancel(),t.disabled?this.$stars.filter("div").addClass(t.starDisabledClass):this.$stars.filter("div").removeClass(t.starDisabledClass)},_showCap:function(t){var e=this.options;e.captionEl&&e.captionEl.text(t)},value:function(){return this.options.value},select:function(t){var e=this.options,n=t==e.cancelValue?this.$cancel:this.$stars.eq(e.val2id[t]);e.forceSelect=!0,n.triggerHandler("click.stars"),e.forceSelect=!1},selectID:function(t){var e=this.options,n=-1==t?this.$cancel:this.$stars.eq(t);e.forceSelect=!0,n.triggerHandler("click.stars"),e.forceSelect=!1},enable:function(){this.options.disabled=!1,this._disableAll()},disable:function(){this.options.disabled=!0,this._disableAll()},destroy:function(){return this.$form.unbind(".stars"),this.$cancel.unbind(".stars").remove(),this.$stars.unbind(".stars").remove(),this.$value.remove(),this.element.unbind(".stars").html(this.element.data("former.stars")).removeData("stars"),this},callback:function(t,e){var n=this.options;n.callback&&n.callback(this,e,n.value,t),n.oneVoteOnly&&!n.disabled&&this.disable()}}),t.extend(t.ui.stars,{version:"3.0.1"})}(jQuery),function(t,e,n){"$:nomunge";function i(){s=e[a](function(){r.each(function(){var e=t(this),n=e.width(),i=e.height(),s=t.data(this,c);(n!==s.w||i!==s.h)&&e.trigger(l,[s.w=n,s.h=i])}),i()},o[u])}var s,r=t([]),o=t.resize=t.extend(t.resize,{}),a="setTimeout",l="resize",c=l+"-special-event",u="delay",h="throttleWindow";o[u]=250,o[h]=!0,t.event.special[l]={setup:function(){if(!o[h]&&this[a])return!1;var e=t(this);r=r.add(e),t.data(this,c,{w:e.width(),h:e.height()}),1===r.length&&i()},teardown:function(){if(!o[h]&&this[a])return!1;var e=t(this);r=r.not(e),e.removeData(c),r.length||clearTimeout(s)},add:function(e){function i(e,i,r){var o=t(this),a=t.data(this,c);a.w=i!==n?i:o.width(),a.h=r!==n?r:o.height(),s.apply(this,arguments)}if(!o[h]&&this[a])return!1;var s;return t.isFunction(e)?(s=e,i):(s=e.handler,e.handler=i,n)}}}(jQuery,this),function(t,e,n){"use strict";var i,s,r,o,a,l,c,u,h,d,p,f,m,g,v,y,_,b,w,C,x;C={paneClass:"pane",sliderClass:"slider",contentClass:"content",iOSNativeScrolling:!1,preventPageScrolling:!1,disableResize:!1,alwaysVisible:!1,flashDelay:1500,sliderMinHeight:20,sliderMaxHeight:null},y="scrollbar",v="scroll",u="mousedown",h="mousemove",p="mousewheel",d="mouseup",g="resize",a="drag",b="up",m="panedown",r="DOMMouseScroll",o="down",w="wheel",l="keydown",c="keyup",_="touchmove",i="Microsoft Internet Explorer"===e.navigator.appName&&/msie 7./i.test(e.navigator.appVersion)&&e.ActiveXObject,s=null,x=function(){var t,e,i;return t=n.createElement("div"),e=t.style,e.position="absolute",e.width="100px",e.height="100px",e.overflow=v,e.top="-9999px",n.body.appendChild(t),i=t.offsetWidth-t.clientWidth,n.body.removeChild(t),i},f=function(){function l(i,r){this.el=i,this.options=r,s||(s=x()),this.$el=t(this.el),this.doc=t(n),this.win=t(e),this.$content=this.$el.children("."+r.contentClass),this.$content.attr("tabindex",0),this.content=this.$content[0],this.options.iOSNativeScrolling&&null!=this.el.style.WebkitOverflowScrolling?this.nativeScrolling():this.generate(),this.createEvents(),this.addEvents(),this.reset()}return l.prototype.preventScrolling=function(t,e){if(this.isActive)if(t.type===r)(e===o&&t.originalEvent.detail>0||e===b&&0>t.originalEvent.detail)&&t.preventDefault();else if(t.type===p){if(!t.originalEvent||!t.originalEvent.wheelDelta)return;(e===o&&0>t.originalEvent.wheelDelta||e===b&&t.originalEvent.wheelDelta>0)&&t.preventDefault()}},l.prototype.nativeScrolling=function(){this.$content.css({WebkitOverflowScrolling:"touch"}),this.iOSNativeScrolling=!0,this.isActive=!0},l.prototype.updateScrollValues=function(){var t;t=this.content,this.maxScrollTop=t.scrollHeight-t.clientHeight,this.contentScrollTop=t.scrollTop,this.iOSNativeScrolling||(this.maxSliderTop=this.paneHeight-this.sliderHeight,this.sliderTop=this.contentScrollTop*this.maxSliderTop/this.maxScrollTop)},l.prototype.createEvents=function(){var t=this;this.events={down:function(e){return t.isBeingDragged=!0,t.offsetY=e.pageY-t.slider.offset().top,t.pane.addClass("active"),t.doc.bind(h,t.events[a]).bind(d,t.events[b]),!1},drag:function(e){return t.sliderY=e.pageY-t.$el.offset().top-t.offsetY,t.scroll(),t.updateScrollValues(),t.contentScrollTop>=t.maxScrollTop?t.$el.trigger("scrollend"):0===t.contentScrollTop&&t.$el.trigger("scrolltop"),!1},up:function(){return t.isBeingDragged=!1,t.pane.removeClass("active"),t.doc.unbind(h,t.events[a]).unbind(d,t.events[b]),!1},resize:function(){t.reset()},panedown:function(e){return t.sliderY=(e.offsetY||e.originalEvent.layerY)-.5*t.sliderHeight,t.scroll(),t.events.down(e),!1},scroll:function(e){t.isBeingDragged||(t.updateScrollValues(),t.iOSNativeScrolling||(t.sliderY=t.sliderTop,t.slider.css({top:t.sliderTop})),null!=e&&(t.contentScrollTop>=t.maxScrollTop?(t.options.preventPageScrolling&&t.preventScrolling(e,o),t.$el.trigger("scrollend")):0===t.contentScrollTop&&(t.options.preventPageScrolling&&t.preventScrolling(e,b),t.$el.trigger("scrolltop"))))},wheel:function(e){return null!=e?(t.sliderY+=-e.wheelDeltaY||-e.delta,t.scroll(),!1):void 0}}},l.prototype.addEvents=function(){var t;this.removeEvents(),t=this.events,this.options.disableResize||this.win.bind(g,t[g]),this.iOSNativeScrolling||(this.slider.bind(u,t[o]),this.pane.bind(u,t[m]).bind(""+p+" "+r,t[w])),this.$content.bind(""+v+" "+p+" "+r+" "+_,t[v])},l.prototype.removeEvents=function(){var t;t=this.events,this.win.unbind(g,t[g]),this.iOSNativeScrolling||(this.slider.unbind(),this.pane.unbind()),this.$content.unbind(""+v+" "+p+" "+r+" "+_,t[v])},l.prototype.generate=function(){var t,e,n,i,r;return n=this.options,i=n.paneClass,r=n.sliderClass,t=n.contentClass,this.$el.find(""+i).length||this.$el.find(""+r).length||this.$el.append('<div class="'+i+'"><div class="'+r+'" /></div>'),this.slider=this.$el.find("."+r),this.pane=this.$el.find("."+i),s&&(e="rtl"===this.$el.css("direction")?{left:-s}:{right:-s},this.$el.addClass("has-scrollbar")),null!=e&&this.$content.css(e),this},l.prototype.restore=function(){this.stopped=!1,this.pane.show(),this.addEvents()},l.prototype.reset=function(){var t,e,n,r,o,a,l,c,u;return this.iOSNativeScrolling?(this.contentHeight=this.content.scrollHeight,void 0):(this.$el.find("."+this.options.paneClass).length||this.generate().stop(),this.stopped&&this.restore(),t=this.content,n=t.style,r=n.overflowY,i&&this.$content.css({height:this.$content.height()}),e=t.scrollHeight+s,a=this.pane.outerHeight(),c=parseInt(this.pane.css("top"),10),o=parseInt(this.pane.css("bottom"),10),l=a+c+o,u=Math.round(l/e*l),this.options.sliderMinHeight>u?u=this.options.sliderMinHeight:null!=this.options.sliderMaxHeight&&u>this.options.sliderMaxHeight&&(u=this.options.sliderMaxHeight),r===v&&n.overflowX!==v&&(u+=s),this.maxSliderTop=l-u,this.contentHeight=e,this.paneHeight=a,this.paneOuterHeight=l,this.sliderHeight=u,this.slider.height(u),this.events.scroll(),this.pane.show(),this.isActive=!0,t.scrollHeight===t.clientHeight||this.pane.outerHeight(!0)>=t.scrollHeight&&r!==v?(this.pane.hide(),this.isActive=!1):this.el.clientHeight===t.scrollHeight&&r===v?this.slider.hide():this.slider.show(),this.pane.css({opacity:this.options.alwaysVisible?1:"",visibility:this.options.alwaysVisible?"visible":""}),this)},l.prototype.scroll=function(){return this.isActive?(this.sliderY=Math.max(0,this.sliderY),this.sliderY=Math.min(this.maxSliderTop,this.sliderY),this.$content.scrollTop(-1*((this.paneHeight-this.contentHeight+s)*this.sliderY/this.maxSliderTop)),this.iOSNativeScrolling||this.slider.css({top:this.sliderY}),this):void 0},l.prototype.scrollBottom=function(t){return this.isActive?(this.reset(),this.$content.scrollTop(this.contentHeight-this.$content.height()-t).trigger(p),this):void 0},l.prototype.scrollTop=function(t){return this.isActive?(this.reset(),this.$content.scrollTop(+t).trigger(p),this):void 0},l.prototype.scrollTo=function(e){return this.isActive?(this.reset(),this.scrollTop(t(e).get(0).offsetTop),this):void 0},l.prototype.stop=function(){return this.stopped=!0,this.removeEvents(),this.pane.hide(),this},l.prototype.flash=function(){var t=this;if(this.isActive)return this.reset(),this.pane.addClass("flashed"),setTimeout(function(){t.pane.removeClass("flashed")},this.options.flashDelay),this},l}(),t.fn.nanoScroller=function(e){return this.each(function(){var n,i;if((i=this.nanoscroller)||(n=t.extend({},C,e),this.nanoscroller=i=new f(this,n)),e&&"object"==typeof e){if(t.extend(i.options,e),e.scrollBottom)return i.scrollBottom(e.scrollBottom);if(e.scrollTop)return i.scrollTop(e.scrollTop);if(e.scrollTo)return i.scrollTo(e.scrollTo);if("bottom"===e.scroll)return i.scrollBottom(0);if("top"===e.scroll)return i.scrollTop(0);if(e.scroll&&e.scroll instanceof t)return i.scrollTo(e.scroll);if(e.stop)return i.stop();if(e.flash)return i.flash()}return i.reset()})}}(jQuery,window,document),function(t,e){"use strict";var n,i=t.document,s=t.Modernizr,r=function(t){return t.charAt(0).toUpperCase()+t.slice(1)},o="Moz Webkit O Ms".split(" "),a=function(t){var e,n=i.documentElement.style;if("string"==typeof n[t])return t;t=r(t);for(var s=0,a=o.length;a>s;s++)if(e=o[s]+t,"string"==typeof n[e])return e},l=a("transform"),c=a("transitionProperty"),u={csstransforms:function(){return!!l},csstransforms3d:function(){var t=!!a("perspective");if(t){var n=" -o- -moz- -ms- -webkit- -khtml- ".split(" "),i="@media ("+n.join("transform-3d),(")+"modernizr)",s=e("<style>"+i+"{#modernizr{height:3px}}"+"</style>").appendTo("head"),r=e('<div id="modernizr" />').appendTo("html");t=3===r.height(),r.remove(),s.remove()}return t},csstransitions:function(){return!!c}};if(s)for(n in u)s.hasOwnProperty(n)||s.addTest(n,u[n]);else{s=t.Modernizr={_version:"1.6ish: miniModernizr for Isotope"};var h,d=" ";for(n in u)h=u[n](),s[n]=h,d+=" "+(h?"":"no-")+n;e("html").addClass(d)}if(s.csstransforms){var p=s.csstransforms3d?{translate:function(t){return"translate3d("+t[0]+"px, "+t[1]+"px, 0) "},scale:function(t){return"scale3d("+t+", "+t+", 1) "}}:{translate:function(t){return"translate("+t[0]+"px, "+t[1]+"px) "},scale:function(t){return"scale("+t+") "}},f=function(t,n,i){var s,r,o=e.data(t,"isoTransform")||{},a={},c={};a[n]=i,e.extend(o,a);for(s in o)r=o[s],c[s]=p[s](r);var u=c.translate||"",h=c.scale||"",d=u+h;e.data(t,"isoTransform",o),t.style[l]=d};e.cssNumber.scale=!0,e.cssHooks.scale={set:function(t,e){f(t,"scale",e)},get:function(t){var n=e.data(t,"isoTransform");return n&&n.scale?n.scale:1}},e.fx.step.scale=function(t){e.cssHooks.scale.set(t.elem,t.now+t.unit)},e.cssNumber.translate=!0,e.cssHooks.translate={set:function(t,e){f(t,"translate",e)},get:function(t){var n=e.data(t,"isoTransform");return n&&n.translate?n.translate:[0,0]}}}var m,g;s.csstransitions&&(m={WebkitTransitionProperty:"webkitTransitionEnd",MozTransitionProperty:"transitionend",OTransitionProperty:"oTransitionEnd otransitionend",transitionProperty:"transitionend"}[c],g=a("transitionDuration"));var v,y=e.event;y.special.smartresize={setup:function(){e(this).bind("resize",y.special.smartresize.handler)},teardown:function(){e(this).unbind("resize",y.special.smartresize.handler)},handler:function(t,e){var n=this,i=arguments;t.type="smartresize",v&&clearTimeout(v),v=setTimeout(function(){jQuery.event.handle.apply(n,i)},"execAsap"===e?0:100)}},e.fn.smartresize=function(t){return t?this.bind("smartresize",t):this.trigger("smartresize",["execAsap"])},e.Isotope=function(t,n,i){this.element=e(n),this._create(t),this._init(i)};var _=["width","height"],b=e(t);e.Isotope.settings={resizable:!0,layoutMode:"masonry",containerClass:"isotope",itemClass:"isotope-item",hiddenClass:"isotope-hidden",hiddenStyle:{opacity:0,scale:.001},visibleStyle:{opacity:1,scale:1},containerStyle:{position:"relative",overflow:"hidden"},animationEngine:"best-available",animationOptions:{queue:!1,duration:800},sortBy:"original-order",sortAscending:!0,resizesContainer:!0,transformsEnabled:!0,itemPositionDataEnabled:!1},e.Isotope.prototype={_create:function(t){this.options=e.extend({},e.Isotope.settings,t),this.styleQueue=[],this.elemCount=0;var n=this.element[0].style;this.originalStyle={};var i=_.slice(0);for(var s in this.options.containerStyle)i.push(s);for(var r=0,o=i.length;o>r;r++)s=i[r],this.originalStyle[s]=n[s]||"";this.element.css(this.options.containerStyle),this._updateAnimationEngine(),this._updateUsingTransforms();var a={"original-order":function(t,e){return e.elemCount++,e.elemCount},random:function(){return Math.random()}};this.options.getSortData=e.extend(this.options.getSortData,a),this.reloadItems(),this.offset={left:parseInt(this.element.css("padding-left")||0,10),top:parseInt(this.element.css("padding-top")||0,10)};var l=this;setTimeout(function(){l.element.addClass(l.options.containerClass)},0),this.options.resizable&&b.bind("smartresize.isotope",function(){l.resize()}),this.element.delegate("."+this.options.hiddenClass,"click",function(){return!1})},_getAtoms:function(t){var e=this.options.itemSelector,n=e?t.filter(e).add(t.find(e)):t,i={position:"absolute"};return n=n.filter(function(t,e){return 1===e.nodeType}),this.usingTransforms&&(i.left=0,i.top=0),n.css(i).addClass(this.options.itemClass),this.updateSortData(n,!0),n},_init:function(t){this.$filteredAtoms=this._filter(this.$allAtoms),this._sort(),this.reLayout(t)},option:function(t){if(e.isPlainObject(t)){this.options=e.extend(!0,this.options,t);var n;for(var i in t)n="_update"+r(i),this[n]&&this[n]()}},_updateAnimationEngine:function(){var t,e=this.options.animationEngine.toLowerCase().replace(/[ _\-]/g,"");switch(e){case"css":case"none":t=!1;break;case"jquery":t=!0;break;default:t=!s.csstransitions}this.isUsingJQueryAnimation=t,this._updateUsingTransforms()},_updateTransformsEnabled:function(){this._updateUsingTransforms()},_updateUsingTransforms:function(){var t=this.usingTransforms=this.options.transformsEnabled&&s.csstransforms&&s.csstransitions&&!this.isUsingJQueryAnimation;t||(delete this.options.hiddenStyle.scale,delete this.options.visibleStyle.scale),this.getPositionStyles=t?this._translate:this._positionAbs},_filter:function(t){var e=""===this.options.filter?"*":this.options.filter;if(!e)return t;var n=this.options.hiddenClass,i="."+n,s=t.filter(i),r=s;if("*"!==e){r=s.filter(e);var o=t.not(i).not(e).addClass(n);this.styleQueue.push({$el:o,style:this.options.hiddenStyle})}return this.styleQueue.push({$el:r,style:this.options.visibleStyle}),r.removeClass(n),t.filter(e)},updateSortData:function(t,n){var i,s,r=this,o=this.options.getSortData;t.each(function(){i=e(this),s={};for(var t in o)s[t]=n||"original-order"!==t?o[t](i,r):e.data(this,"isotope-sort-data")[t];e.data(this,"isotope-sort-data",s)})},_sort:function(){var t=this.options.sortBy,e=this._getSorter,n=this.options.sortAscending?1:-1,i=function(i,s){var r=e(i,t),o=e(s,t);return r===o&&"original-order"!==t&&(r=e(i,"original-order"),o=e(s,"original-order")),(r>o?1:o>r?-1:0)*n};this.$filteredAtoms.sort(i)},_getSorter:function(t,n){return e.data(t,"isotope-sort-data")[n]},_translate:function(t,e){return{translate:[t,e]}},_positionAbs:function(t,e){return{left:t,top:e}},_pushPosition:function(t,e,n){e=Math.round(e+this.offset.left),n=Math.round(n+this.offset.top);var i=this.getPositionStyles(e,n);this.styleQueue.push({$el:t,style:i}),this.options.itemPositionDataEnabled&&t.data("isotope-item-position",{x:e,y:n})},layout:function(t,e){var n=this.options.layoutMode;if(this["_"+n+"Layout"](t),this.options.resizesContainer){var i=this["_"+n+"GetContainerSize"]();this.styleQueue.push({$el:this.element,style:i})}this._processStyleQueue(t,e),this.isLaidOut=!0},_processStyleQueue:function(t,n){var i,r,o,a,l=this.isLaidOut?this.isUsingJQueryAnimation?"animate":"css":"css",c=this.options.animationOptions,u=this.options.onLayout;if(r=function(t,e){e.$el[l](e.style,c)},this._isInserting&&this.isUsingJQueryAnimation)r=function(t,e){i=e.$el.hasClass("no-transition")?"css":l,e.$el[i](e.style,c)};else if(n||u||c.complete){var h=!1,d=[n,u,c.complete],p=this;if(o=!0,a=function(){if(!h){for(var e,n=0,i=d.length;i>n;n++)e=d[n],"function"==typeof e&&e.call(p.element,t,p);h=!0}},this.isUsingJQueryAnimation&&"animate"===l)c.complete=a,o=!1;else if(s.csstransitions){for(var f,v=0,y=this.styleQueue[0],_=y&&y.$el;!_||!_.length;){if(f=this.styleQueue[v++],!f)return;_=f.$el}var b=parseFloat(getComputedStyle(_[0])[g]);b>0&&(r=function(t,e){e.$el[l](e.style,c).one(m,a)},o=!1)}}e.each(this.styleQueue,r),o&&a(),this.styleQueue=[]},resize:function(){this["_"+this.options.layoutMode+"ResizeChanged"]()&&this.reLayout()},reLayout:function(t){this["_"+this.options.layoutMode+"Reset"](),this.layout(this.$filteredAtoms,t)},addItems:function(t,e){var n=this._getAtoms(t);this.$allAtoms=this.$allAtoms.add(n),e&&e(n)},insert:function(t,e){this.element.append(t);var n=this;this.addItems(t,function(t){var i=n._filter(t);n._addHideAppended(i),n._sort(),n.reLayout(),n._revealAppended(i,e)})},appended:function(t,e){var n=this;this.addItems(t,function(t){n._addHideAppended(t),n.layout(t),n._revealAppended(t,e)})},_addHideAppended:function(t){this.$filteredAtoms=this.$filteredAtoms.add(t),t.addClass("no-transition"),this._isInserting=!0,this.styleQueue.push({$el:t,style:this.options.hiddenStyle})},_revealAppended:function(t,e){var n=this;setTimeout(function(){t.removeClass("no-transition"),n.styleQueue.push({$el:t,style:n.options.visibleStyle}),n._isInserting=!1,n._processStyleQueue(t,e)},10)},reloadItems:function(){this.$allAtoms=this._getAtoms(this.element.children())},remove:function(t,e){this.$allAtoms=this.$allAtoms.not(t),this.$filteredAtoms=this.$filteredAtoms.not(t);var n=this,i=function(){t.remove(),e&&e.call(n.element)};t.filter(":not(."+this.options.hiddenClass+")").length?(this.styleQueue.push({$el:t,style:this.options.hiddenStyle}),this._sort(),this.reLayout(i)):i()},shuffle:function(t){this.updateSortData(this.$allAtoms),this.options.sortBy="random",this._sort(),this.reLayout(t)},destroy:function(){var t=this.usingTransforms,e=this.options;this.$allAtoms.removeClass(e.hiddenClass+" "+e.itemClass).each(function(){var e=this.style;e.position="",e.top="",e.left="",e.opacity="",t&&(e[l]="")});var n=this.element[0].style;for(var i in this.originalStyle)n[i]=this.originalStyle[i];this.element.unbind(".isotope").undelegate("."+e.hiddenClass,"click").removeClass(e.containerClass).removeData("isotope"),b.unbind(".isotope")},_getSegments:function(t){var e,n=this.options.layoutMode,i=t?"rowHeight":"columnWidth",s=t?"height":"width",o=t?"rows":"cols",a=this.element[s](),l=this.options[n]&&this.options[n][i]||this.$filteredAtoms["outer"+r(s)](!0)||a;e=Math.floor(a/l),e=Math.max(e,1),this[n][o]=e,this[n][i]=l},_checkIfSegmentsChanged:function(t){var e=this.options.layoutMode,n=t?"rows":"cols",i=this[e][n];return this._getSegments(t),this[e][n]!==i},_masonryReset:function(){this.masonry={},this._getSegments();var t=this.masonry.cols;for(this.masonry.colYs=[];t--;)this.masonry.colYs.push(0)},_masonryLayout:function(t){var n=this,i=n.masonry;t.each(function(){var t=e(this),s=Math.ceil(t.outerWidth(!0)/i.columnWidth);if(s=Math.min(s,i.cols),1===s)n._masonryPlaceBrick(t,i.colYs);else{var r,o,a=i.cols+1-s,l=[];for(o=0;a>o;o++)r=i.colYs.slice(o,o+s),l[o]=Math.max.apply(Math,r);n._masonryPlaceBrick(t,l)}})},_masonryPlaceBrick:function(t,e){for(var n=Math.min.apply(Math,e),i=0,s=0,r=e.length;r>s;s++)if(e[s]===n){i=s;break}var o=this.masonry.columnWidth*i,a=n;this._pushPosition(t,o,a);var l=n+t.outerHeight(!0),c=this.masonry.cols+1-r;for(s=0;c>s;s++)this.masonry.colYs[i+s]=l},_masonryGetContainerSize:function(){var t=Math.max.apply(Math,this.masonry.colYs);return{height:t}},_masonryResizeChanged:function(){return this._checkIfSegmentsChanged()},_fitRowsReset:function(){this.fitRows={x:0,y:0,height:0}},_fitRowsLayout:function(t){var n=this,i=this.element.width(),s=this.fitRows;t.each(function(){var t=e(this),r=t.outerWidth(!0),o=t.outerHeight(!0);0!==s.x&&r+s.x>i&&(s.x=0,s.y=s.height),n._pushPosition(t,s.x,s.y),s.height=Math.max(s.y+o,s.height),s.x+=r})},_fitRowsGetContainerSize:function(){return{height:this.fitRows.height}},_fitRowsResizeChanged:function(){return!0},_cellsByRowReset:function(){this.cellsByRow={index:0},this._getSegments(),this._getSegments(!0)},_cellsByRowLayout:function(t){var n=this,i=this.cellsByRow;t.each(function(){var t=e(this),s=i.index%i.cols,r=Math.floor(i.index/i.cols),o=(s+.5)*i.columnWidth-t.outerWidth(!0)/2,a=(r+.5)*i.rowHeight-t.outerHeight(!0)/2;n._pushPosition(t,o,a),i.index++})},_cellsByRowGetContainerSize:function(){return{height:Math.ceil(this.$filteredAtoms.length/this.cellsByRow.cols)*this.cellsByRow.rowHeight+this.offset.top}},_cellsByRowResizeChanged:function(){return this._checkIfSegmentsChanged()},_straightDownReset:function(){this.straightDown={y:0}},_straightDownLayout:function(t){var n=this;t.each(function(){var t=e(this);n._pushPosition(t,0,n.straightDown.y),n.straightDown.y+=t.outerHeight(!0)})},_straightDownGetContainerSize:function(){return{height:this.straightDown.y}},_straightDownResizeChanged:function(){return!0},_masonryHorizontalReset:function(){this.masonryHorizontal={},this._getSegments(!0);var t=this.masonryHorizontal.rows;for(this.masonryHorizontal.rowXs=[];t--;)this.masonryHorizontal.rowXs.push(0)},_masonryHorizontalLayout:function(t){var n=this,i=n.masonryHorizontal;t.each(function(){var t=e(this),s=Math.ceil(t.outerHeight(!0)/i.rowHeight);if(s=Math.min(s,i.rows),1===s)n._masonryHorizontalPlaceBrick(t,i.rowXs);else{var r,o,a=i.rows+1-s,l=[];for(o=0;a>o;o++)r=i.rowXs.slice(o,o+s),l[o]=Math.max.apply(Math,r);n._masonryHorizontalPlaceBrick(t,l)}})},_masonryHorizontalPlaceBrick:function(t,e){for(var n=Math.min.apply(Math,e),i=0,s=0,r=e.length;r>s;s++)if(e[s]===n){i=s;break}var o=n,a=this.masonryHorizontal.rowHeight*i;this._pushPosition(t,o,a);var l=n+t.outerWidth(!0),c=this.masonryHorizontal.rows+1-r;for(s=0;c>s;s++)this.masonryHorizontal.rowXs[i+s]=l},_masonryHorizontalGetContainerSize:function(){var t=Math.max.apply(Math,this.masonryHorizontal.rowXs);return{width:t}},_masonryHorizontalResizeChanged:function(){return this._checkIfSegmentsChanged(!0)},_fitColumnsReset:function(){this.fitColumns={x:0,y:0,width:0}},_fitColumnsLayout:function(t){var n=this,i=this.element.height(),s=this.fitColumns;t.each(function(){var t=e(this),r=t.outerWidth(!0),o=t.outerHeight(!0);0!==s.y&&o+s.y>i&&(s.x=s.width,s.y=0),n._pushPosition(t,s.x,s.y),s.width=Math.max(s.x+r,s.width),s.y+=o})},_fitColumnsGetContainerSize:function(){return{width:this.fitColumns.width}},_fitColumnsResizeChanged:function(){return!0},_cellsByColumnReset:function(){this.cellsByColumn={index:0},this._getSegments(),this._getSegments(!0)},_cellsByColumnLayout:function(t){var n=this,i=this.cellsByColumn;t.each(function(){var t=e(this),s=Math.floor(i.index/i.rows),r=i.index%i.rows,o=(s+.5)*i.columnWidth-t.outerWidth(!0)/2,a=(r+.5)*i.rowHeight-t.outerHeight(!0)/2;n._pushPosition(t,o,a),i.index++})},_cellsByColumnGetContainerSize:function(){return{width:Math.ceil(this.$filteredAtoms.length/this.cellsByColumn.rows)*this.cellsByColumn.columnWidth}},_cellsByColumnResizeChanged:function(){return this._checkIfSegmentsChanged(!0)},_straightAcrossReset:function(){this.straightAcross={x:0}},_straightAcrossLayout:function(t){var n=this;t.each(function(){var t=e(this);n._pushPosition(t,n.straightAcross.x,0),n.straightAcross.x+=t.outerWidth(!0)})},_straightAcrossGetContainerSize:function(){return{width:this.straightAcross.x}},_straightAcrossResizeChanged:function(){return!0}},e.fn.imagesLoaded=function(t){function n(){t.call(s,r)}function i(t){var s=t.target;s.src!==a&&-1===e.inArray(s,l)&&(l.push(s),0>=--o&&(setTimeout(n),r.unbind(".imagesLoaded",i)))}var s=this,r=s.find("img").add(s.filter("img")),o=r.length,a="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw==",l=[];return o||n(),r.bind("load.imagesLoaded error.imagesLoaded",i).each(function(){var t=this.src;this.src=a,this.src=t}),s};var w=function(e){t.console&&t.console.error(e)};e.fn.isotope=function(t,n){if("string"==typeof t){var i=Array.prototype.slice.call(arguments,1);this.each(function(){var n=e.data(this,"isotope");return n?e.isFunction(n[t])&&"_"!==t.charAt(0)?(n[t].apply(n,i),undefined):(w("no such method '"+t+"' for isotope instance"),undefined):(w("cannot call methods on isotope prior to initialization; attempted to call method '"+t+"'"),undefined)
})}else this.each(function(){var i=e.data(this,"isotope");i?(i.option(t),i._init(n)):e.data(this,"isotope",new e.Isotope(t,this,n))});return this}}(window,jQuery);var Opentip,firstAdapter,i,position,vendors,_i,_len,_ref,__slice=[].slice,__indexOf=[].indexOf||function(t){for(var e=0,n=this.length;n>e;e++)if(e in this&&this[e]===t)return e;return-1},__hasProp={}.hasOwnProperty;for(Opentip=function(){function t(e,n,i,s){var r,o,a,l,c,u,h,d,p,f,m=this;if(this.id=++t.lastId,this.debug("Creating Opentip."),t.tips.push(this),this.adapter=t.adapter,r=this.adapter.data(e,"opentips")||[],r.push(this),this.adapter.data(e,"opentips",r),this.triggerElement=this.adapter.wrap(e),this.triggerElement.length>1)throw Error("You can't call Opentip on multiple elements.");if(1>this.triggerElement.length)throw Error("Invalid element.");for(this.loaded=!1,this.loading=!1,this.visible=!1,this.waitingToShow=!1,this.waitingToHide=!1,this.currentPosition={left:0,top:0},this.dimensions={width:100,height:50},this.content="",this.redraw=!0,this.currentObservers={showing:!1,visible:!1,hiding:!1,hidden:!1},s=this.adapter.clone(s),"object"==typeof n?(s=n,n=i=void 0):"object"==typeof i&&(s=i,i=void 0),null!=i&&(s.title=i),null!=n&&this.setContent(n),null==s["extends"]&&(s["extends"]=null!=s.style?s.style:t.defaultStyle),a=[s],f=s;f["extends"];){if(c=f["extends"],f=t.styles[c],null==f)throw Error("Invalid style: "+c);a.unshift(f),null==f["extends"]&&"standard"!==c&&(f["extends"]="standard")}for(s=(d=this.adapter).extend.apply(d,[{}].concat(__slice.call(a))),s.hideTriggers=function(){var t,e,n,i;for(n=s.hideTriggers,i=[],t=0,e=n.length;e>t;t++)o=n[t],i.push(o);return i}(),s.hideTrigger&&0===s.hideTriggers.length&&s.hideTriggers.push(s.hideTrigger),p=["tipJoint","targetJoint","stem"],u=0,h=p.length;h>u;u++)l=p[u],s[l]&&"string"==typeof s[l]&&(s[l]=new t.Joint(s[l]));!s.ajax||s.ajax!==!0&&s.ajax||(s.ajax="A"===this.adapter.tagName(this.triggerElement)?this.adapter.attr(this.triggerElement,"href"):!1),"click"===s.showOn&&"A"===this.adapter.tagName(this.triggerElement)&&this.adapter.observe(this.triggerElement,"click",function(t){return t.preventDefault(),t.stopPropagation(),t.stopped=!0}),s.target&&(s.fixed=!0),s.stem===!0&&(s.stem=new t.Joint(s.tipJoint)),s.target===!0?s.target=this.triggerElement:s.target&&(s.target=this.adapter.wrap(s.target)),this.currentStem=s.stem,null==s.delay&&(s.delay="mouseover"===s.showOn?.2:0),null==s.targetJoint&&(s.targetJoint=new t.Joint(s.tipJoint).flip()),this.showTriggers=[],this.showTriggersWhenVisible=[],this.hideTriggers=[],s.showOn&&"creation"!==s.showOn&&this.showTriggers.push({element:this.triggerElement,event:s.showOn}),this.options=s,this.adapter.domReady(function(){return m._init()})}return t.prototype.STICKS_OUT_TOP=1,t.prototype.STICKS_OUT_BOTTOM=2,t.prototype.STICKS_OUT_LEFT=1,t.prototype.STICKS_OUT_RIGHT=2,t.prototype["class"]={container:"opentip-container",opentip:"opentip",content:"content",loadingIndicator:"loading-indicator",close:"close",goingToHide:"going-to-hide",hidden:"hidden",hiding:"hiding",goingToShow:"going-to-show",showing:"showing",visible:"visible",loading:"loading",ajaxError:"ajax-error",fixed:"fixed",showEffectPrefix:"show-effect-",hideEffectPrefix:"hide-effect-",stylePrefix:"style-"},t.prototype._init=function(){var t,e,n,i,s,r,o,a,l,c,u,h,d,p,f=this;for(this._buildContainer(),h=this.options.hideTriggers,i=r=0,l=h.length;l>r;i=++r){if(e=h[i],n=null,t=this.options.hideOn instanceof Array?this.options.hideOn[i]:this.options.hideOn,"string"==typeof e)switch(e){case"trigger":t=t||"mouseout",n=this.triggerElement;break;case"tip":t=t||"mouseover",n=this.container;break;case"target":t=t||"mouseover",n=this.options.target;break;case"closeButton":break;default:throw Error("Unknown hide trigger: "+e+".")}else t=t||"mouseover",n=this.adapter.wrap(e);n&&this.hideTriggers.push({element:n,event:t,original:e})}for(d=this.hideTriggers,o=0,c=d.length;c>o;o++)e=d[o],this.showTriggersWhenVisible.push({element:e.element,event:"mouseover"});for(this.bound={},p=["prepareToShow","prepareToHide","show","hide","reposition"],a=0,u=p.length;u>a;a++)s=p[a],this.bound[s]=function(t){return function(){return f[t].apply(f,arguments)}}(s);return this.activate(),"creation"===this.options.showOn?this.prepareToShow():void 0},t.prototype._buildContainer=function(){return this.container=this.adapter.create('<div id="opentip-'+this.id+'" class="'+this["class"].container+" "+this["class"].hidden+" "+this["class"].stylePrefix+this.options.className+'"></div>'),this.adapter.css(this.container,{position:"absolute"}),this.options.ajax&&this.adapter.addClass(this.container,this["class"].loading),this.options.fixed&&this.adapter.addClass(this.container,this["class"].fixed),this.options.showEffect&&this.adapter.addClass(this.container,""+this["class"].showEffectPrefix+this.options.showEffect),this.options.hideEffect?this.adapter.addClass(this.container,""+this["class"].hideEffectPrefix+this.options.hideEffect):void 0},t.prototype._buildElements=function(){var t,e;return this.tooltipElement=this.adapter.create('<div class="'+this["class"].opentip+'"><div class="header"></div><div class="'+this["class"].content+'"></div></div>'),this.backgroundCanvas=this.adapter.wrap(document.createElement("canvas")),this.adapter.css(this.backgroundCanvas,{position:"absolute"}),"undefined"!=typeof G_vmlCanvasManager&&null!==G_vmlCanvasManager&&G_vmlCanvasManager.initElement(this.adapter.unwrap(this.backgroundCanvas)),t=this.adapter.find(this.tooltipElement,".header"),this.options.title&&(e=this.adapter.create("<h1></h1>"),this.adapter.update(e,this.options.title,this.options.escapeTitle),this.adapter.append(t,e)),this.options.ajax&&this.adapter.append(this.tooltipElement,this.adapter.create('<div class="'+this["class"].loadingIndicator+'"><span>↻</span></div>')),__indexOf.call(this.options.hideTriggers,"closeButton")>=0&&(this.closeButtonElement=this.adapter.create('<a href="javascript:undefined;" class="'+this["class"].close+'"><span>Close</span></a>'),this.adapter.append(t,this.closeButtonElement)),this.adapter.append(this.container,this.backgroundCanvas),this.adapter.append(this.container,this.tooltipElement),this.adapter.append(document.body,this.container)},t.prototype.setContent=function(t){return this.content=t,this.visible?this._updateElementContent():void 0},t.prototype._updateElementContent=function(){var t;return t=this.adapter.find(this.container,".content"),null!=t&&("function"==typeof this.content&&(this.debug("Executing content function."),this.content=this.content(this)),this.adapter.update(t,this.content,this.options.escapeContent)),this._storeAndLockDimensions(),this.reposition()},t.prototype._storeAndLockDimensions=function(){var t;return t=this.dimensions,this.adapter.css(this.container,{width:"auto",left:"0px",top:"0px"}),this.dimensions=this.adapter.dimensions(this.container),this.dimensions.width+=1,this.adapter.css(this.container,{width:""+this.dimensions.width+"px",top:""+this.currentPosition.top+"px",left:""+this.currentPosition.left+"px"}),this._dimensionsEqual(this.dimensions,t)?void 0:(this.redraw=!0,this._draw())},t.prototype.activate=function(){return this._setupObservers("-showing","-visible","hidden","hiding")},t.prototype.deactivate=function(){return this.debug("Deactivating tooltip."),this.hide()},t.prototype._setupObservers=function(){var t,e,n,i,s,r,o,a,l,c,u,h,d,p,f,m,g=this;for(i=arguments.length>=1?__slice.call(arguments,0):[],r=0,c=i.length;c>r;r++)if(n=i[r],e=!1,"-"===n.charAt(0)&&(e=!0,n=n.substr(1)),this.currentObservers[n]!==!e)switch(this.currentObservers[n]=!e,t=function(){var t,n,i;return t=arguments.length>=1?__slice.call(arguments,0):[],e?(n=g.adapter).stopObserving.apply(n,t):(i=g.adapter).observe.apply(i,t)},n){case"showing":for(p=this.hideTriggers,o=0,u=p.length;u>o;o++)s=p[o],t(s.element,s.event,this.bound.prepareToHide);t(null!=document.onresize?document:window,"resize",this.bound.reposition),t(window,"scroll",this.bound.reposition);break;case"visible":for(f=this.showTriggersWhenVisible,a=0,h=f.length;h>a;a++)s=f[a],t(s.element,s.event,this.bound.prepareToShow);break;case"hiding":for(m=this.showTriggers,l=0,d=m.length;d>l;l++)s=m[l],t(s.element,s.event,this.bound.prepareToShow);break;case"hidden":break;default:throw Error("Unknown state: "+n)}return null},t.prototype.prepareToShow=function(){return this._abortHiding(),this._abortShowing(),this.visible?void 0:(this.debug("Showing in "+this.options.delay+"s."),this.options.group&&t._abortShowingGroup(this.options.group,this),this.preparingToShow=!0,this._setupObservers("-hidden","-hiding","showing"),this._followMousePosition(),this.reposition(),this._showTimeoutId=this.setTimeout(this.bound.show,this.options.delay||0))},t.prototype.show=function(){var e=this;return this._abortHiding(),this._clearTimeouts(),this.visible?void 0:this._triggerElementExists()?(this.debug("Showing now."),this.options.group&&t._hideGroup(this.options.group,this),this.visible=!0,this.preparingToShow=!1,null==this.tooltipElement&&this._buildElements(),this._updateElementContent(),!this.options.ajax||this.loaded&&this.options.ajaxCache||this._loadAjax(),this._searchAndActivateCloseButtons(),this._startEnsureTriggerElement(),this.adapter.css(this.container,{zIndex:t.lastZIndex++}),this._setupObservers("-hidden","-hiding","-showing","-visible","showing","visible"),this.reposition(),this.adapter.removeClass(this.container,this["class"].hiding),this.adapter.removeClass(this.container,this["class"].hidden),this.adapter.addClass(this.container,this["class"].goingToShow),this.setCss3Style(this.container,{transitionDuration:"0s"}),this.defer(function(){var t;return e.adapter.removeClass(e.container,e["class"].goingToShow),e.adapter.addClass(e.container,e["class"].showing),t=0,e.options.showEffect&&e.options.showEffectDuration&&(t=e.options.showEffectDuration),e.setCss3Style(e.container,{transitionDuration:""+t+"s"}),e._visibilityStateTimeoutId=e.setTimeout(function(){return e.adapter.removeClass(e.container,e["class"].showing),e.adapter.addClass(e.container,e["class"].visible)},t),e._activateFirstInput()}),this._draw()):this.deactivate()},t.prototype._abortShowing=function(){return this.preparingToShow?(this.debug("Aborting showing."),this._clearTimeouts(),this._stopFollowingMousePosition(),this.preparingToShow=!1,this._setupObservers("-showing","-visible","hiding","hidden")):void 0},t.prototype.prepareToHide=function(){return this._abortShowing(),this._abortHiding(),this.visible?(this.debug("Hiding in "+this.options.hideDelay+"s"),this.preparingToHide=!0,this._setupObservers("-showing","visible","-hidden","hiding"),this._hideTimeoutId=this.setTimeout(this.bound.hide,this.options.hideDelay)):void 0},t.prototype.hide=function(){var t=this;return this._abortShowing(),this._clearTimeouts(),this.visible?(this.debug("Hiding!"),this.visible=!1,this.preparingToHide=!1,this._stopEnsureTriggerElement(),this._setupObservers("-showing","-visible","-hiding","-hidden","hiding","hidden"),this.options.fixed||this._stopFollowingMousePosition(),this.adapter.removeClass(this.container,this["class"].visible),this.adapter.removeClass(this.container,this["class"].showing),this.adapter.addClass(this.container,this["class"].goingToHide),this.setCss3Style(this.container,{transitionDuration:"0s"}),this.defer(function(){var e;return t.adapter.removeClass(t.container,t["class"].goingToHide),t.adapter.addClass(t.container,t["class"].hiding),e=0,t.options.hideEffect&&t.options.hideEffectDuration&&(e=t.options.hideEffectDuration),t.setCss3Style(t.container,{transitionDuration:""+e+"s"}),t._visibilityStateTimeoutId=t.setTimeout(function(){return t.adapter.removeClass(t.container,t["class"].hiding),t.adapter.addClass(t.container,t["class"].hidden),t.setCss3Style(t.container,{transitionDuration:"0s"})},e)})):void 0},t.prototype._abortHiding=function(){return this.preparingToHide?(this.debug("Aborting hiding."),this._clearTimeouts(),this.preparingToHide=!1,this._setupObservers("-hiding","showing","visible")):void 0},t.prototype.reposition=function(t){var e,n,i,s=this;return null==t&&(t=this.lastEvent),e=this.getPosition(t),null==e||(n=this.options.stem,this.options.containInViewport&&(i=this._ensureViewportContainment(t,e),e=i.position,n=i.stem),this._positionsEqual(e,this.currentPosition))?void 0:(this.options.stem&&!n.eql(this.currentStem)&&(this.redraw=!0),this.currentPosition=e,this.currentStem=n,this._draw(),this.adapter.css(this.container,{left:""+e.left+"px",top:""+e.top+"px"}),this.defer(function(){var t,e;return t=s.adapter.unwrap(s.container),t.style.visibility="hidden",e=t.offsetHeight,t.style.visibility="visible"}))},t.prototype.getPosition=function(t,e,n,i){var s,r,o,a,l,c,u,h,d,p;if(null==e&&(e=this.options.tipJoint),null==n&&(n=this.options.targetJoint),l={},this.options.target)h=this.adapter.offset(this.options.target),u=this.adapter.dimensions(this.options.target),l=h,n.right?(d=this.adapter.unwrap(this.options.target),null!=d.getBoundingClientRect?l.left=d.getBoundingClientRect().right+(null!=(p=window.pageXOffset)?p:document.body.scrollLeft):l.left+=u.width):n.center&&(l.left+=Math.round(u.width/2)),n.bottom?l.top+=u.height:n.middle&&(l.top+=Math.round(u.height/2)),this.options.borderWidth&&(this.options.tipJoint.left&&(l.left+=this.options.borderWidth),this.options.tipJoint.right&&(l.left-=this.options.borderWidth),this.options.tipJoint.top?l.top+=this.options.borderWidth:this.options.tipJoint.bottom&&(l.top-=this.options.borderWidth));else{if(null!=t&&(this.lastEvent=t),o=this.adapter.mousePosition(t),null==o)return;l={top:o.y,left:o.x}}return this.options.autoOffset&&(c=this.options.stem?this.options.stemLength:0,a=c&&this.options.fixed?2:10,s=e.middle&&!this.options.fixed?15:0,r=e.center&&!this.options.fixed?15:0,e.right?l.left-=a+s:e.left&&(l.left+=a+s),e.bottom?l.top-=a+r:e.top&&(l.top+=a+r),c&&(null==i&&(i=this.options.stem),i.right?l.left-=c:i.left&&(l.left+=c),i.bottom?l.top-=c:i.top&&(l.top+=c))),l.left+=this.options.offset[0],l.top+=this.options.offset[1],e.right?l.left-=this.dimensions.width:e.center&&(l.left-=Math.round(this.dimensions.width/2)),e.bottom?l.top-=this.dimensions.height:e.middle&&(l.top-=Math.round(this.dimensions.height/2)),l},t.prototype._ensureViewportContainment=function(e,n){var i,s,r,o,a,l,c,u,h,d,p,f;if(c=this.options.stem,r={position:n,stem:c},!this.visible||!n)return r;if(u=this._sticksOut(n),!u[0]&&!u[1])return r;if(d=new t.Joint(this.options.tipJoint),this.options.targetJoint&&(h=new t.Joint(this.options.targetJoint)),l=this.adapter.scrollOffset(),p=this.adapter.viewportDimensions(),f=[n.left-l[0],n.top-l[1]],i=!1,p.width>=this.dimensions.width&&u[0])switch(i=!0,u[0]){case this.STICKS_OUT_LEFT:d.setHorizontal("left"),this.options.targetJoint&&h.setHorizontal("right");break;case this.STICKS_OUT_RIGHT:d.setHorizontal("right"),this.options.targetJoint&&h.setHorizontal("left")}if(p.height>=this.dimensions.height&&u[1])switch(i=!0,u[1]){case this.STICKS_OUT_TOP:d.setVertical("top"),this.options.targetJoint&&h.setVertical("bottom");break;case this.STICKS_OUT_BOTTOM:d.setVertical("bottom"),this.options.targetJoint&&h.setVertical("top")}return i?(this.options.stem&&(c=d),n=this.getPosition(e,d,h,c),s=this._sticksOut(n),o=!1,a=!1,s[0]&&s[0]!==u[0]&&(o=!0,d.setHorizontal(this.options.tipJoint.horizontal),this.options.targetJoint&&h.setHorizontal(this.options.targetJoint.horizontal)),s[1]&&s[1]!==u[1]&&(a=!0,d.setVertical(this.options.tipJoint.vertical),this.options.targetJoint&&h.setVertical(this.options.targetJoint.vertical)),o&&a?r:((o||a)&&(this.options.stem&&(c=d),n=this.getPosition(e,d,h,c)),{position:n,stem:c})):r},t.prototype._sticksOut=function(t){var e,n,i,s;return n=this.adapter.scrollOffset(),s=this.adapter.viewportDimensions(),e=[t.left-n[0],t.top-n[1]],i=[!1,!1],0>e[0]?i[0]=this.STICKS_OUT_LEFT:e[0]+this.dimensions.width>s.width&&(i[0]=this.STICKS_OUT_RIGHT),0>e[1]?i[1]=this.STICKS_OUT_TOP:e[1]+this.dimensions.height>s.height&&(i[1]=this.STICKS_OUT_BOTTOM),i},t.prototype._draw=function(){var e,n,i,s,r,o,a,l,c,u,h,d,p,f,m,g,v,y,_,b=this;if(this.backgroundCanvas&&this.redraw){if(this.debug("Drawing background."),this.redraw=!1,this.currentStem){for(v=["top","right","bottom","left"],m=0,g=v.length;g>m;m++)d=v[m],this.adapter.removeClass(this.container,"stem-"+d);this.adapter.addClass(this.container,"stem-"+this.currentStem.horizontal),this.adapter.addClass(this.container,"stem-"+this.currentStem.vertical)}return o=[0,0],a=[0,0],__indexOf.call(this.options.hideTriggers,"closeButton")>=0&&(r=new t.Joint("top right"===(null!=(y=this.currentStem)?""+y:void 0)?"top left":"top right"),o=[this.options.closeButtonRadius+this.options.closeButtonOffset[0],this.options.closeButtonRadius+this.options.closeButtonOffset[1]],a=[this.options.closeButtonRadius-this.options.closeButtonOffset[0],this.options.closeButtonRadius-this.options.closeButtonOffset[1]]),i=this.adapter.clone(this.dimensions),s=[0,0],this.options.borderWidth&&(i.width+=2*this.options.borderWidth,i.height+=2*this.options.borderWidth,s[0]-=this.options.borderWidth,s[1]-=this.options.borderWidth),this.options.shadow&&(i.width+=2*this.options.shadowBlur,i.width+=Math.max(0,this.options.shadowOffset[0]-2*this.options.shadowBlur),i.height+=2*this.options.shadowBlur,i.height+=Math.max(0,this.options.shadowOffset[1]-2*this.options.shadowBlur),s[0]-=Math.max(0,this.options.shadowBlur-this.options.shadowOffset[0]),s[1]-=Math.max(0,this.options.shadowBlur-this.options.shadowOffset[1])),n={left:0,right:0,top:0,bottom:0},this.currentStem&&(this.currentStem.left?n.left=this.options.stemLength:this.currentStem.right&&(n.right=this.options.stemLength),this.currentStem.top?n.top=this.options.stemLength:this.currentStem.bottom&&(n.bottom=this.options.stemLength)),r&&(r.left?n.left=Math.max(n.left,a[0]):r.right&&(n.right=Math.max(n.right,a[0])),r.top?n.top=Math.max(n.top,a[1]):r.bottom&&(n.bottom=Math.max(n.bottom,a[1]))),i.width+=n.left+n.right,i.height+=n.top+n.bottom,s[0]-=n.left,s[1]-=n.top,this.currentStem&&this.options.borderWidth&&(_=this._getPathStemMeasures(this.options.stemBase,this.options.stemLength,this.options.borderWidth),f=_.stemLength,p=_.stemBase),e=this.adapter.unwrap(this.backgroundCanvas),e.width=i.width,e.height=i.height,this.adapter.css(this.backgroundCanvas,{width:""+e.width+"px",height:""+e.height+"px",left:""+s[0]+"px",top:""+s[1]+"px"}),l=e.getContext("2d"),l.setTransform(1,0,0,1,0,0),l.clearRect(0,0,e.width,e.height),l.beginPath(),l.fillStyle=this._getColor(l,this.dimensions,this.options.background,this.options.backgroundGradientHorizontal),l.lineJoin="miter",l.miterLimit=500,h=this.options.borderWidth/2,this.options.borderWidth?(l.strokeStyle=this.options.borderColor,l.lineWidth=this.options.borderWidth):(f=this.options.stemLength,p=this.options.stemBase),null==p&&(p=0),u=function(t,e,n){return n&&l.moveTo(Math.max(p,b.options.borderRadius,o[0])+1-h,-h),e?(l.lineTo(t/2-p/2,-h),l.lineTo(t/2,-f-h),l.lineTo(t/2+p/2,-h)):void 0},c=function(t,e,n){var i,s,r,a;return t?(l.lineTo(-p+h,0-h),l.lineTo(f+h,-f-h),l.lineTo(h,p-h)):e?(a=b.options.closeButtonOffset,r=o[0],0!==n%2&&(a=[a[1],a[0]],r=o[1]),i=Math.acos(a[1]/b.options.closeButtonRadius),s=Math.acos(a[0]/b.options.closeButtonRadius),l.lineTo(-r+h,-h),l.arc(h-a[0],-h+a[1],b.options.closeButtonRadius,-(Math.PI/2+i),s,!1)):(l.lineTo(-b.options.borderRadius+h,-h),l.quadraticCurveTo(h,-h,h,b.options.borderRadius-h))},l.translate(-s[0],-s[1]),l.save(),function(){var e,n,i,s,o,a,h,d,p,f,m;for(m=[],n=p=0,f=t.positions.length/2;f>=0?f>p:p>f;n=f>=0?++p:--p)o=2*n,a=0===n||3===n?0:b.dimensions.width,h=2>n?0:b.dimensions.height,d=Math.PI/2*n,i=0===n%2?b.dimensions.width:b.dimensions.height,s=new t.Joint(t.positions[o]),e=new t.Joint(t.positions[o+1]),l.save(),l.translate(a,h),l.rotate(d),u(i,s.eql(b.currentStem),0===n),l.translate(i,0),c(e.eql(b.currentStem),e.eql(r),n),m.push(l.restore());return m}(),l.closePath(),l.save(),this.options.shadow&&(l.shadowColor=this.options.shadowColor,l.shadowBlur=this.options.shadowBlur,l.shadowOffsetX=this.options.shadowOffset[0],l.shadowOffsetY=this.options.shadowOffset[1]),l.fill(),l.restore(),this.options.borderWidth&&l.stroke(),l.restore(),r?function(){var t,e,n,i,s;return n=e=2*b.options.closeButtonRadius,"top right"==""+r?(s=[b.dimensions.width-b.options.closeButtonOffset[0],b.options.closeButtonOffset[1]],t=[s[0]+h,s[1]-h]):(s=[b.options.closeButtonOffset[0],b.options.closeButtonOffset[1]],t=[s[0]-h,s[1]-h]),l.translate(t[0],t[1]),i=b.options.closeButtonCrossSize/2,l.save(),l.beginPath(),l.strokeStyle=b.options.closeButtonCrossColor,l.lineWidth=b.options.closeButtonCrossLineWidth,l.lineCap="round",l.moveTo(-i,-i),l.lineTo(i,i),l.stroke(),l.beginPath(),l.moveTo(i,-i),l.lineTo(-i,i),l.stroke(),l.restore(),b.adapter.css(b.closeButtonElement,{left:""+(s[0]-i-b.options.closeButtonLinkOverscan)+"px",top:""+(s[1]-i-b.options.closeButtonLinkOverscan)+"px",width:""+(b.options.closeButtonCrossSize+2*b.options.closeButtonLinkOverscan)+"px",height:""+(b.options.closeButtonCrossSize+2*b.options.closeButtonLinkOverscan)+"px"})}():void 0}},t.prototype._getPathStemMeasures=function(t,e,n){var i,s,r,o,a,l,c;if(o=n/2,r=Math.atan(t/2/e),i=2*r,a=o/Math.sin(i),s=2*a*Math.cos(r),c=o+e-s,0>c)throw Error("Sorry but your stemLength / stemBase ratio is strange.");return l=2*Math.tan(r)*c,{stemLength:c,stemBase:l}},t.prototype._getColor=function(t,e,n,i){var s,r,o,a,l;if(null==i&&(i=!1),"string"==typeof n)return n;for(r=i?t.createLinearGradient(0,0,e.width,0):t.createLinearGradient(0,0,0,e.height),o=a=0,l=n.length;l>a;o=++a)s=n[o],r.addColorStop(s[0],s[1]);return r},t.prototype._searchAndActivateCloseButtons=function(){var t,e,n,i;for(i=this.adapter.findAll(this.container,"."+this["class"].close),e=0,n=i.length;n>e;e++)t=i[e],this.hideTriggers.push({element:this.adapter.wrap(t),event:"click"});return this.currentObservers.showing&&this._setupObservers("-showing","showing"),this.currentObservers.visible?this._setupObservers("-visible","visible"):void 0},t.prototype._activateFirstInput=function(){var t;return t=this.adapter.unwrap(this.adapter.find(this.container,"input, textarea")),null!=t?"function"==typeof t.focus?t.focus():void 0:void 0},t.prototype._followMousePosition=function(){return this.options.fixed?void 0:this.adapter.observe(document.body,"mousemove",this.bound.reposition)},t.prototype._stopFollowingMousePosition=function(){return this.options.fixed?void 0:this.adapter.stopObserving(document.body,"mousemove",this.bound.reposition)},t.prototype._clearShowTimeout=function(){return clearTimeout(this._showTimeoutId)},t.prototype._clearHideTimeout=function(){return clearTimeout(this._hideTimeoutId)},t.prototype._clearTimeouts=function(){return clearTimeout(this._visibilityStateTimeoutId),this._clearShowTimeout(),this._clearHideTimeout()},t.prototype._triggerElementExists=function(){var t;for(t=this.adapter.unwrap(this.triggerElement);t.parentNode;){if("BODY"===t.parentNode.tagName)return!0;t=t.parentNode}return!1},t.prototype._loadAjax=function(){var t=this;if(!this.loading)return this.loaded=!1,this.loading=!0,this.adapter.addClass(this.container,this["class"].loading),this.setContent(""),this.debug("Loading content from "+this.options.ajax),this.adapter.ajax({url:this.options.ajax,method:this.options.ajaxMethod,onSuccess:function(e){return t.debug("Loading successful."),t.adapter.removeClass(t.container,t["class"].loading),t.setContent(e)},onError:function(e){var n;return n="There was a problem downloading the content.",t.debug(n,e),t.setContent(n),t.adapter.addClass(t.container,t["class"].ajaxError)},onComplete:function(){return t.adapter.removeClass(t.container,t["class"].loading),t.loading=!1,t.loaded=!0,t._searchAndActivateCloseButtons(),t._activateFirstInput(),t.reposition()}})},t.prototype._ensureTriggerElement=function(){return this._triggerElementExists()?void 0:(this.deactivate(),this._stopEnsureTriggerElement())},t.prototype._ensureTriggerElementInterval=1e3,t.prototype._startEnsureTriggerElement=function(){var t=this;return this._ensureTriggerElementTimeoutId=setInterval(function(){return t._ensureTriggerElement()},this._ensureTriggerElementInterval)},t.prototype._stopEnsureTriggerElement=function(){return clearInterval(this._ensureTriggerElementTimeoutId)},t}(),vendors=["khtml","ms","o","moz","webkit"],Opentip.prototype.setCss3Style=function(t,e){var n,i,s,r,o;t=this.adapter.unwrap(t),o=[];for(n in e)__hasProp.call(e,n)&&(i=e[n],null!=t.style[n]?o.push(t.style[n]=i):o.push(function(){var e,o,a;for(a=[],e=0,o=vendors.length;o>e;e++)s=vendors[e],r=""+this.ucfirst(s)+this.ucfirst(n),null!=t.style[r]?a.push(t.style[r]=i):a.push(void 0);return a}.call(this)));return o},Opentip.prototype.defer=function(t){return setTimeout(t,0)},Opentip.prototype.setTimeout=function(t,e){return setTimeout(t,e?1e3*e:0)},Opentip.prototype.ucfirst=function(t){return null==t?"":t.charAt(0).toUpperCase()+t.slice(1)},Opentip.prototype.dasherize=function(t){return t.replace(/([A-Z])/g,function(t,e){return"-"+e.toLowerCase()})},Opentip.Joint=function(){function t(t){null!=t&&(t instanceof Opentip.Joint&&(t=""+t),this.set(t))}return t.prototype.set=function(t){return t=t.toLowerCase(),this.setHorizontal(t),this.setVertical(t),this},t.prototype.setHorizontal=function(t){var e,n,i,s,r,o,a;for(n=["left","center","right"],i=0,r=n.length;r>i;i++)e=n[i],~t.indexOf(e)&&(this.horizontal=e.toLowerCase());for(null==this.horizontal&&(this.horizontal="center"),a=[],s=0,o=n.length;o>s;s++)e=n[s],a.push(this[e]=this.horizontal===e?e:void 0);return a},t.prototype.setVertical=function(t){var e,n,i,s,r,o,a;for(n=["top","middle","bottom"],i=0,r=n.length;r>i;i++)e=n[i],~t.indexOf(e)&&(this.vertical=e.toLowerCase());for(null==this.vertical&&(this.vertical="middle"),a=[],s=0,o=n.length;o>s;s++)e=n[s],a.push(this[e]=this.vertical===e?e:void 0);return a},t.prototype.eql=function(t){return null!=t&&this.horizontal===t.horizontal&&this.vertical===t.vertical},t.prototype.flip=function(){var t,e;return e=Opentip.position[this.toString(!0)],t=(e+4)%8,this.set(Opentip.positions[t]),this},t.prototype.toString=function(t){var e,n;return null==t&&(t=!1),n="middle"===this.vertical?"":this.vertical,e="center"===this.horizontal?"":this.horizontal,n&&e&&(e=t?Opentip.prototype.ucfirst(e):" "+e),""+n+e},t}(),Opentip.prototype._positionsEqual=function(t,e){return null!=t&&null!=e&&t.left===e.left&&t.top===e.top},Opentip.prototype._dimensionsEqual=function(t,e){return null!=t&&null!=e&&t.width===e.width&&t.height===e.height},Opentip.prototype.debug=function(){var t;return t=arguments.length>=1?__slice.call(arguments,0):[],Opentip.debug&&null!=("undefined"!=typeof console&&null!==console?console.debug:void 0)?(t.unshift("#"+this.id+" |"),console.debug.apply(console,t)):void 0},Opentip.findElements=function(){var t,e,n,i,s,r,o,a,l,c;for(t=Opentip.adapter,l=t.findAll(document.body,"[data-ot]"),c=[],o=0,a=l.length;a>o;o++){n=l[o],r={},e=t.data(n,"ot"),(""===e||"true"===e||"yes"===e)&&(e=t.attr(n,"title"),t.attr(n,"title","")),e=e||"";for(i in Opentip.styles.standard)s=t.data(n,"ot"+Opentip.prototype.ucfirst(i)),null!=s&&("yes"===s||"true"===s||"on"===s?s=!0:("no"===s||"false"===s||"off"===s)&&(s=!1),r[i]=s);c.push(new Opentip(n,e,r))}return c},Opentip.version="2.2.5",Opentip.debug=!1,Opentip.lastId=0,Opentip.lastZIndex=100,Opentip.tips=[],Opentip._abortShowingGroup=function(t,e){var n,i,s,r,o;for(r=Opentip.tips,o=[],i=0,s=r.length;s>i;i++)n=r[i],n!==e&&n.options.group===t?o.push(n._abortShowing()):o.push(void 0);return o},Opentip._hideGroup=function(t,e){var n,i,s,r,o;for(r=Opentip.tips,o=[],i=0,s=r.length;s>i;i++)n=r[i],n!==e&&n.options.group===t?o.push(n.hide()):o.push(void 0);return o},Opentip.adapters={},Opentip.adapter=null,firstAdapter=!0,Opentip.addAdapter=function(t){return Opentip.adapters[t.name]=t,firstAdapter?(Opentip.adapter=t,t.domReady(Opentip.findElements),firstAdapter=!1):void 0},Opentip.positions=["top","topRight","right","bottomRight","bottom","bottomLeft","left","topLeft"],Opentip.position={},_ref=Opentip.positions,i=_i=0,_len=_ref.length;_len>_i;i=++_i)position=_ref[i],Opentip.position[position]=i;Opentip.styles={standard:{"extends":null,title:void 0,escapeTitle:!0,escapeContent:!1,className:"standard",stem:!0,delay:null,hideDelay:.1,fixed:!1,showOn:"mouseover",hideTrigger:"trigger",hideTriggers:[],hideOn:null,offset:[0,0],containInViewport:!0,autoOffset:!0,showEffect:"appear",hideEffect:"fade",showEffectDuration:.3,hideEffectDuration:.2,stemLength:5,stemBase:8,tipJoint:"top left",target:null,targetJoint:null,ajax:!1,ajaxMethod:"GET",ajaxCache:!0,group:null,style:null,background:"#fff18f",backgroundGradientHorizontal:!1,closeButtonOffset:[5,5],closeButtonRadius:7,closeButtonCrossSize:4,closeButtonCrossColor:"#d2c35b",closeButtonCrossLineWidth:1.5,closeButtonLinkOverscan:6,borderRadius:5,borderWidth:1,borderColor:"#f2e37b",shadow:!0,shadowBlur:10,shadowOffset:[3,3],shadowColor:"rgba(0, 0, 0, 0.1)"},glass:{"extends":"standard",className:"glass",background:[[0,"rgba(252, 252, 252, 0.8)"],[.5,"rgba(255, 255, 255, 0.8)"],[.5,"rgba(250, 250, 250, 0.9)"],[1,"rgba(245, 245, 245, 0.9)"]],borderColor:"#eee",closeButtonCrossColor:"rgba(0, 0, 0, 0.2)",borderRadius:15,closeButtonRadius:10,closeButtonOffset:[8,8]},dark:{"extends":"standard",className:"dark",borderRadius:13,borderColor:"#444",closeButtonCrossColor:"rgba(240, 240, 240, 1)",shadowColor:"rgba(0, 0, 0, 0.3)",shadowOffset:[2,2],background:[[0,"rgba(30, 30, 30, 0.7)"],[.5,"rgba(30, 30, 30, 0.8)"],[.5,"rgba(10, 10, 10, 0.8)"],[1,"rgba(10, 10, 10, 0.9)"]]},alert:{"extends":"standard",className:"alert",borderRadius:1,borderColor:"#AE0D11",closeButtonCrossColor:"rgba(255, 255, 255, 1)",shadowColor:"rgba(0, 0, 0, 0.3)",shadowOffset:[2,2],background:[[0,"rgba(203, 15, 19, 0.7)"],[.5,"rgba(203, 15, 19, 0.8)"],[.5,"rgba(189, 14, 18, 0.8)"],[1,"rgba(179, 14, 17, 0.9)"]]}},Opentip.defaultStyle="standard","undefined"!=typeof module&&null!==module?module.exports=Opentip:window.Opentip=Opentip;var __slice=[].slice;(function(t){var e;return t.fn.opentip=function(t,e,n){return new Opentip(this,t,e,n)},e=function(){function e(){}return e.prototype.name="jquery",e.prototype.domReady=function(e){return t(e)},e.prototype.create=function(e){return t(e)},e.prototype.wrap=function(e){if(e=t(e),e.length>1)throw Error("Multiple elements provided.");return e},e.prototype.unwrap=function(e){return t(e)[0]},e.prototype.tagName=function(t){return this.unwrap(t).tagName},e.prototype.attr=function(){var e,n,i;return n=arguments[0],e=arguments.length>=2?__slice.call(arguments,1):[],(i=t(n)).attr.apply(i,e)},e.prototype.data=function(){var e,n,i;return n=arguments[0],e=arguments.length>=2?__slice.call(arguments,1):[],(i=t(n)).data.apply(i,e)},e.prototype.find=function(e,n){return t(e).find(n)},e.prototype.findAll=function(){return this.find.apply(this,arguments)},e.prototype.update=function(e,n,i){return e=t(e),i?e.text(n):e.html(n)},e.prototype.append=function(e,n){return t(e).append(n)},e.prototype.addClass=function(e,n){return t(e).addClass(n)},e.prototype.removeClass=function(e,n){return t(e).removeClass(n)},e.prototype.css=function(e,n){return t(e).css(n)},e.prototype.dimensions=function(e){return{width:t(e).outerWidth(),height:t(e).outerHeight()}},e.prototype.scrollOffset=function(){return[window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft,window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop]},e.prototype.viewportDimensions=function(){return{width:document.documentElement.clientWidth,height:document.documentElement.clientHeight}},e.prototype.mousePosition=function(t){return null==t?null:{x:t.pageX,y:t.pageY}},e.prototype.offset=function(e){var n;return n=t(e).offset(),{left:n.left,top:n.top}},e.prototype.observe=function(e,n,i){return t(e).bind(n,i)},e.prototype.stopObserving=function(e,n,i){return t(e).unbind(n,i)},e.prototype.ajax=function(e){var n,i;if(null==e.url)throw Error("No url provided");
return t.ajax({url:e.url,type:null!=(n=null!=(i=e.method)?i.toUpperCase():void 0)?n:"GET"}).done(function(t){return"function"==typeof e.onSuccess?e.onSuccess(t):void 0}).fail(function(t){return"function"==typeof e.onError?e.onError("Server responded with status "+t.status):void 0}).always(function(){return"function"==typeof e.onComplete?e.onComplete():void 0})},e.prototype.clone=function(e){return t.extend({},e)},e.prototype.extend=function(){var e,n;return n=arguments[0],e=arguments.length>=2?__slice.call(arguments,1):[],t.extend.apply(t,[n].concat(__slice.call(e)))},e}(),Opentip.addAdapter(new e)})(jQuery),!function(t){"use strict";var e=function(e,n){this.$element=t(e),this.options=t.extend({},t.fn.button.defaults,n)};e.prototype.setState=function(t){var e="disabled",n=this.$element,i=n.data(),s=n.is("input")?"val":"html";t+="Text",i.resetText||n.data("resetText",n[s]()),n[s](i[t]||this.options[t]),setTimeout(function(){"loadingText"==t?n.addClass(e).attr(e,e):n.removeClass(e).removeAttr(e)},0)},e.prototype.toggle=function(){var t=this.$element.closest('[data-toggle="buttons-radio"]');t&&t.find(".active").removeClass("active"),this.$element.toggleClass("active")};var n=t.fn.button;t.fn.button=function(n){return this.each(function(){var i=t(this),s=i.data("button"),r="object"==typeof n&&n;s||i.data("button",s=new e(this,r)),"toggle"==n?s.toggle():n&&s.setState(n)})},t.fn.button.defaults={loadingText:"loading..."},t.fn.button.Constructor=e,t.fn.button.noConflict=function(){return t.fn.button=n,this},t(document).on("click.button.data-api","[data-toggle^=button]",function(e){var n=t(e.target);n.hasClass("btn")||(n=n.closest(".btn")),n.button("toggle")})}(window.jQuery),!function(t){"use strict";function e(){t(i).each(function(){n(t(this)).removeClass("open")})}function n(e){var n,i=e.attr("data-target");return i||(i=e.attr("href"),i=i&&/#/.test(i)&&i.replace(/.*(?=#[^\s]*$)/,"")),n=t(i),n.length||(n=e.parent()),n}var i="[data-toggle=dropdown]",s=function(e){var n=t(e).on("click.dropdown.data-api",this.toggle);t("html").on("click.dropdown.data-api",function(){n.parent().removeClass("open")})};s.prototype={constructor:s,toggle:function(){var i,s,r=t(this);if(!r.is(".disabled, :disabled"))return i=n(r),s=i.hasClass("open"),e(),s||i.toggleClass("open"),r.focus(),!1},keydown:function(e){var i,s,r,o,a;if(/(38|40|27)/.test(e.keyCode)&&(i=t(this),e.preventDefault(),e.stopPropagation(),!i.is(".disabled, :disabled"))){if(r=n(i),o=r.hasClass("open"),!o||o&&27==e.keyCode)return i.click();s=t("[role=menu] li:not(.divider):visible a",r),s.length&&(a=s.index(s.filter(":focus")),38==e.keyCode&&a>0&&a--,40==e.keyCode&&s.length-1>a&&a++,~a||(a=0),s.eq(a).focus())}}};var r=t.fn.dropdown;t.fn.dropdown=function(e){return this.each(function(){var n=t(this),i=n.data("dropdown");i||n.data("dropdown",i=new s(this)),"string"==typeof e&&i[e].call(n)})},t.fn.dropdown.Constructor=s,t.fn.dropdown.noConflict=function(){return t.fn.dropdown=r,this},t(document).on("click.dropdown.data-api touchstart.dropdown.data-api",e).on("click.dropdown touchstart.dropdown.data-api",".dropdown form",function(t){t.stopPropagation()}).on("touchstart.dropdown.data-api",".dropdown-menu",function(t){t.stopPropagation()}).on("click.dropdown.data-api touchstart.dropdown.data-api",i,s.prototype.toggle).on("keydown.dropdown.data-api touchstart.dropdown.data-api",i+", [role=menu]",s.prototype.keydown)}(window.jQuery),!function(t){"use strict";var e=function(e,n){this.options=n,this.$element=t(e).delegate('[data-dismiss="modal"]',"click.dismiss.modal",t.proxy(this.hide,this)),this.options.remote&&this.$element.find(".modal-body").load(this.options.remote)};e.prototype={constructor:e,toggle:function(){return this[this.isShown?"hide":"show"]()},show:function(){var e=this,n=t.Event("show");this.$element.trigger(n),this.isShown||n.isDefaultPrevented()||(this.isShown=!0,this.escape(),this.backdrop(function(){var n=t.support.transition&&e.$element.hasClass("fade");e.$element.parent().length||e.$element.appendTo(document.body),e.$element.show(),n&&e.$element[0].offsetWidth,e.$element.addClass("in").attr("aria-hidden",!1),e.enforceFocus(),n?e.$element.one(t.support.transition.end,function(){e.$element.focus().trigger("shown")}):e.$element.focus().trigger("shown")}))},hide:function(e){e&&e.preventDefault(),e=t.Event("hide"),this.$element.trigger(e),this.isShown&&!e.isDefaultPrevented()&&(this.isShown=!1,this.escape(),t(document).off("focusin.modal"),this.$element.removeClass("in").attr("aria-hidden",!0),t.support.transition&&this.$element.hasClass("fade")?this.hideWithTransition():this.hideModal())},enforceFocus:function(){var e=this;t(document).on("focusin.modal",function(t){e.$element[0]===t.target||e.$element.has(t.target).length||e.$element.focus()})},escape:function(){var t=this;this.isShown&&this.options.keyboard?this.$element.on("keyup.dismiss.modal",function(e){27==e.which&&t.hide()}):this.isShown||this.$element.off("keyup.dismiss.modal")},hideWithTransition:function(){var e=this,n=setTimeout(function(){e.$element.off(t.support.transition.end),e.hideModal()},500);this.$element.one(t.support.transition.end,function(){clearTimeout(n),e.hideModal()})},hideModal:function(){this.$element.hide().trigger("hidden"),this.backdrop()},removeBackdrop:function(){this.$backdrop.remove(),this.$backdrop=null},backdrop:function(e){var n=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var i=t.support.transition&&n;this.$backdrop=t('<div class="modal-backdrop '+n+'" />').appendTo(document.body),this.$backdrop.click("static"==this.options.backdrop?t.proxy(this.$element[0].focus,this.$element[0]):t.proxy(this.hide,this)),i&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),i?this.$backdrop.one(t.support.transition.end,e):e()}else!this.isShown&&this.$backdrop?(this.$backdrop.removeClass("in"),t.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one(t.support.transition.end,t.proxy(this.removeBackdrop,this)):this.removeBackdrop()):e&&e()}};var n=t.fn.modal;t.fn.modal=function(n){return this.each(function(){var i=t(this),s=i.data("modal"),r=t.extend({},t.fn.modal.defaults,i.data(),"object"==typeof n&&n);s||i.data("modal",s=new e(this,r)),"string"==typeof n?s[n]():r.show&&s.show()})},t.fn.modal.defaults={backdrop:!0,keyboard:!0,show:!0},t.fn.modal.Constructor=e,t.fn.modal.noConflict=function(){return t.fn.modal=n,this},t(document).on("click.modal.data-api",'[data-toggle="modal"]',function(e){var n=t(this),i=n.attr("href"),s=t(n.attr("data-target")||i&&i.replace(/.*(?=#[^\s]+$)/,"")),r=s.data("modal")?"toggle":t.extend({remote:!/#/.test(i)&&i},s.data(),n.data());e.preventDefault(),s.modal(r).one("hide",function(){n.focus()})})}(window.jQuery),!function(t){"use strict";var e=function(e){this.element=t(e)};e.prototype={constructor:e,show:function(){var e,n,i,s=this.element,r=s.closest("ul:not(.dropdown-menu)"),o=s.attr("data-target");o||(o=s.attr("href"),o=o&&o.replace(/.*(?=#[^\s]*$)/,"")),s.parent("li").hasClass("active")||(e=r.find(".active:last a")[0],i=t.Event("show",{relatedTarget:e}),s.trigger(i),i.isDefaultPrevented()||(n=t(o),this.activate(s.parent("li"),r),this.activate(n,n.parent(),function(){s.trigger({type:"shown",relatedTarget:e})})))},activate:function(e,n,i){function s(){r.removeClass("active").find("> .dropdown-menu > .active").removeClass("active"),e.addClass("active"),o?(e[0].offsetWidth,e.addClass("in")):e.removeClass("fade"),e.parent(".dropdown-menu")&&e.closest("li.dropdown").addClass("active"),i&&i()}var r=n.find("> .active"),o=i&&t.support.transition&&r.hasClass("fade");o?r.one(t.support.transition.end,s):s(),r.removeClass("in")}};var n=t.fn.tab;t.fn.tab=function(n){return this.each(function(){var i=t(this),s=i.data("tab");s||i.data("tab",s=new e(this)),"string"==typeof n&&s[n]()})},t.fn.tab.Constructor=e,t.fn.tab.noConflict=function(){return t.fn.tab=n,this},t(document).on("click.tab.data-api",'[data-toggle="tab"], [data-toggle="pill"]',function(e){e.preventDefault(),t(this).tab("show")})}(window.jQuery),!function(t){t(function(){"use strict";t.support.transition=function(){var e=document.body||document.documentElement,n=e.style,i=void 0!==n.transition||void 0!==n.WebkitTransition||void 0!==n.MozTransition||void 0!==n.MsTransition||void 0!==n.OTransition;return i&&{end:function(){var e="TransitionEnd";return t.browser.webkit?e="webkitTransitionEnd":t.browser.mozilla?e="transitionend":t.browser.opera&&(e="oTransitionEnd"),e}()}}()})}(window.jQuery),function(window,undefined){function returnTrue(){return!0}function returnFalse(){return!1}var document=window.document;document.createElement("video"),document.createElement("audio");var VideoJS=function(t,e,n){var i;if("string"==typeof t){if(0===t.indexOf("#")&&(t=t.slice(1)),_V_.players[t])return _V_.players[t];i=_V_.el(t)}else i=t;if(!i||!i.nodeName)throw new TypeError("The element or ID supplied is not valid. (VideoJS)");return i.player||new _V_.Player(i,e,n)},_V_=VideoJS,CDN_VERSION="3.2";VideoJS.players={},VideoJS.options={techOrder:["html5","flash"],html5:{},flash:{swf:"http://vjs.zencdn.net/c/video-js.swf"},width:"auto",height:"auto",defaultVolume:0,components:{posterImage:{},textTrackDisplay:{},loadingSpinner:{},bigPlayButton:{},controlBar:{}}},"GENERATED_CDN_VSN"!=CDN_VERSION&&(_V_.options.flash.swf="http://vjs.zencdn.net/"+CDN_VERSION+"/video-js.swf"),_V_.merge=function(t,e,n){e||(e={});for(var i in e)!e.hasOwnProperty(i)||n&&t.hasOwnProperty(i)||(t[i]=e[i]);return t},_V_.extend=function(t){this.merge(this,t,!0)},_V_.extend({tech:{},controlSets:{},isIE:function(){return!1},isFF:function(){return!!_V_.ua.match("Firefox")},isIPad:function(){return null!==navigator.userAgent.match(/iPad/i)},isIPhone:function(){return null!==navigator.userAgent.match(/iPhone/i)},isIOS:function(){return VideoJS.isIPhone()||VideoJS.isIPad()},iOSVersion:function(){var t=navigator.userAgent.match(/OS (\d+)_/i);return t&&t[1]?t[1]:undefined},isAndroid:function(){return null!==navigator.userAgent.match(/Android.*AppleWebKit/i)},androidVersion:function(){var t=navigator.userAgent.match(/Android (\d+)\./i);return t&&t[1]?t[1]:undefined},testVid:document.createElement("video"),ua:navigator.userAgent,support:{},each:function(t,e){if(t&&0!==t.length)for(var n=0,i=t.length;i>n;n++)e.call(this,t[n],n)},eachProp:function(t,e){if(t)for(var n in t)t.hasOwnProperty(n)&&e.call(this,n,t[n])},el:function(t){return document.getElementById(t)},createElement:function(t,e){var n,i=document.createElement(t);for(n in e)e.hasOwnProperty(n)&&(-1!==n.indexOf("-")?i.setAttribute(n,e[n]):i[n]=e[n]);return i},insertFirst:function(t,e){e.firstChild?e.insertBefore(t,e.firstChild):e.appendChild(t)},addClass:function(t,e){-1==(" "+t.className+" ").indexOf(" "+e+" ")&&(t.className=""===t.className?e:t.className+" "+e)},removeClass:function(t,e){if(-1!=t.className.indexOf(e)){var n=t.className.split(" ");n.splice(n.indexOf(e),1),t.className=n.join(" ")}},remove:function(t,e){if(e){var n=e.indexOf(t);return-1!=n?e.splice(n,1):undefined}},blockTextSelection:function(){document.body.focus(),document.onselectstart=function(){return!1}},unblockTextSelection:function(){document.onselectstart=function(){return!0}},formatTime:function(t,e){e=e||t;var n=Math.floor(t%60),i=Math.floor(t/60%60),s=Math.floor(t/3600),r=Math.floor(e/60%60),o=Math.floor(e/3600);return s=s>0||o>0?s+":":"",i=((s||r>=10)&&10>i?"0"+i:i)+":",n=10>n?"0"+n:n,s+i+n},uc:function(t){return t.charAt(0).toUpperCase()+t.slice(1)},getRelativePosition:function(t,e){return Math.max(0,Math.min(1,(t-_V_.findPosX(e))/e.offsetWidth))},getComputedStyleValue:function(t,e){return window.getComputedStyle(t,null).getPropertyValue(e)},trim:function(t){return(""+t).replace(/^\s+/,"").replace(/\s+$/,"")},round:function(t,e){return e||(e=0),Math.round(t*Math.pow(10,e))/Math.pow(10,e)},isEmpty:function(t){for(var e in t)return!1;return!0},createTimeRange:function(t,e){return{length:1,start:function(){return t},end:function(){return e}}},cache:{},guid:1,expando:"vdata"+(new Date).getTime(),getData:function(t){var e=t[_V_.expando];return e||(e=t[_V_.expando]=_V_.guid++,_V_.cache[e]={}),_V_.cache[e]},removeData:function(t){var e=t[_V_.expando];if(e){delete _V_.cache[e];try{delete t[_V_.expando]}catch(n){t.removeAttribute?t.removeAttribute(_V_.expando):t[_V_.expando]=null}}},proxy:function(t,e,n){e.guid||(e.guid=_V_.guid++);var i=function(){return e.apply(t,arguments)};return i.guid=n?n+"_"+e.guid:e.guid,i},get:function(t,e,n){var i=0==t.indexOf("file:")||0==window.location.href.indexOf("file:")&&-1==t.indexOf("http:");"undefined"==typeof XMLHttpRequest&&(XMLHttpRequest=function(){try{return new ActiveXObject("Msxml2.XMLHTTP.6.0")}catch(t){}try{return new ActiveXObject("Msxml2.XMLHTTP.3.0")}catch(e){}try{return new ActiveXObject("Msxml2.XMLHTTP")}catch(n){}throw Error("This browser does not support XMLHttpRequest.")});var s=new XMLHttpRequest;try{s.open("GET",t)}catch(r){return _V_.log("VideoJS XMLHttpRequest (open)",r),!1}s.onreadystatechange=_V_.proxy(this,function(){4==s.readyState&&(200==s.status||i&&0==s.status?e(s.responseText):n&&n())});try{s.send()}catch(r){_V_.log("VideoJS XMLHttpRequest (send)",r),n&&n(r)}},setLocalStorage:function(t,e){var n=window.localStorage||!1;if(n)try{n[t]=e}catch(i){22==i.code||1014==i.code?_V_.log("LocalStorage Full (VideoJS)",i):_V_.log("LocalStorage Error (VideoJS)",i)}},getAbsoluteURL:function(t){return t.match(/^https?:\/\//)||(t=_V_.createElement("div",{innerHTML:'<a href="'+t+'">x</a>'}).firstChild.href),t}}),_V_.log=function(){if(_V_.log.history=_V_.log.history||[],_V_.log.history.push(arguments),window.console){arguments.callee=arguments.callee.caller;var t=[].slice.call(arguments);"object"==typeof console.log?_V_.log.apply.call(console.log,console,t):console.log.apply(console,t)}},function(t){function e(){}for(var n,i="assert,count,debug,dir,dirxml,error,exception,group,groupCollapsed,groupEnd,info,log,timeStamp,profile,profileEnd,time,timeEnd,trace,warn".split(",");n=i.pop();)t[n]=t[n]||e}(function(){try{return console.log(),window.console}catch(t){return window.console={}}}()),_V_.findPosX="getBoundingClientRect"in document.documentElement?function(t){var e;try{e=t.getBoundingClientRect()}catch(n){}if(!e)return 0;var i=document.documentElement,s=document.body,r=i.clientLeft||s.clientLeft||0,o=window.pageXOffset||s.scrollLeft,a=e.left+o-r;return a}:function(t){for(var e=t.offsetLeft;t=obj.offsetParent;)-1==t.className.indexOf("video-js"),e+=t.offsetLeft;return e},function(){var t=!1,e=/xyz/.test(function(){})?/\b_super\b/:/.*/;_V_.Class=function(){},_V_.Class.extend=function(n){function i(){return!t&&this.init?this.init.apply(this,arguments):t?undefined:arguments.callee.prototype.init()}var s=this.prototype;t=!0;var r=new this;t=!1;for(var o in n)r[o]="function"==typeof n[o]&&"function"==typeof s[o]&&e.test(n[o])?function(t,e){return function(){var n=this._super;this._super=s[t];var i=e.apply(this,arguments);return this._super=n,i}}(o,n[o]):n[o];return i.prototype=r,i.constructor=i,i.extend=arguments.callee,i}}(),_V_.Component=_V_.Class.extend({init:function(t,e){this.player=t,e=this.options=_V_.merge(this.options||{},e),this.el=e.el?e.el:this.createElement(),this.initComponents()},destroy:function(){},createElement:function(t,e){return _V_.createElement(t||"div",e)},buildCSSClass:function(){return""},initComponents:function(){var t=this.options;t&&t.components&&this.eachProp(t.components,function(t,e){var n=this.proxy(function(){this[t]=this.addComponent(t,e)});e.loadEvent?this.one(e.loadEvent,n):n()})},addComponent:function(t,e){var n,i;return"string"==typeof t?(e=e||{},i=e.componentClass||_V_.uc(t),n=new _V_[i](this.player||this,e)):n=t,this.el.appendChild(n.el),n},removeComponent:function(t){this.el.removeChild(t.el)},show:function(){this.el.style.display="block"},hide:function(){this.el.style.display="none"},fadeIn:function(){this.removeClass("vjs-fade-out"),this.addClass("vjs-fade-in")},fadeOut:function(){this.removeClass("vjs-fade-in"),this.addClass("vjs-fade-out")},lockShowing:function(){var t=this.el.style;t.display="block",t.opacity=1,t.visiblity="visible"},unlockShowing:function(){var t=this.el.style;t.display="",t.opacity="",t.visiblity=""},addClass:function(t){_V_.addClass(this.el,t)},removeClass:function(t){_V_.removeClass(this.el,t)},addEvent:function(t,e){return _V_.addEvent(this.el,t,_V_.proxy(this,e))},removeEvent:function(t,e){return _V_.removeEvent(this.el,t,e)},triggerEvent:function(t,e){return _V_.triggerEvent(this.el,t,e)},one:function(t,e){_V_.one(this.el,t,_V_.proxy(this,e))},ready:function(t){return t?(this.isReady?t.call(this):(this.readyQueue===undefined&&(this.readyQueue=[]),this.readyQueue.push(t)),this):this},triggerReady:function(){this.isReady=!0,this.readyQueue&&this.readyQueue.length>0&&(this.each(this.readyQueue,function(t){t.call(this)}),this.readyQueue=[],this.triggerEvent("ready"))},each:function(t,e){_V_.each.call(this,t,e)},eachProp:function(t,e){_V_.eachProp.call(this,t,e)},extend:function(t){_V_.merge(this,t)},proxy:function(t,e){return _V_.proxy(this,t,e)}}),_V_.Control=_V_.Component.extend({buildCSSClass:function(){return"vjs-control "+this._super()}}),_V_.ControlBar=_V_.Component.extend({options:{loadEvent:"play",components:{playToggle:{},fullscreenToggle:{},currentTimeDisplay:{},timeDivider:{},durationDisplay:{},remainingTimeDisplay:{},progressControl:{},volumeControl:{},muteToggle:{}}},init:function(t,e){this._super(t,e),t.addEvent("play",this.proxy(function(){this.fadeIn(),this.player.addEvent("mouseover",this.proxy(this.fadeIn)),this.player.addEvent("mouseout",this.proxy(this.fadeOut))}))},createElement:function(){return _V_.createElement("div",{className:"vjs-controls"})},fadeIn:function(){this._super(),this.player.triggerEvent("controlsvisible")},fadeOut:function(){this._super(),this.player.triggerEvent("controlshidden")},lockShowing:function(){this.el.style.opacity="1"}}),_V_.Button=_V_.Control.extend({init:function(t,e){this._super(t,e),this.addEvent("click",this.onClick),this.addEvent("focus",this.onFocus),this.addEvent("blur",this.onBlur)},createElement:function(t,e){return e=_V_.merge({className:this.buildCSSClass(),innerHTML:'<div><span class="vjs-control-text">'+(this.buttonText||"Need Text")+"</span></div>",role:"button",tabIndex:0},e),this._super(t,e)},onClick:function(){},onFocus:function(){_V_.addEvent(document,"keyup",_V_.proxy(this,this.onKeyPress))},onKeyPress:function(t){(32==t.which||13==t.which)&&(t.preventDefault(),this.onClick())},onBlur:function(){_V_.removeEvent(document,"keyup",_V_.proxy(this,this.onKeyPress))}}),_V_.PlayButton=_V_.Button.extend({buttonText:"Play",buildCSSClass:function(){return"vjs-play-button "+this._super()},onClick:function(){this.player.play()}}),_V_.PauseButton=_V_.Button.extend({buttonText:"Pause",buildCSSClass:function(){return"vjs-pause-button "+this._super()},onClick:function(){this.player.pause()}}),_V_.PlayToggle=_V_.Button.extend({buttonText:"Play",init:function(t,e){this._super(t,e),t.addEvent("play",_V_.proxy(this,this.onPlay)),t.addEvent("pause",_V_.proxy(this,this.onPause))},buildCSSClass:function(){return"vjs-play-control "+this._super()},onClick:function(){this.player.paused()?this.player.play():this.player.pause()},onPlay:function(){_V_.removeClass(this.el,"vjs-paused"),_V_.addClass(this.el,"vjs-playing")},onPause:function(){_V_.removeClass(this.el,"vjs-playing"),_V_.addClass(this.el,"vjs-paused")}}),_V_.FullscreenToggle=_V_.Button.extend({buttonText:"Fullscreen",buildCSSClass:function(){return"vjs-fullscreen-control "+this._super()},onClick:function(){this.player.isFullScreen?this.player.cancelFullScreen():this.player.requestFullScreen()}}),_V_.BigPlayButton=_V_.Button.extend({init:function(t,e){this._super(t,e),t.addEvent("play",_V_.proxy(this,this.hide)),t.addEvent("ended",_V_.proxy(this,this.show))},createElement:function(){return this._super("div",{className:"vjs-big-play-button",innerHTML:"<span></span>"})},onClick:function(){this.player.currentTime()&&this.player.currentTime(0),this.player.play()}}),_V_.LoadingSpinner=_V_.Component.extend({init:function(t,e){this._super(t,e),t.addEvent("canplay",_V_.proxy(this,this.hide)),t.addEvent("canplaythrough",_V_.proxy(this,this.hide)),t.addEvent("playing",_V_.proxy(this,this.hide)),t.addEvent("seeking",_V_.proxy(this,this.show)),t.addEvent("error",_V_.proxy(this,this.show)),t.addEvent("waiting",_V_.proxy(this,this.show))},createElement:function(){var t,e;return"string"==typeof this.player.el.style.WebkitBorderRadius||"string"==typeof this.player.el.style.MozBorderRadius||"string"==typeof this.player.el.style.KhtmlBorderRadius||"string"==typeof this.player.el.style.borderRadius?(t="vjs-loading-spinner",e="<div class='ball1'></div><div class='ball2'></div><div class='ball3'></div><div class='ball4'></div><div class='ball5'></div><div class='ball6'></div><div class='ball7'></div><div class='ball8'></div>"):(t="vjs-loading-spinner-fallback",e=""),this._super("div",{className:t,innerHTML:e})}}),_V_.CurrentTimeDisplay=_V_.Component.extend({init:function(t,e){this._super(t,e),t.addEvent("timeupdate",_V_.proxy(this,this.updateContent))},createElement:function(){var t=this._super("div",{className:"vjs-current-time vjs-time-controls vjs-control"});return this.content=_V_.createElement("div",{className:"vjs-current-time-display",innerHTML:"0:00"}),t.appendChild(_V_.createElement("div").appendChild(this.content)),t},updateContent:function(){var t=this.player.scrubbing?this.player.values.currentTime:this.player.currentTime();this.content.innerHTML=_V_.formatTime(t,this.player.duration())}}),_V_.DurationDisplay=_V_.Component.extend({init:function(t,e){this._super(t,e),t.addEvent("timeupdate",_V_.proxy(this,this.updateContent))},createElement:function(){var t=this._super("div",{className:"vjs-duration vjs-time-controls vjs-control"});return this.content=_V_.createElement("div",{className:"vjs-duration-display",innerHTML:"0:00"}),t.appendChild(_V_.createElement("div").appendChild(this.content)),t},updateContent:function(){this.player.duration()&&(this.content.innerHTML=_V_.formatTime(this.player.duration()))}}),_V_.TimeDivider=_V_.Component.extend({createElement:function(){return this._super("div",{className:"vjs-time-divider",innerHTML:"<div><span>/</span></div>"})}}),_V_.RemainingTimeDisplay=_V_.Component.extend({init:function(t,e){this._super(t,e),t.addEvent("timeupdate",_V_.proxy(this,this.updateContent))},createElement:function(){var t=this._super("div",{className:"vjs-remaining-time vjs-time-controls vjs-control"});return this.content=_V_.createElement("div",{className:"vjs-remaining-time-display",innerHTML:"-0:00"}),t.appendChild(_V_.createElement("div").appendChild(this.content)),t},updateContent:function(){this.player.duration()&&(this.content.innerHTML="-"+_V_.formatTime(this.player.remainingTime()))}}),_V_.Slider=_V_.Component.extend({init:function(t,e){this._super(t,e),t.addEvent(this.playerEvent,_V_.proxy(this,this.update)),this.addEvent("mousedown",this.onMouseDown),this.addEvent("focus",this.onFocus),this.addEvent("blur",this.onBlur),this.player.addEvent("controlsvisible",this.proxy(this.update)),this.update()},createElement:function(t,e){return e=_V_.merge({role:"slider","aria-valuenow":0,"aria-valuemin":0,"aria-valuemax":100,tabIndex:0},e),this._super(t,e)},onMouseDown:function(t){t.preventDefault(),_V_.blockTextSelection(),_V_.addEvent(document,"mousemove",_V_.proxy(this,this.onMouseMove)),_V_.addEvent(document,"mouseup",_V_.proxy(this,this.onMouseUp)),this.onMouseMove(t)},onMouseUp:function(){_V_.unblockTextSelection(),_V_.removeEvent(document,"mousemove",this.onMouseMove,!1),_V_.removeEvent(document,"mouseup",this.onMouseUp,!1),this.update()},update:function(){var t,e=this.getPercent();if(handle=this.handle,bar=this.bar,isNaN(e)&&(e=0),t=e,handle){var n=this.el,i=n.offsetWidth,s=handle.el.offsetWidth,r=s?s/i:0,o=1-r;adjustedProgress=e*o,t=adjustedProgress+r/2,handle.el.style.left=_V_.round(100*adjustedProgress,2)+"%"}bar.el.style.width=_V_.round(100*t,2)+"%"},calculateDistance:function(t){var e=this.el,n=_V_.findPosX(e),i=e.offsetWidth,s=this.handle;if(s){var r=s.el.offsetWidth;n+=r/2,i-=r}return Math.max(0,Math.min(1,(t.pageX-n)/i))},onFocus:function(){_V_.addEvent(document,"keyup",_V_.proxy(this,this.onKeyPress))},onKeyPress:function(t){37==t.which?(t.preventDefault(),this.stepBack()):39==t.which&&(t.preventDefault(),this.stepForward())},onBlur:function(){_V_.removeEvent(document,"keyup",_V_.proxy(this,this.onKeyPress))}}),_V_.ProgressControl=_V_.Component.extend({options:{components:{seekBar:{}}},createElement:function(){return this._super("div",{className:"vjs-progress-control vjs-control"})}}),_V_.SeekBar=_V_.Slider.extend({options:{components:{loadProgressBar:{},bar:{componentClass:"PlayProgressBar"},handle:{componentClass:"SeekHandle"}}},playerEvent:"timeupdate",init:function(t,e){this._super(t,e)},createElement:function(){return this._super("div",{className:"vjs-progress-holder"})},getPercent:function(){return this.player.currentTime()/this.player.duration()},onMouseDown:function(t){this._super(t),this.player.scrubbing=!0,this.videoWasPlaying=!this.player.paused(),this.player.pause()},onMouseMove:function(t){var e=this.calculateDistance(t)*this.player.duration();e==this.player.duration()&&(e-=.1),this.player.currentTime(e)},onMouseUp:function(t){this._super(t),this.player.scrubbing=!1,this.videoWasPlaying&&this.player.play()},stepForward:function(){this.player.currentTime(this.player.currentTime()+1)},stepBack:function(){this.player.currentTime(this.player.currentTime()-1)}}),_V_.LoadProgressBar=_V_.Component.extend({init:function(t,e){this._super(t,e),t.addEvent("progress",_V_.proxy(this,this.update))},createElement:function(){return this._super("div",{className:"vjs-load-progress",innerHTML:'<span class="vjs-control-text">Loaded: 0%</span>'})},update:function(){this.el.style&&(this.el.style.width=_V_.round(100*this.player.bufferedPercent(),2)+"%")}}),_V_.PlayProgressBar=_V_.Component.extend({createElement:function(){return this._super("div",{className:"vjs-play-progress",innerHTML:'<span class="vjs-control-text">Progress: 0%</span>'})}}),_V_.SeekHandle=_V_.Component.extend({createElement:function(){return this._super("div",{className:"vjs-seek-handle",innerHTML:'<span class="vjs-control-text">00:00</span>'})}}),_V_.VolumeControl=_V_.Component.extend({options:{components:{volumeBar:{}}},createElement:function(){return this._super("div",{className:"vjs-volume-control vjs-control"})}}),_V_.VolumeBar=_V_.Slider.extend({options:{components:{bar:{componentClass:"VolumeLevel"},handle:{componentClass:"VolumeHandle"}}},playerEvent:"volumechange",createElement:function(){return this._super("div",{className:"vjs-volume-bar"})},onMouseMove:function(t){this.player.volume(this.calculateDistance(t))},getPercent:function(){return this.player.volume()},stepForward:function(){this.player.volume(this.player.volume()+.1)},stepBack:function(){this.player.volume(this.player.volume()-.1)}}),_V_.VolumeLevel=_V_.Component.extend({createElement:function(){return this._super("div",{className:"vjs-volume-level",innerHTML:'<span class="vjs-control-text"></span>'})}}),_V_.VolumeHandle=_V_.Component.extend({createElement:function(){return this._super("div",{className:"vjs-volume-handle",innerHTML:'<span class="vjs-control-text"></span>'})}}),_V_.MuteToggle=_V_.Button.extend({init:function(t,e){this._super(t,e),t.addEvent("volumechange",_V_.proxy(this,this.update))},createElement:function(){return this._super("div",{className:"vjs-mute-control vjs-control",innerHTML:'<div><span class="vjs-control-text">Mute</span></div>'})},onClick:function(){this.player.muted(this.player.muted()?!1:!0)},update:function(){var t=this.player.volume(),e=3;0==t||this.player.muted()?e=0:.33>t?e=1:.67>t&&(e=2),_V_.each.call(this,[0,1,2,3],function(t){_V_.removeClass(this.el,"vjs-vol-"+t)}),_V_.addClass(this.el,"vjs-vol-"+e)}}),_V_.PosterImage=_V_.Button.extend({init:function(t,e){this._super(t,e),this.player.options.poster||this.hide(),t.addEvent("play",_V_.proxy(this,this.hide))},createElement:function(){return _V_.createElement("img",{className:"vjs-poster",src:this.player.options.poster,tabIndex:-1})},onClick:function(){this.player.play()}}),_V_.Menu=_V_.Component.extend({init:function(t,e){this._super(t,e)},addItem:function(t){this.addComponent(t),t.addEvent("click",this.proxy(function(){this.unlockShowing()}))},createElement:function(){return this._super("ul",{className:"vjs-menu"})}}),_V_.MenuItem=_V_.Button.extend({init:function(t,e){this._super(t,e),e.selected&&this.addClass("vjs-selected")},createElement:function(t,e){return this._super("li",_V_.merge({className:"vjs-menu-item",innerHTML:this.options.label},e))},onClick:function(){this.selected(!0)},selected:function(t){t?this.addClass("vjs-selected"):this.removeClass("vjs-selected")}}),Array.prototype.indexOf||(Array.prototype.indexOf=function(t){"use strict";if(this===void 0||null===this)throw new TypeError;var e=Object(this),n=e.length>>>0;if(0===n)return-1;var i=0;if(arguments.length>0&&(i=Number(arguments[1]),i!==i?i=0:0!==i&&i!==1/0&&i!==-(1/0)&&(i=(i>0||-1)*Math.floor(Math.abs(i)))),i>=n)return-1;for(var s=i>=0?i:Math.max(n-Math.abs(i),0);n>s;s++)if(s in e&&e[s]===t)return s;return-1}),_V_.extend({addEvent:function(t,e,n){var i,s=_V_.getData(t);s&&!s.handler&&(s.handler=function(e){e=_V_.fixEvent(e);var n=_V_.getData(t).events[e.type];if(n){var i=[];_V_.each(n,function(t,e){i[e]=t});for(var s=0,r=i.length;r>s;s++)i[s].call(t,e)}}),s.events||(s.events={}),i=s.events[e],i||(i=s.events[e]=[],document.addEventListener?t.addEventListener(e,s.handler,!1):document.attachEvent&&t.attachEvent("on"+e,s.handler)),n.guid||(n.guid=_V_.guid++),i.push(n)},removeEvent:function(t,e,n){var i,s=_V_.getData(t);if(s.events)if(e){if(i=s.events[e]){if(n&&n.guid)for(var r=0;i.length>r;r++)i[r].guid===n.guid&&i.splice(r--,1);_V_.cleanUpEvents(t,e)}}else for(e in s.events)_V_.cleanUpEvents(t,e)},cleanUpEvents:function(t,e){var n=_V_.getData(t);0===n.events[e].length&&(delete n.events[e],document.removeEventListener?t.removeEventListener(e,n.handler,!1):document.detachEvent&&t.detachEvent("on"+e,n.handler)),_V_.isEmpty(n.events)&&(delete n.events,delete n.handler),_V_.isEmpty(n)&&_V_.removeData(t)},fixEvent:function(t){if(t[_V_.expando])return t;var e=t;t=new _V_.Event(e);for(var n,i=_V_.Event.props.length;i;)n=_V_.Event.props[--i],t[n]=e[n];if(t.target||(t.target=t.srcElement||document),3===t.target.nodeType&&(t.target=t.target.parentNode),!t.relatedTarget&&t.fromElement&&(t.relatedTarget=t.fromElement===t.target?t.toElement:t.fromElement),null==t.pageX&&null!=t.clientX){var s=t.target.ownerDocument||document,r=s.documentElement,o=s.body;t.pageX=t.clientX+(r&&r.scrollLeft||o&&o.scrollLeft||0)-(r&&r.clientLeft||o&&o.clientLeft||0),t.pageY=t.clientY+(r&&r.scrollTop||o&&o.scrollTop||0)-(r&&r.clientTop||o&&o.clientTop||0)}return null!=t.which||null==t.charCode&&null==t.keyCode||(t.which=null!=t.charCode?t.charCode:t.keyCode),!t.metaKey&&t.ctrlKey&&(t.metaKey=t.ctrlKey),t.which||t.button===undefined||(t.which=1&t.button?1:2&t.button?3:4&t.button?2:0),t},triggerEvent:function(t,e){var n,i=_V_.getData(t),s=(t.parentNode||t.ownerDocument,e.type||e);i&&(n=i.handler),e="object"==typeof e?e[_V_.expando]?e:new _V_.Event(s,e):new _V_.Event(s),e.type=s,n&&n.call(t,e),e.result=undefined,e.target=t},one:function(t,e,n){_V_.addEvent(t,e,function(){_V_.removeEvent(t,e,arguments.callee),n.apply(this,arguments)})}}),_V_.Event=function(t,e){t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||t.returnValue===!1||t.getPreventDefault&&t.getPreventDefault()?returnTrue:returnFalse):this.type=t,e&&_V_.merge(this,e),this.timeStamp=(new Date).getTime(),this[_V_.expando]=!0},_V_.Event.prototype={preventDefault:function(){this.isDefaultPrevented=returnTrue;var t=this.originalEvent;t&&(t.preventDefault?t.preventDefault():t.returnValue=!1)},stopPropagation:function(){this.isPropagationStopped=returnTrue;
var t=this.originalEvent;t&&(t.stopPropagation&&t.stopPropagation(),t.cancelBubble=!0)},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=returnTrue,this.stopPropagation()},isDefaultPrevented:returnFalse,isPropagationStopped:returnFalse,isImmediatePropagationStopped:returnFalse},_V_.Event.props="altKey attrChange attrName bubbles button cancelable charCode clientX clientY ctrlKey currentTarget data detail eventPhase fromElement handler keyCode metaKey newValue offsetX offsetY pageX pageY prevValue relatedNode relatedTarget screenX screenY shiftKey srcElement target toElement view wheelDelta which".split(" ");var JSON;JSON||(JSON={}),function(){var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g;"function"!=typeof JSON.parse&&(JSON.parse=function(text,reviver){function walk(t,e){var n,i,s=t[e];if(s&&"object"==typeof s)for(n in s)Object.prototype.hasOwnProperty.call(s,n)&&(i=walk(s,n),i!==undefined?s[n]=i:delete s[n]);return reviver.call(t,e,s)}var j;if(text+="",cx.lastIndex=0,cx.test(text)&&(text=text.replace(cx,function(t){return"\\u"+("0000"+t.charCodeAt(0).toString(16)).slice(-4)})),/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return j=eval("("+text+")"),"function"==typeof reviver?walk({"":j},""):j;throw new SyntaxError("JSON.parse")})}(),_V_.Player=_V_.Component.extend({init:function(t,e,n){this.tag=t;var i=this.el=_V_.createElement("div"),s=this.options={},r=s.width=t.getAttribute("width"),o=s.height=t.getAttribute("height"),a=r||300,l=o||150;if(t.player=i.player=this,this.ready(n),t.parentNode.insertBefore(i,t),i.appendChild(t),i.id=this.id=t.id,i.className=t.className,t.id+="_html5_api",t.className="vjs-tech",_V_.players[i.id]=this,i.setAttribute("width",a),i.setAttribute("height",l),i.style.width=a+"px",i.style.height=l+"px",t.removeAttribute("width"),t.removeAttribute("height"),_V_.merge(s,_V_.options),_V_.merge(s,this.getVideoTagSettings()),_V_.merge(s,e),t.removeAttribute("controls"),t.removeAttribute("poster"),t.hasChildNodes())for(var c=0,u=t.childNodes;u.length>c;c++)("SOURCE"==u[c].nodeName||"TRACK"==u[c].nodeName)&&t.removeChild(u[c]);if(this.values={},this.addClass("vjs-paused"),this.addEvent("ended",this.onEnded),this.addEvent("play",this.onPlay),this.addEvent("pause",this.onPause),this.addEvent("progress",this.onProgress),this.addEvent("error",this.onError),s.controls&&this.ready(function(){this.initComponents()}),this.textTracks=[],s.tracks&&s.tracks.length>0&&this.addTextTracks(s.tracks),s.sources&&0!=s.sources.length)this.src(s.sources);else for(var c=0,u=s.techOrder;u.length>c;c++){var h=u[c],d=_V_[h];if(d.isSupported()){this.loadTech(h);break}}},values:{},destroy:function(){this.stopTrackingProgress(),this.stopTrackingCurrentTime(),_V_.players[this.id]=null,delete _V_.players[this.id],this.tech.destroy(),this.el.parentNode.removeChild(this.el)},createElement:function(){},getVideoTagSettings:function(){var t={sources:[],tracks:[]};if(t.src=this.tag.getAttribute("src"),t.controls=null!==this.tag.getAttribute("controls"),t.poster=this.tag.getAttribute("poster"),t.preload=this.tag.getAttribute("preload"),t.autoplay=null!==this.tag.getAttribute("autoplay"),t.loop=null!==this.tag.getAttribute("loop"),t.muted=null!==this.tag.getAttribute("muted"),this.tag.hasChildNodes())for(var e,n=0,i=this.tag.childNodes;i.length>n;n++)e=i[n],"SOURCE"==e.nodeName&&t.sources.push({src:e.getAttribute("src"),type:e.getAttribute("type"),media:e.getAttribute("media"),title:e.getAttribute("title")}),"TRACK"==e.nodeName&&t.tracks.push({src:e.getAttribute("src"),kind:e.getAttribute("kind"),srclang:e.getAttribute("srclang"),label:e.getAttribute("label"),"default":null!==e.getAttribute("default"),title:e.getAttribute("title")});return t},loadTech:function(t,e){this.tech?this.unloadTech():"html5"!=t&&this.tag&&(this.el.removeChild(this.tag),this.tag=!1),this.techName=t,this.isReady=!1;var n=function(){this.player.triggerReady(),this.support.progressEvent||this.player.manualProgressOn(),this.support.timeupdateEvent||this.player.manualTimeUpdatesOn()},i=_V_.merge({source:e,parentEl:this.el},this.options[t]);e&&(e.src==this.values.src&&this.values.currentTime>0&&(i.startTime=this.values.currentTime),this.values.src=e.src),this.tech=new _V_[t](this,i),this.tech.ready(n)},unloadTech:function(){this.tech.destroy(),this.manualProgress&&this.manualProgressOff(),this.manualTimeUpdates&&this.manualTimeUpdatesOff(),this.tech=!1},manualProgressOn:function(){this.manualProgress=!0,this.trackProgress(),this.tech.addEvent("progress",function(){this.removeEvent("progress",arguments.callee),this.support.progressEvent=!0,this.player.manualProgressOff()})},manualProgressOff:function(){this.manualProgress=!1,this.stopTrackingProgress()},trackProgress:function(){this.progressInterval=setInterval(_V_.proxy(this,function(){this.values.bufferEnd<this.buffered().end(0)?this.triggerEvent("progress"):1==this.bufferedPercent()&&(this.stopTrackingProgress(),this.triggerEvent("progress"))}),500)},stopTrackingProgress:function(){clearInterval(this.progressInterval)},manualTimeUpdatesOn:function(){this.manualTimeUpdates=!0,this.addEvent("play",this.trackCurrentTime),this.addEvent("pause",this.stopTrackingCurrentTime),this.tech.addEvent("timeupdate",function(){this.removeEvent("timeupdate",arguments.callee),this.support.timeupdateEvent=!0,this.player.manualTimeUpdatesOff()})},manualTimeUpdatesOff:function(){this.manualTimeUpdates=!1,this.stopTrackingCurrentTime(),this.removeEvent("play",this.trackCurrentTime),this.removeEvent("pause",this.stopTrackingCurrentTime)},trackCurrentTime:function(){this.currentTimeInterval&&this.stopTrackingCurrentTime(),this.currentTimeInterval=setInterval(_V_.proxy(this,function(){this.triggerEvent("timeupdate")}),250)},stopTrackingCurrentTime:function(){clearInterval(this.currentTimeInterval)},onEnded:function(){this.options.loop?(this.currentTime(0),this.play()):(this.pause(),this.currentTime(0),this.pause())},onPlay:function(){_V_.removeClass(this.el,"vjs-paused"),_V_.addClass(this.el,"vjs-playing")},onPause:function(){_V_.removeClass(this.el,"vjs-playing"),_V_.addClass(this.el,"vjs-paused")},onProgress:function(){1==this.bufferedPercent()&&this.triggerEvent("loadedalldata")},onError:function(t){_V_.log("Video Error",t)},techCall:function(t,e){if(this.tech.isReady)try{this.tech[t](e)}catch(n){_V_.log(n)}else this.tech.ready(function(){this[t](e)})},techGet:function(t){if(this.tech.isReady)try{return this.tech[t]()}catch(e){this.tech[t]===undefined?_V_.log("Video.js: "+t+" method not defined for "+this.techName+" playback technology.",e):"TypeError"==e.name?(_V_.log("Video.js: "+t+" unavailable on "+this.techName+" playback technology element.",e),this.tech.isReady=!1):_V_.log(e)}},play:function(){return this.techCall("play"),this},pause:function(){return this.techCall("pause"),this},paused:function(){return this.techGet("paused")===!1?!1:!0},currentTime:function(t){return t!==undefined?(this.values.lastSetCurrentTime=t,this.techCall("setCurrentTime",t),this.manualTimeUpdates&&this.triggerEvent("timeupdate"),this):this.values.currentTime=this.techGet("currentTime")||0},duration:function(){return parseFloat(this.techGet("duration"))},remainingTime:function(){return this.duration()-this.currentTime()},buffered:function(){var t=this.techGet("buffered"),e=0,n=this.values.bufferEnd=this.values.bufferEnd||0;return t&&t.length>0&&t.end(0)!==n&&(n=t.end(0),this.values.bufferEnd=n),_V_.createTimeRange(e,n)},bufferedPercent:function(){return this.duration()?this.buffered().end(0)/this.duration():0},volume:function(t){var e;return t!==undefined?(e=Math.max(0,Math.min(1,parseFloat(t))),this.values.volume=e,this.techCall("setVolume",e),_V_.setLocalStorage("volume",e),this):(e=parseFloat(this.techGet("volume")),isNaN(e)?1:e)},muted:function(t){return t!==undefined?(this.techCall("setMuted",t),this):this.techGet("muted")||!1},width:function(t,e){return t!==undefined?(this.el.width=t,this.el.style.width=t+"px",e||this.triggerEvent("resize"),this):parseInt(this.el.getAttribute("width"))},height:function(t){return t!==undefined?(this.el.height=t,this.el.style.height=t+"px",this.triggerEvent("resize"),this):parseInt(this.el.getAttribute("height"))},size:function(t,e){return this.width(t,!0).height(e)},supportsFullScreen:function(){return this.techGet("supportsFullScreen")||!1},requestFullScreen:function(){var t=_V_.support.requestFullScreen;return this.isFullScreen=!0,t?(_V_.addEvent(document,t.eventName,this.proxy(function(){this.isFullScreen=document[t.isFullScreen],0==this.isFullScreen&&_V_.removeEvent(document,t.eventName,arguments.callee),this.triggerEvent("fullscreenchange")})),this.tech.support.fullscreenResize===!1&&1!=this.options.flash.iFrameMode?(this.pause(),this.unloadTech(),_V_.addEvent(document,t.eventName,this.proxy(function(){_V_.removeEvent(document,t.eventName,arguments.callee),this.loadTech(this.techName,{src:this.values.src})})),this.el[t.requestFn]()):this.el[t.requestFn]()):this.tech.supportsFullScreen()?(this.triggerEvent("fullscreenchange"),this.techCall("enterFullScreen")):(this.triggerEvent("fullscreenchange"),this.enterFullWindow()),this},cancelFullScreen:function(){var t=_V_.support.requestFullScreen;return this.isFullScreen=!1,t?this.tech.support.fullscreenResize===!1&&1!=this.options.flash.iFrameMode?(this.pause(),this.unloadTech(),_V_.addEvent(document,t.eventName,this.proxy(function(){_V_.removeEvent(document,t.eventName,arguments.callee),this.loadTech(this.techName,{src:this.values.src})})),document[t.cancelFn]()):document[t.cancelFn]():this.tech.supportsFullScreen()?(this.techCall("exitFullScreen"),this.triggerEvent("fullscreenchange")):(this.exitFullWindow(),this.triggerEvent("fullscreenchange")),this},enterFullWindow:function(){this.isFullWindow=!0,this.docOrigOverflow=document.documentElement.style.overflow,_V_.addEvent(document,"keydown",_V_.proxy(this,this.fullWindowOnEscKey)),document.documentElement.style.overflow="hidden",_V_.addClass(document.body,"vjs-full-window"),_V_.addClass(this.el,"vjs-fullscreen"),this.triggerEvent("enterFullWindow")},fullWindowOnEscKey:function(t){27==t.keyCode&&(1==this.isFullScreen?this.cancelFullScreen():this.exitFullWindow())},exitFullWindow:function(){this.isFullWindow=!1,_V_.removeEvent(document,"keydown",this.fullWindowOnEscKey),document.documentElement.style.overflow=this.docOrigOverflow,_V_.removeClass(document.body,"vjs-full-window"),_V_.removeClass(this.el,"vjs-fullscreen"),this.triggerEvent("exitFullWindow")},selectSource:function(t){for(var e=0,n=this.options.techOrder;n.length>e;e++){var i=n[e],s=_V_[i];if(s.isSupported())for(var r=0,o=t;o.length>r;r++){var a=o[r];if(s.canPlaySource.call(this,a))return{source:a,tech:i}}}return!1},src:function(t){if(t instanceof Array){var t,e,n=this.selectSource(t);n?(t=n.source,e=n.tech,e==this.techName?this.src(t):this.loadTech(e,t)):_V_.log("No compatible source and playback technology were found.")}else t instanceof Object?_V_[this.techName].canPlaySource(t)?this.src(t.src):this.src([t]):(this.values.src=t,this.isReady?(this.techCall("src",t),"auto"==this.options.preload&&this.load(),this.options.autoplay&&this.play()):this.ready(function(){this.src(t)}));return this},load:function(){return this.techCall("load"),this},currentSrc:function(){return this.techGet("currentSrc")||this.values.src||""},preload:function(t){return t!==undefined?(this.techCall("setPreload",t),this.options.preload=t,this):this.techGet("preload")},autoplay:function(t){return t!==undefined?(this.techCall("setAutoplay",t),this.options.autoplay=t,this):this.techGet("autoplay",t)},loop:function(t){return t!==undefined?(this.techCall("setLoop",t),this.options.loop=t,this):this.techGet("loop")},controls:function(){return this.options.controls},poster:function(){return this.techGet("poster")},error:function(){return this.techGet("error")},ended:function(){return this.techGet("ended")}}),function(){var t,e,n,i;_V_.Player.prototype,document.cancelFullscreen!==undefined?(t="requestFullscreen",e="exitFullscreen",n="fullscreenchange",i="fullScreen"):_V_.each(["moz","webkit"],function(s){"moz"==s&&!document.mozFullScreenEnabled||document[s+"CancelFullScreen"]===undefined||(t=s+"RequestFullScreen",e=s+"CancelFullScreen",n=s+"fullscreenchange",i="webkit"==s?s+"IsFullScreen":s+"FullScreen")}),t&&(_V_.support.requestFullScreen={requestFn:t,cancelFn:e,eventName:n,isFullScreen:i})}(),_V_.PlaybackTech=_V_.Component.extend({init:function(){},onClick:function(){this.player.options.controls&&_V_.PlayToggle.prototype.onClick.call(this)}}),_V_.apiMethods="play,pause,paused,currentTime,setCurrentTime,duration,buffered,volume,setVolume,muted,setMuted,width,height,supportsFullScreen,enterFullScreen,src,load,currentSrc,preload,setPreload,autoplay,setAutoplay,loop,setLoop,error,networkState,readyState,seeking,initialTime,startOffsetTime,played,seekable,ended,videoTracks,audioTracks,videoWidth,videoHeight,textTracks,defaultPlaybackRate,playbackRate,mediaGroup,controller,controls,defaultMuted".split(","),_V_.each(_V_.apiMethods,function(t){_V_.PlaybackTech.prototype[t]=function(){throw Error("The '"+t+"' method is not available on the playback technology's API")}}),_V_.html5=_V_.PlaybackTech.extend({init:function(t,e,n){this.player=t,this.el=this.createElement(),this.ready(n),this.addEvent("click",this.proxy(this.onClick));var i=e.source;i&&this.el.currentSrc==i.src?t.triggerEvent("loadstart"):i&&(this.el.src=i.src),t.ready(function(){this.options.autoplay&&this.paused()&&(this.tag.poster=null,this.play())}),this.setupTriggers(),this.triggerReady()},destroy:function(){this.player.tag=!1,this.removeTriggers(),this.el.parentNode.removeChild(this.el)},createElement:function(){var t,e=(_V_.html5,this.player),n=e.tag;return n&&this.support.movingElementInDOM!==!1||(n&&e.el.removeChild(n),t=_V_.createElement("video",{id:n.id||e.el.id+"_html5_api",className:n.className||"vjs-tech"}),n=t,_V_.insertFirst(n,e.el)),_V_.each(["autoplay","preload","loop","muted"],function(t){null!==e.options[t]&&(n[t]=e.options[t])},this),n},setupTriggers:function(){_V_.each.call(this,_V_.html5.events,function(t){_V_.addEvent(this.el,t,_V_.proxy(this.player,this.eventHandler))})},removeTriggers:function(){_V_.each.call(this,_V_.html5.events,function(t){_V_.removeEvent(this.el,t,_V_.proxy(this.player,this.eventHandler))})},eventHandler:function(t){t.stopPropagation(),this.triggerEvent(t)},play:function(){this.el.play()},pause:function(){this.el.pause()},paused:function(){return this.el.paused},currentTime:function(){return this.el.currentTime},setCurrentTime:function(t){try{this.el.currentTime=t}catch(e){_V_.log(e,"Video isn't ready. (VideoJS)")}},duration:function(){return this.el.duration||0},buffered:function(){return this.el.buffered},volume:function(){return this.el.volume},setVolume:function(t){this.el.volume=t},muted:function(){return this.el.muted},setMuted:function(t){this.el.muted=t},width:function(){return this.el.offsetWidth},height:function(){return this.el.offsetHeight},supportsFullScreen:function(){return"function"!=typeof this.el.webkitEnterFullScreen||navigator.userAgent.match("Chrome")||navigator.userAgent.match("Mac OS X 10.5")?!1:!0},enterFullScreen:function(){try{this.el.webkitEnterFullScreen()}catch(t){11==t.code&&_V_.log("VideoJS: Video not ready.")}},src:function(t){this.el.src=t},load:function(){this.el.load()},currentSrc:function(){return this.el.currentSrc},preload:function(){return this.el.preload},setPreload:function(t){this.el.preload=t},autoplay:function(){return this.el.autoplay},setAutoplay:function(t){this.el.autoplay=t},loop:function(){return this.el.loop},setLoop:function(t){this.el.loop=t},error:function(){return this.el.error},seeking:function(){return this.el.seeking},ended:function(){return this.el.ended},controls:function(){return this.player.options.controls},defaultMuted:function(){return this.el.defaultMuted}}),_V_.html5.isSupported=function(){return!!document.createElement("video").canPlayType},_V_.html5.canPlaySource=function(t){return!!document.createElement("video").canPlayType(t.type)},_V_.html5.events="loadstart,suspend,abort,error,emptied,stalled,loadedmetadata,loadeddata,canplay,canplaythrough,playing,waiting,seeking,seeked,ended,durationchange,timeupdate,progress,play,pause,ratechange,volumechange".split(","),_V_.html5.prototype.support={fullscreen:typeof _V_.testVid.webkitEnterFullScreen!==undefined?_V_.ua.match("Chrome")||_V_.ua.match("Mac OS X 10.5")?!1:!0:!1,movingElementInDOM:!_V_.isIOS()},_V_.isAndroid()&&3>_V_.androidVersion()&&(document.createElement("video").constructor.prototype.canPlayType=function(t){return t&&-1!=t.toLowerCase().indexOf("video/mp4")?"maybe":""}),_V_.flash=_V_.PlaybackTech.extend({init:function(t,e){this.player=t;var n=e.source,i=e.parentEl,s=this.el=_V_.createElement("div",{id:i.id+"_temp_flash"}),r=t.el.id+"_flash_api",o=t.options,a=_V_.merge({readyFunction:"_V_.flash.onReady",eventProxyFunction:"_V_.flash.onEvent",errorEventProxyFunction:"_V_.flash.onError",autoplay:o.autoplay,preload:o.preload,loop:o.loop,muted:o.muted},e.flashVars),l=_V_.merge({wmode:"opaque",bgcolor:"#000000"},e.params),c=_V_.merge({id:r,name:r,"class":"vjs-tech"},e.attributes);if(n&&(a.src=encodeURIComponent(_V_.getAbsoluteURL(n.src))),_V_.insertFirst(s,i),e.startTime&&this.ready(function(){this.load(),this.play(),this.currentTime(e.startTime)}),1!=e.iFrameMode||_V_.isFF)_V_.flash.embed(e.swf,s,a,l,c);else{var u=_V_.createElement("iframe",{id:r+"_iframe",name:r+"_iframe",className:"vjs-tech",scrolling:"no",marginWidth:0,marginHeight:0,frameBorder:0});a.readyFunction="ready",a.eventProxyFunction="events",a.errorEventProxyFunction="errors",_V_.addEvent(u,"load",_V_.proxy(this,function(){var t,n=u.contentWindow;t=u.contentDocument?u.contentDocument:u.contentWindow.document,t.write(_V_.flash.getEmbedCode(e.swf,a,l,c)),n.player=this.player,n.ready=_V_.proxy(this.player,function(e){var n=t.getElementById(e),i=this,s=i.tech;s.el=n,_V_.addEvent(n,"click",s.proxy(s.onClick)),_V_.flash.checkReady(s)}),n.events=_V_.proxy(this.player,function(t,e){var n=this;n&&"flash"==n.techName&&n.triggerEvent(e)}),n.errors=_V_.proxy(this.player,function(t,e){_V_.log("Flash Error",e)})})),s.parentNode.replaceChild(u,s)}},destroy:function(){this.el.parentNode.removeChild(this.el)},play:function(){this.el.vjs_play()},pause:function(){this.el.vjs_pause()},src:function(t){if(t=_V_.getAbsoluteURL(t),this.el.vjs_src(t),this.player.autoplay()){var e=this;setTimeout(function(){e.play()},0)}},load:function(){this.el.vjs_load()},poster:function(){this.el.vjs_getProperty("poster")},buffered:function(){return _V_.createTimeRange(0,this.el.vjs_getProperty("buffered"))},supportsFullScreen:function(){return!1},enterFullScreen:function(){return!1}}),function(){var t=_V_.flash.prototype,e="preload,currentTime,defaultPlaybackRate,playbackRate,autoplay,loop,mediaGroup,controller,controls,volume,muted,defaultMuted".split(","),n="error,currentSrc,networkState,readyState,seeking,initialTime,duration,startOffsetTime,paused,played,seekable,ended,videoTracks,audioTracks,videoWidth,videoHeight,textTracks".split(",");"load,play,pause".split(","),createSetter=function(e){var n=e.charAt(0).toUpperCase()+e.slice(1);t["set"+n]=function(t){return this.el.vjs_setProperty(e,t)}},createGetter=function(e){t[e]=function(){return this.el.vjs_getProperty(e)}},_V_.each(e,function(t){createGetter(t),createSetter(t)}),_V_.each(n,function(t){createGetter(t)})}(),_V_.flash.isSupported=function(){return _V_.flash.version()[0]>=10},_V_.flash.canPlaySource=function(t){return t.type in _V_.flash.prototype.support.formats?"maybe":undefined},_V_.flash.prototype.support={formats:{"video/flv":"FLV","video/x-flv":"FLV","video/mp4":"MP4","video/m4v":"MP4"},progressEvent:!1,timeupdateEvent:!1,fullscreenResize:!1,parentResize:!_V_.ua.match("Firefox")},_V_.flash.onReady=function(t){var e=_V_.el(t),n=e.player||e.parentNode.player,i=n.tech;e.player=n,i.el=e,i.addEvent("click",i.onClick),_V_.flash.checkReady(i)},_V_.flash.checkReady=function(t){t.el.vjs_getProperty?t.triggerReady():setTimeout(function(){_V_.flash.checkReady(t)},50)},_V_.flash.onEvent=function(t,e){var n=_V_.el(t).player;n.triggerEvent(e)},_V_.flash.onError=function(t,e){var n=_V_.el(t).player;n.triggerEvent("error"),_V_.log("Flash Error",e,t)},_V_.flash.version=function(){var t="0,0,0";try{t=new ActiveXObject("ShockwaveFlash.ShockwaveFlash").GetVariable("$version").replace(/\D+/g,",").match(/^,?(.+),?$/)[1]}catch(e){try{navigator.mimeTypes["application/x-shockwave-flash"].enabledPlugin&&(t=(navigator.plugins["Shockwave Flash 2.0"]||navigator.plugins["Shockwave Flash"]).description.replace(/\D+/g,",").match(/^,?(.+),?$/)[1])}catch(e){}}return t.split(",")},_V_.flash.embed=function(t,e,n,i,s){var r=_V_.flash.getEmbedCode(t,n,i,s),o=_V_.createElement("div",{innerHTML:r}).childNodes[0],a=e.parentNode;if(e.parentNode.replaceChild(o,e),_V_.isIE()){var l=a.childNodes[0];setTimeout(function(){l.style.display="block"},1e3)}return o},_V_.flash.getEmbedCode=function(t,e,n,i){var s='<object type="application/x-shockwave-flash"',r="",o="";return attrsString="",e&&_V_.eachProp(e,function(t,e){r+=t+"="+e+"&amp;"}),n=_V_.merge({movie:t,flashvars:r,allowScriptAccess:"always",allowNetworking:"all"},n),_V_.eachProp(n,function(t,e){o+='<param name="'+t+'" value="'+e+'" />'}),i=_V_.merge({data:t,width:"100%",height:"100%"},i),_V_.eachProp(i,function(t,e){attrsString+=t+'="'+e+'" '}),s+attrsString+">"+o+"</object>"},_V_.merge(_V_.Player.prototype,{addTextTracks:function(t){for(var e,n,i=this.textTracks=this.textTracks?this.textTracks:[],s=0,r=t.length;r>s;s++)n=_V_.uc(t[s].kind||"subtitles"),e=new _V_[n+"Track"](this,t[s]),i.push(e),e["default"]&&this.ready(_V_.proxy(e,e.show));return this},showTextTrack:function(t,e){for(var n,i,s,r=this.textTracks,o=0,a=r.length;a>o;o++)n=r[o],n.id===t?(n.show(),i=n):e&&n.kind==e&&n.mode>0&&n.disable();return s=i?i.kind:e?e:!1,s&&this.triggerEvent(s+"trackchange"),this}}),_V_.Track=_V_.Component.extend({init:function(t,e){this._super(t,e),_V_.merge(this,{id:e.id||"vjs_"+e.kind+"_"+e.language+"_"+_V_.guid++,src:e.src,"default":e["default"],title:e.title,language:e.srclang,label:e.label,cues:[],activeCues:[],readyState:0,mode:0})},createElement:function(){return this._super("div",{className:"vjs-"+this.kind+" vjs-text-track"})},show:function(){this.activate(),this.mode=2,this._super()},hide:function(){this.activate(),this.mode=1,this._super()},disable:function(){2==this.mode&&this.hide(),this.deactivate(),this.mode=0},activate:function(){0==this.readyState&&this.load(),0==this.mode&&(this.player.addEvent("timeupdate",this.proxy(this.update,this.id)),this.player.addEvent("ended",this.proxy(this.reset,this.id)),("captions"==this.kind||"subtitles"==this.kind)&&this.player.textTrackDisplay.addComponent(this))},deactivate:function(){this.player.removeEvent("timeupdate",this.proxy(this.update,this.id)),this.player.removeEvent("ended",this.proxy(this.reset,this.id)),this.reset(),this.player.textTrackDisplay.removeComponent(this)},load:function(){0==this.readyState&&(this.readyState=1,_V_.get(this.src,this.proxy(this.parseCues),this.proxy(this.onError)))},onError:function(t){this.error=t,this.readyState=3,this.triggerEvent("error")},parseCues:function(t){for(var e,n,i,s,r=t.split("\n"),o="",a=1,l=r.length;l>a;a++)if(o=_V_.trim(r[a])){for(-1==o.indexOf("-->")?(s=o,o=_V_.trim(r[++a])):s=this.cues.length,e={id:s,index:this.cues.length},n=o.split(" --> "),e.startTime=this.parseCueTime(n[0]),e.endTime=this.parseCueTime(n[1]),i=[];r[++a]&&(o=_V_.trim(r[a]));)i.push(o);e.text=i.join("<br/>"),this.cues.push(e)}this.readyState=2,this.triggerEvent("loaded")},parseCueTime:function(t){var e,n,i,s,r,o=t.split(":"),a=0;return 3==o.length?(e=o[0],n=o[1],i=o[2]):(e=0,n=o[0],i=o[1]),i=i.split(/\s+/),s=i.splice(0,1)[0],s=s.split(/\.|,/),r=parseFloat(s[1]),s=s[0],a+=3600*parseFloat(e),a+=60*parseFloat(n),a+=parseFloat(s),r&&(a+=r/1e3),a},update:function(){if(this.cues.length>0){var t=this.player.currentTime();if(this.prevChange===undefined||this.prevChange>t||t>=this.nextChange){var e,n,i,s,r=this.cues,o=this.player.duration(),a=0,l=!1,c=[];for(t>=this.nextChange||this.nextChange===undefined?s=this.firstActiveIndex!==undefined?this.firstActiveIndex:0:(l=!0,s=this.lastActiveIndex!==undefined?this.lastActiveIndex:r.length-1);;){if(i=r[s],t>=i.endTime)a=Math.max(a,i.endTime),i.active&&(i.active=!1);else if(i.startTime>t){if(o=Math.min(o,i.startTime),i.active&&(i.active=!1),!l)break}else l?(c.splice(0,0,i),n===undefined&&(n=s),e=s):(c.push(i),e===undefined&&(e=s),n=s),o=Math.min(o,i.endTime),a=Math.max(a,i.startTime),i.active=!0;if(l){if(0===s)break;s--}else{if(s===r.length-1)break;s++}}this.activeCues=c,this.nextChange=o,this.prevChange=a,this.firstActiveIndex=e,this.lastActiveIndex=n,this.updateDisplay(),this.triggerEvent("cuechange")}}},updateDisplay:function(){for(var t=this.activeCues,e="",n=0,i=t.length;i>n;n++)e+="<span class='vjs-tt-cue'>"+t[n].text+"</span>";this.el.innerHTML=e},reset:function(){this.nextChange=0,this.prevChange=this.player.duration(),this.firstActiveIndex=0,this.lastActiveIndex=0}}),_V_.CaptionsTrack=_V_.Track.extend({kind:"captions"}),_V_.SubtitlesTrack=_V_.Track.extend({kind:"subtitles"}),_V_.ChaptersTrack=_V_.Track.extend({kind:"chapters"}),_V_.TextTrackDisplay=_V_.Component.extend({createElement:function(){return this._super("div",{className:"vjs-text-track-display"})}}),_V_.TextTrackMenuItem=_V_.MenuItem.extend({init:function(t,e){var n=this.track=e.track;e.label=n.label,e.selected=n["default"],this._super(t,e),this.player.addEvent(n.kind+"trackchange",_V_.proxy(this,this.update))},onClick:function(){this._super(),this.player.showTextTrack(this.track.id,this.track.kind)},update:function(){2==this.track.mode?this.selected(!0):this.selected(!1)}}),_V_.OffTextTrackMenuItem=_V_.TextTrackMenuItem.extend({init:function(t,e){e.track={kind:e.kind,player:t,label:"Off"},this._super(t,e)},onClick:function(){this._super(),this.player.showTextTrack(this.track.id,this.track.kind)},update:function(){for(var t,e=this.player.textTracks,n=0,i=e.length,s=!0;i>n;n++)t=e[n],t.kind==this.track.kind&&2==t.mode&&(s=!1);s?this.selected(!0):this.selected(!1)}}),_V_.TextTrackButton=_V_.Button.extend({init:function(t,e){this._super(t,e),this.menu=this.createMenu(),0===this.items.length&&this.hide()},createMenu:function(){var t=new _V_.Menu(this.player);return t.el.appendChild(_V_.createElement("li",{className:"vjs-menu-title",innerHTML:_V_.uc(this.kind)})),t.addItem(new _V_.OffTextTrackMenuItem(this.player,{kind:this.kind})),this.items=this.createItems(),this.each(this.items,function(e){t.addItem(e)}),this.addComponent(t),t},createItems:function(){var t=[];return this.each(this.player.textTracks,function(e){e.kind===this.kind&&t.push(new _V_.TextTrackMenuItem(this.player,{track:e}))}),t},buildCSSClass:function(){return this.className+" vjs-menu-button "+this._super()},onFocus:function(){this.menu.lockShowing(),_V_.one(this.menu.el.childNodes[this.menu.el.childNodes.length-1],"blur",this.proxy(function(){this.menu.unlockShowing()}))},onBlur:function(){},onClick:function(){this.one("mouseout",this.proxy(function(){this.menu.unlockShowing(),this.el.blur()}))}}),_V_.CaptionsButton=_V_.TextTrackButton.extend({kind:"captions",buttonText:"Captions",className:"vjs-captions-button"}),_V_.SubtitlesButton=_V_.TextTrackButton.extend({kind:"subtitles",buttonText:"Subtitles",className:"vjs-subtitles-button"}),_V_.ChaptersButton=_V_.TextTrackButton.extend({kind:"chapters",buttonText:"Chapters",className:"vjs-chapters-button",createItems:function(){var t=[];return this.each(this.player.textTracks,function(e){e.kind===this.kind&&t.push(new _V_.TextTrackMenuItem(this.player,{track:e}))}),t},createMenu:function(){for(var t,e,n=this.player.textTracks,i=0,s=n.length,r=this.items=[];s>i;i++)if(t=n[i],t.kind==this.kind&&t["default"]){if(2>t.readyState)return this.chaptersTrack=t,t.addEvent("loaded",this.proxy(this.createMenu)),undefined;e=t;break}var o=this.menu=new _V_.Menu(this.player);if(o.el.appendChild(_V_.createElement("li",{className:"vjs-menu-title",innerHTML:_V_.uc(this.kind)})),e)for(var a,l,c=e.cues,i=0,s=c.length;s>i;i++)a=c[i],l=new _V_.ChaptersTrackMenuItem(this.player,{track:e,cue:a}),r.push(l),o.addComponent(l);return this.addComponent(o),this.items.length>0&&this.show(),o}}),_V_.ChaptersTrackMenuItem=_V_.MenuItem.extend({init:function(t,e){var n=this.track=e.track,i=this.cue=e.cue,s=t.currentTime();e.label=i.text,e.selected=s>=i.startTime&&i.endTime>s,this._super(t,e),n.addEvent("cuechange",_V_.proxy(this,this.update))},onClick:function(){this._super(),this.player.currentTime(this.cue.startTime),this.update(this.cue.startTime)},update:function(){var t=this.cue,e=this.player.currentTime();e>=t.startTime&&t.endTime>e?this.selected(!0):this.selected(!1)}}),_V_.merge(_V_.ControlBar.prototype.options.components,{subtitlesButton:{},captionsButton:{},chaptersButton:{}}),_V_.autoSetup=function(){var t,e,n,i=document.getElementsByTagName("video");if(i&&i.length>0)for(var s=0,r=i.length;r>s;s++){if(e=i[s],!e||!e.getAttribute){_V_.autoSetupTimeout(1);break}e.player===undefined&&(t=e.getAttribute("data-setup"),null!==t&&(t=JSON.parse(t||"{}"),n=_V_(e,t)))}else _V_.windowLoaded||_V_.autoSetupTimeout(1)},_V_.autoSetupTimeout=function(t){setTimeout(_V_.autoSetup,t)},_V_.addEvent(window,"load",function(){_V_.windowLoaded=!0}),_V_.autoSetup(),window.VideoJS=window._V_=VideoJS}(window),function(t){function e(t,e,n,i){var s=n.lang();return s[t].call?s[t](n,i):s[t][e]}function n(t,e){return function(n){return a(t.call(this,n),e)}}function i(t){return function(e){var n=t.call(this,e);return n+this.lang().ordinal(n)}}function s(t,e,n){this._d=t,this._isUTC=!!e,this._a=t._a||null,this._lang=n||!1}function r(t){var e=this._data={},n=t.years||t.y||0,i=t.months||t.M||0,s=t.weeks||t.w||0,r=t.days||t.d||0,a=t.hours||t.h||0,l=t.minutes||t.m||0,c=t.seconds||t.s||0,u=t.milliseconds||t.ms||0;this._milliseconds=u+1e3*c+6e4*l+36e5*a,this._days=r+7*s,this._months=i+12*n,e.milliseconds=u%1e3,c+=o(u/1e3),e.seconds=c%60,l+=o(c/60),e.minutes=l%60,a+=o(l/60),e.hours=a%24,r+=o(a/24),r+=7*s,e.days=r%30,i+=o(r/30),e.months=i%12,n+=o(i/12),e.years=n,this._lang=!1}function o(t){return 0>t?Math.ceil(t):Math.floor(t)}function a(t,e){for(var n=t+"";e>n.length;)n="0"+n;return n}function l(t,e,n){var i,s=e._milliseconds,r=e._days,o=e._months;s&&t._d.setTime(+t+s*n),r&&t.date(t.date()+r*n),o&&(i=t.date(),t.date(1).month(t.month()+o*n).date(Math.min(i,t.daysInMonth())))}function c(t){return"[object Array]"===Object.prototype.toString.call(t)}function u(t,e){var n,i=Math.min(t.length,e.length),s=Math.abs(t.length-e.length),r=0;for(n=0;i>n;n++)~~t[n]!==~~e[n]&&r++;return r+s}function h(t,e,n,i){var s,r,o=[];for(s=0;7>s;s++)o[s]=t[s]=null==t[s]?2===s?1:0:t[s];return t[7]=o[7]=e,null!=t[8]&&(o[8]=t[8]),t[3]+=n||0,t[4]+=i||0,r=new Date(0),e?(r.setUTCFullYear(t[0],t[1],t[2]),r.setUTCHours(t[3],t[4],t[5],t[6])):(r.setFullYear(t[0],t[1],t[2]),r.setHours(t[3],t[4],t[5],t[6])),r._a=o,r}function d(t,e){var n,i,s=[];for(!e&&D&&(e=require("./lang/"+t)),n=0;N.length>n;n++)e[N[n]]=e[N[n]]||A.en[N[n]];for(n=0;12>n;n++)i=k([2e3,n]),s[n]=RegExp("^"+(e.months[n]||e.months(i,""))+"|^"+(e.monthsShort[n]||e.monthsShort(i,"")).replace(".",""),"i");return e.monthsParse=e.monthsParse||s,A[t]=e,e}function p(t){var e="string"==typeof t&&t||t&&t._lang||null;return e?A[e]||d(e):k}function f(t){return t.match(/\[.*\]/)?t.replace(/^\[|\]$/g,""):t.replace(/\\/g,"")}function m(t){var e,n,i=t.match(L);for(e=0,n=i.length;n>e;e++)i[e]=ee[i[e]]?ee[i[e]]:f(i[e]);return function(s){var r="";for(e=0;n>e;e++)r+="function"==typeof i[e].call?i[e].call(s,t):i[e];return r}}function g(t,e){function n(e){return t.lang().longDateFormat[e]||e
}for(var i=5;i--&&H.test(e);)e=e.replace(H,n);return X[e]||(X[e]=m(e)),X[e](t)}function v(t){switch(t){case"DDDD":return R;case"YYYY":return $;case"S":case"SS":case"SSS":case"DDD":return F;case"MMM":case"MMMM":case"dd":case"ddd":case"dddd":case"a":case"A":return z;case"Z":case"ZZ":return W;case"T":return U;case"MM":case"DD":case"YY":case"HH":case"hh":case"mm":case"ss":case"M":case"D":case"d":case"H":case"h":case"m":case"s":return B;default:return RegExp(t.replace("\\",""))}}function y(t,e,n,i){var s,r;switch(t){case"M":case"MM":n[1]=null==e?0:~~e-1;break;case"MMM":case"MMMM":for(s=0;12>s;s++)if(p().monthsParse[s].test(e)){n[1]=s,r=!0;break}r||(n[8]=!1);break;case"D":case"DD":case"DDD":case"DDDD":null!=e&&(n[2]=~~e);break;case"YY":n[0]=~~e+(~~e>70?1900:2e3);break;case"YYYY":n[0]=~~Math.abs(e);break;case"a":case"A":i.isPm="pm"===(e+"").toLowerCase();break;case"H":case"HH":case"h":case"hh":n[3]=~~e;break;case"m":case"mm":n[4]=~~e;break;case"s":case"ss":n[5]=~~e;break;case"S":case"SS":case"SSS":n[6]=~~(1e3*("0."+e));break;case"Z":case"ZZ":i.isUTC=!0,s=(e+"").match(G),s&&s[1]&&(i.tzh=~~s[1]),s&&s[2]&&(i.tzm=~~s[2]),s&&"+"===s[0]&&(i.tzh=-i.tzh,i.tzm=-i.tzm)}null==e&&(n[8]=!1)}function _(t,e){var n,i,s=[0,0,1,0,0,0,0],r={tzh:0,tzm:0},o=e.match(L);for(n=0;o.length>n;n++)i=(v(o[n]).exec(t)||[])[0],i&&(t=t.slice(t.indexOf(i)+i.length)),ee[o[n]]&&y(o[n],i,s,r);return r.isPm&&12>s[3]&&(s[3]+=12),r.isPm===!1&&12===s[3]&&(s[3]=0),h(s,r.isUTC,r.tzh,r.tzm)}function b(t,e){var n,i,r,o,a,l=t.match(I)||[],c=99;for(r=0;e.length>r;r++)o=_(t,e[r]),i=g(new s(o),e[r]).match(I)||[],a=u(l,i),c>a&&(c=a,n=o);return n}function w(t){var e,n="YYYY-MM-DDT";if(Y.exec(t)){for(e=0;4>e;e++)if(q[e][1].exec(t)){n+=q[e][0];break}return W.exec(t)?_(t,n+" Z"):_(t,n)}return new Date(t)}function C(t,e,n,i,s){var r=s.relativeTime[t];return"function"==typeof r?r(e||1,!!n,t,i):r.replace(/%d/i,e||1)}function x(t,e,n){var i=M(Math.abs(t)/1e3),s=M(i/60),r=M(s/60),o=M(r/24),a=M(o/365),l=45>i&&["s",i]||1===s&&["m"]||45>s&&["mm",s]||1===r&&["h"]||22>r&&["hh",r]||1===o&&["d"]||25>=o&&["dd",o]||45>=o&&["M"]||345>o&&["MM",M(o/30)]||1===a&&["y"]||["yy",a];return l[2]=e,l[3]=t>0,l[4]=n,C.apply({},l)}function S(t,e){k.fn[t]=function(t){var n=this._isUTC?"UTC":"";return null!=t?(this._d["set"+n+e](t),this):this._d["get"+n+e]()}}function T(t){k.duration.fn[t]=function(){return this._data[t]}}function E(t,e){k.duration.fn["as"+t]=function(){return+this/e}}for(var k,V,O="1.7.2",M=Math.round,A={},P="en",D="undefined"!=typeof module&&module.exports,N="months|monthsShort|weekdays|weekdaysShort|weekdaysMin|longDateFormat|calendar|relativeTime|ordinal|meridiem".split("|"),j=/^\/?Date\((\-?\d+)/i,L=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|YYYY|YY|a|A|hh?|HH?|mm?|ss?|SS?S?|zz?|ZZ?|.)/g,H=/(\[[^\[]*\])|(\\)?(LT|LL?L?L?)/g,I=/([0-9a-zA-Z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+)/gi,B=/\d\d?/,F=/\d{1,3}/,R=/\d{3}/,$=/\d{1,4}/,z=/[0-9a-z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+/i,W=/Z|[\+\-]\d\d:?\d\d/i,U=/T/i,Y=/^\s*\d{4}-\d\d-\d\d(T(\d\d(:\d\d(:\d\d(\.\d\d?\d?)?)?)?)?([\+\-]\d\d:?\d\d)?)?/,J="YYYY-MM-DDTHH:mm:ssZ",q=[["HH:mm:ss.S",/T\d\d:\d\d:\d\d\.\d{1,3}/],["HH:mm:ss",/T\d\d:\d\d:\d\d/],["HH:mm",/T\d\d:\d\d/],["HH",/T\d\d/]],G=/([\+\-]|\d\d)/gi,K="Month|Date|Hours|Minutes|Seconds|Milliseconds".split("|"),Q={Milliseconds:1,Seconds:1e3,Minutes:6e4,Hours:36e5,Days:864e5,Months:2592e6,Years:31536e6},X={},Z="DDD w M D d".split(" "),te="M D H h m s w".split(" "),ee={M:function(){return this.month()+1},MMM:function(t){return e("monthsShort",this.month(),this,t)},MMMM:function(t){return e("months",this.month(),this,t)},D:function(){return this.date()},DDD:function(){var t=new Date(this.year(),this.month(),this.date()),e=new Date(this.year(),0,1);return~~((t-e)/864e5+1.5)},d:function(){return this.day()},dd:function(t){return e("weekdaysMin",this.day(),this,t)},ddd:function(t){return e("weekdaysShort",this.day(),this,t)},dddd:function(t){return e("weekdays",this.day(),this,t)},w:function(){var t=new Date(this.year(),this.month(),this.date()-this.day()+5),e=new Date(t.getFullYear(),0,4);return~~((t-e)/864e5/7+1.5)},YY:function(){return a(this.year()%100,2)},YYYY:function(){return a(this.year(),4)},a:function(){return this.lang().meridiem(this.hours(),this.minutes(),!0)},A:function(){return this.lang().meridiem(this.hours(),this.minutes(),!1)},H:function(){return this.hours()},h:function(){return this.hours()%12||12},m:function(){return this.minutes()},s:function(){return this.seconds()},S:function(){return~~(this.milliseconds()/100)},SS:function(){return a(~~(this.milliseconds()/10),2)},SSS:function(){return a(this.milliseconds(),3)},Z:function(){var t=-this.zone(),e="+";return 0>t&&(t=-t,e="-"),e+a(~~(t/60),2)+":"+a(~~t%60,2)},ZZ:function(){var t=-this.zone(),e="+";return 0>t&&(t=-t,e="-"),e+a(~~(10*t/6),4)}};Z.length;)V=Z.pop(),ee[V+"o"]=i(ee[V]);for(;te.length;)V=te.pop(),ee[V+V]=n(ee[V],2);for(ee.DDDD=n(ee.DDD,3),k=function(e,n){if(null===e||""===e)return null;var i,r;return k.isMoment(e)?new s(new Date(+e._d),e._isUTC,e._lang):(n?i=c(n)?b(e,n):_(e,n):(r=j.exec(e),i=e===t?new Date:r?new Date(+r[1]):e instanceof Date?e:c(e)?h(e):"string"==typeof e?w(e):new Date(e)),new s(i))},k.utc=function(t,e){return c(t)?new s(h(t,!0),!0):("string"!=typeof t||W.exec(t)||(t+=" +0000",e&&(e+=" Z")),k(t,e).utc())},k.unix=function(t){return k(1e3*t)},k.duration=function(t,e){var n,i=k.isDuration(t),s="number"==typeof t,o=i?t._data:s?{}:t;return s&&(e?o[e]=t:o.milliseconds=t),n=new r(o),i&&(n._lang=t._lang),n},k.humanizeDuration=function(t,e,n){return k.duration(t,e===!0?null:e).humanize(e===!0?!0:n)},k.version=O,k.defaultFormat=J,k.lang=function(t,e){var n;if(!t)return P;if((e||!A[t])&&d(t,e),A[t]){for(n=0;N.length>n;n++)k[N[n]]=A[t][N[n]];k.monthsParse=A[t].monthsParse,P=t}},k.langData=p,k.isMoment=function(t){return t instanceof s},k.isDuration=function(t){return t instanceof r},k.lang("en",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D YYYY",LLL:"MMMM D YYYY LT",LLLL:"dddd, MMMM D YYYY LT"},meridiem:function(t,e,n){return t>11?n?"pm":"PM":n?"am":"AM"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},ordinal:function(t){var e=t%10;return 1===~~(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th"}}),k.fn=s.prototype={clone:function(){return k(this)},valueOf:function(){return+this._d},unix:function(){return Math.floor(+this._d/1e3)},toString:function(){return""+this._d},toDate:function(){return this._d},toArray:function(){var t=this;return[t.year(),t.month(),t.date(),t.hours(),t.minutes(),t.seconds(),t.milliseconds(),!!this._isUTC]},isValid:function(){return this._a?null!=this._a[8]?!!this._a[8]:!u(this._a,(this._a[7]?k.utc(this._a):k(this._a)).toArray()):!isNaN(this._d.getTime())},utc:function(){return this._isUTC=!0,this},local:function(){return this._isUTC=!1,this},format:function(t){return g(this,t?t:k.defaultFormat)},add:function(t,e){var n=e?k.duration(+e,t):k.duration(t);return l(this,n,1),this},subtract:function(t,e){var n=e?k.duration(+e,t):k.duration(t);return l(this,n,-1),this},diff:function(t,e,n){var i,s=this._isUTC?k(t).utc():k(t).local(),r=6e4*(this.zone()-s.zone()),o=this._d-s._d-r,a=this.year()-s.year(),l=this.month()-s.month(),c=this.date()-s.date();return i="months"===e?12*a+l+c/30:"years"===e?a+(l+c/30)/12:"seconds"===e?o/1e3:"minutes"===e?o/6e4:"hours"===e?o/36e5:"days"===e?o/864e5:"weeks"===e?o/6048e5:o,n?i:M(i)},from:function(t,e){return k.duration(this.diff(t)).lang(this._lang).humanize(!e)},fromNow:function(t){return this.from(k(),t)},calendar:function(){var t=this.diff(k().sod(),"days",!0),e=this.lang().calendar,n=e.sameElse,i=-6>t?n:-1>t?e.lastWeek:0>t?e.lastDay:1>t?e.sameDay:2>t?e.nextDay:7>t?e.nextWeek:n;return this.format("function"==typeof i?i.apply(this):i)},isLeapYear:function(){var t=this.year();return 0===t%4&&0!==t%100||0===t%400},isDST:function(){return this.zone()<k([this.year()]).zone()||this.zone()<k([this.year(),5]).zone()},day:function(t){var e=this._isUTC?this._d.getUTCDay():this._d.getDay();return null==t?e:this.add({d:t-e})},startOf:function(t){switch(t.replace(/s$/,"")){case"year":this.month(0);case"month":this.date(1);case"day":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return this},endOf:function(t){return this.startOf(t).add(t.replace(/s?$/,"s"),1).subtract("ms",1)},sod:function(){return this.clone().startOf("day")},eod:function(){return this.clone().endOf("day")},zone:function(){return this._isUTC?0:this._d.getTimezoneOffset()},daysInMonth:function(){return k.utc([this.year(),this.month()+1,0]).date()},lang:function(e){return e===t?p(this):(this._lang=e,this)}},V=0;K.length>V;V++)S(K[V].toLowerCase(),K[V]);S("year","FullYear"),k.duration.fn=r.prototype={weeks:function(){return o(this.days()/7)},valueOf:function(){return this._milliseconds+864e5*this._days+2592e6*this._months},humanize:function(t){var e=+this,n=this.lang().relativeTime,i=x(e,!t,this.lang()),s=0>=e?n.past:n.future;return t&&(i="function"==typeof s?s(i):s.replace(/%s/i,i)),i},lang:k.fn.lang};for(V in Q)Q.hasOwnProperty(V)&&(E(V,Q[V]),T(V.toLowerCase()));E("Weeks",6048e5),D&&(module.exports=k),"undefined"==typeof ender&&(this.moment=k),"function"==typeof define&&define.amd&&define("moment",[],function(){return k})}.call(this),function(t){t.fn.each2===void 0&&t.fn.extend({each2:function(e){for(var n=t([0]),i=-1,s=this.length;s>++i&&(n.context=n[0]=this[i])&&e.call(n[0],i,n)!==!1;);return this}})}(jQuery),function(t,e){"use strict";function n(t,e){for(var n=0,i=e.length;i>n;n+=1)if(t===e[n])return n;return-1}function i(t,e){return t===e}function s(e,n){var i,s,r;if(null===e||1>e.length)return[];for(i=e.split(n),s=0,r=i.length;r>s;s+=1)i[s]=t.trim(i[s]);return i}function r(t){return t.outerWidth(!1)-t.width()}function o(n){var i="keyup-change-value";n.bind("keydown",function(){t.data(n,i)===e&&t.data(n,i,n.val())}),n.bind("keyup",function(){var s=t.data(n,i);s!==e&&n.val()!==s&&(t.removeData(n,i),n.trigger("keyup-change"))})}function a(n){n.bind("mousemove",function(n){var i=O;(i===e||i.x!==n.pageX||i.y!==n.pageY)&&t(n.target).trigger("mousemove-filtered",n)})}function l(t,n,i){i=i||e;var s;return function(){var e=arguments;window.clearTimeout(s),s=window.setTimeout(function(){n.apply(i,e)},t)}}function c(t){var e,n=!1;return function(){return n===!1&&(e=t(),n=!0),e}}function u(t,e){var i=l(t,function(t){e.trigger("scroll-debounced",t)});e.bind("scroll",function(t){n(t.target,e.get())>=0&&i(t)})}function h(t){t.preventDefault(),t.stopPropagation()}function d(t){t.preventDefault(),t.stopImmediatePropagation()}function p(e){if(!V){var n=e[0].currentStyle||window.getComputedStyle(e[0],null);V=t(document.createElement("div")).css({position:"absolute",left:"-10000px",top:"-10000px",display:"none",fontSize:n.fontSize,fontFamily:n.fontFamily,fontStyle:n.fontStyle,fontWeight:n.fontWeight,letterSpacing:n.letterSpacing,textTransform:n.textTransform,whiteSpace:"nowrap"}),V.attr("class","select2-sizer"),t("body").append(V)}return V.text(e.val()),V.width()}function f(t,n,i,s){var r=t.toUpperCase().indexOf(n.toUpperCase()),o=n.length;return 0>r?(i.push(s(t)),e):(i.push(s(t.substring(0,r))),i.push("<span class='select2-match'>"),i.push(s(t.substring(r,r+o))),i.push("</span>"),i.push(s(t.substring(r+o,t.length))),e)}function m(e){var n,i=0,s=null,r=e.quietMillis||100;return function(o){window.clearTimeout(n),n=window.setTimeout(function(){i+=1;var n=i,r=e.data,a=e.url,l=e.transport||t.ajax,c=e.traditional||!1,u=e.type||"GET";r=r?r.call(this,o.term,o.page,o.context):null,a="function"==typeof a?a.call(this,o.term,o.page,o.context):a,null!==s&&s.abort(),s=l.call(null,{url:a,dataType:e.dataType,data:r,type:u,traditional:c,success:function(t){if(!(i>n)){var s=e.results(t,o.page);o.callback(s)}}})},r)}}function g(n){var i,s=n,r=function(t){return""+t.text};return t.isArray(s)||(r=s.text,t.isFunction(r)||(i=s.text,r=function(t){return t[i]}),s=s.results),function(n){var i,o=n.term,a={results:[]};return""===o?(n.callback({results:s}),e):(i=function(e,s){var a,l;if(e=e[0],e.children){a={};for(l in e)e.hasOwnProperty(l)&&(a[l]=e[l]);a.children=[],t(e.children).each2(function(t,e){i(e,a.children)}),(a.children.length||n.matcher(o,r(a),e))&&s.push(a)}else n.matcher(o,r(e),e)&&s.push(e)},t(s).each2(function(t,e){i(e,a.results)}),n.callback(a),e)}}function v(n){var i=t.isFunction(n);return function(s){var r=s.term,o={results:[]};t(i?n():n).each(function(){var t=this.text!==e,n=t?this.text:this;(""===r||s.matcher(r,n))&&o.results.push(t?this:{id:this,text:this})}),s.callback(o)}}function y(e){if(t.isFunction(e))return!0;if(!e)return!1;throw Error("formatterName must be a function or a falsy value")}function _(e){return t.isFunction(e)?e():e}function b(e){var n=0;return t.each(e,function(t,e){e.children?n+=b(e.children):n++}),n}function w(t,n,s,r){var o,a,l,c,u,h=t,d=!1;if(!r.createSearchChoice||!r.tokenSeparators||1>r.tokenSeparators.length)return e;for(;;){for(a=-1,l=0,c=r.tokenSeparators.length;c>l&&(u=r.tokenSeparators[l],a=t.indexOf(u),!(a>=0));l++);if(0>a)break;if(o=t.substring(0,a),t=t.substring(a+u.length),o.length>0&&(o=r.createSearchChoice(o,n),o!==e&&null!==o&&r.id(o)!==e&&null!==r.id(o))){for(d=!1,l=0,c=n.length;c>l;l++)if(i(r.id(o),r.id(n[l]))){d=!0;break}d||s(o)}}return h!==t?t:e}function C(e,n){var i=function(){};return i.prototype=new e,i.prototype.constructor=i,i.prototype.parent=e.prototype,i.prototype=t.extend(i.prototype,n),i}if(window.Select2===e){var x,S,T,E,k,V,O,M;x={TAB:9,ENTER:13,ESC:27,SPACE:32,LEFT:37,UP:38,RIGHT:39,DOWN:40,SHIFT:16,CTRL:17,ALT:18,PAGE_UP:33,PAGE_DOWN:34,HOME:36,END:35,BACKSPACE:8,DELETE:46,isArrow:function(t){switch(t=t.which?t.which:t){case x.LEFT:case x.RIGHT:case x.UP:case x.DOWN:return!0}return!1},isControl:function(t){var e=t.which;switch(e){case x.SHIFT:case x.CTRL:case x.ALT:return!0}return t.metaKey?!0:!1},isFunctionKey:function(t){return t=t.which?t.which:t,t>=112&&123>=t}},M=t(document),k=function(){var t=1;return function(){return t++}}(),M.bind("mousemove",function(t){O={x:t.pageX,y:t.pageY}}),M.ready(function(){M.bind("mousedown touchend",function(n){var i,s=t(n.target).closest("div.select2-container").get(0),r=null;s&&t(s).data("select2")&&(M.find("div.select2-container-active").each(function(){this!==s&&t(this).data("select2").blur()}),r=t(s).data("select2").dropdown.get(0)),s=r||t(n.target).closest("div.select2-drop").get(0),M.find("div.select2-drop-active").each(function(){this!==s&&t(this).data("select2").blur()}),s=t(n.target),i=s.attr("for"),"LABEL"===n.target.tagName&&i&&i.length>0&&(i=i.replace(/([\[\].])/g,"\\$1"),s=t("#"+i),s=s.data("select2"),s!==e&&null!==s&&(s.focus(),n.preventDefault()))})}),S=C(Object,{bind:function(t){var e=this;return function(){t.apply(e,arguments)}},init:function(n){var i,s,r,l=".select2-results";this.opts=n=this.prepareOpts(n),this.id=n.id,n.element.data("select2")!==e&&null!==n.element.data("select2")&&this.destroy(),this.enabled=!0,this.container=this.createContainer(),this.containerId="s2id_"+(n.element.attr("id")||"autogen"+k()),this.containerSelector="#"+this.containerId.replace(/([;&,\.\+\*\~':"\!\^#$%@\[\]\(\)=>\|])/g,"\\$1"),this.container.attr("id",this.containerId),this.body=c(function(){return n.element.closest("body")}),r=t("#select2-drop-mask"),0==r.length&&(r=t(document.createElement("div")),r.attr("id","select2-drop-mask").attr("class","select2-drop-mask"),r.hide(),r.appendTo(this.body())),n.element.attr("class")!==e&&this.container.addClass(n.element.attr("class").replace(/validate\[[\S ]+] ?/,"")),this.container.css(_(n.containerCss)),this.container.addClass(_(n.containerCssClass)),this.opts.element.data("select2",this).hide().before(this.container),this.container.data("select2",this),this.dropdown=this.container.find(".select2-drop"),this.dropdown.addClass(_(n.dropdownCssClass)),this.dropdown.data("select2",this),this.results=i=this.container.find(l),this.search=s=this.container.find("input.select2-input"),s.attr("tabIndex",this.opts.element.attr("tabIndex")),this.resultsPage=0,this.context=null,this.initContainer(),this.initContainerWidth(),a(this.results),this.dropdown.delegate(l,"mousemove-filtered",this.bind(this.highlightUnderEvent)),u(80,this.results),this.dropdown.delegate(l,"scroll-debounced",this.bind(this.loadMoreIfNeeded)),t.fn.mousewheel&&i.mousewheel(function(t,e,n,s){var r=i.scrollTop();s>0&&0>=r-s?(i.scrollTop(0),h(t)):0>s&&i.get(0).scrollHeight-i.scrollTop()+s<=i.height()&&(i.scrollTop(i.get(0).scrollHeight-i.height()),h(t))}),o(s),s.bind("keyup-change",this.bind(this.updateResults)),s.bind("focus",function(){s.addClass("select2-focused")," "===s.val()&&s.val("")}),s.bind("blur",function(){s.removeClass("select2-focused")}),this.dropdown.delegate(l,"mouseup",this.bind(function(e){t(e.target).closest(".select2-result-selectable").length>0?(this.highlightUnderEvent(e),this.selectHighlighted(e)):this.focusSearch(),h(e)})),this.dropdown.bind("click mouseup mousedown",function(t){t.stopPropagation()}),t.isFunction(this.opts.initSelection)&&(this.initSelection(),this.monitorSource()),(n.element.is(":disabled")||n.element.is("[readonly='readonly']"))&&this.disable()},destroy:function(){var t=this.opts.element.data("select2");t!==e&&(t.container.remove(),t.dropdown.remove(),t.opts.element.removeData("select2").unbind(".select2").show())},prepareOpts:function(n){var r,o,a,l;if(r=n.element,"select"===r.get(0).tagName.toLowerCase()&&(this.select=o=n.element),o&&t.each(["id","multiple","ajax","query","createSearchChoice","initSelection","data","tags"],function(){if(this in n)throw Error("Option '"+this+"' is not allowed for Select2 when attached to a <select> element.")}),n=t.extend({},{populateResults:function(i,s,r){var o,a=this.opts.id,l=this;o=function(i,s,c){var u,h,d,p,f,m,g,v,y,_;for(i=n.sortResults(i,s,r),u=0,h=i.length;h>u;u+=1)d=i[u],f=d.disabled===!0,p=!f&&a(d)!==e,m=d.children&&d.children.length>0,g=t("<li></li>"),g.addClass("select2-results-dept-"+c),g.addClass("select2-result"),g.addClass(p?"select2-result-selectable":"select2-result-unselectable"),f&&g.addClass("select2-disabled"),m&&g.addClass("select2-result-with-children"),g.addClass(l.opts.formatResultCssClass(d)),v=t(document.createElement("div")),v.addClass("select2-result-label"),_=n.formatResult(d,v,r),_!==e&&v.html(_),g.append(v),m&&(y=t("<ul></ul>"),y.addClass("select2-result-sub"),o(d.children,y,c+1),g.append(y)),g.data("select2-data",d),s.append(g)},o(s,i,0)}},t.fn.select2.defaults,n),"function"!=typeof n.id&&(a=n.id,n.id=function(t){return t[a]}),t.isArray(n.element.data("select2Tags"))){if("tags"in n)throw"tags specified as both an attribute 'data-select2-tags' and in options of Select2 "+n.element.attr("id");n.tags=n.element.attr("data-select2-tags")}if(o?(n.query=this.bind(function(n){var s,o,a,l={results:[],more:!1},c=n.term;a=function(t,e){var s;t.is("option")?n.matcher(c,t.text(),t)&&e.push({id:t.attr("value"),text:t.text(),element:t.get(),css:t.attr("class"),disabled:i(t.attr("disabled"),"disabled")}):t.is("optgroup")&&(s={text:t.attr("label"),children:[],element:t.get(),css:t.attr("class")},t.children().each2(function(t,e){a(e,s.children)}),s.children.length>0&&e.push(s))},s=r.children(),this.getPlaceholder()!==e&&s.length>0&&(o=s[0],""===t(o).text()&&(s=s.not(o))),s.each2(function(t,e){a(e,l.results)}),n.callback(l)}),n.id=function(t){return t.id},n.formatResultCssClass=function(t){return t.css}):"query"in n||("ajax"in n?(l=n.element.data("ajax-url"),l&&l.length>0&&(n.ajax.url=l),n.query=m(n.ajax)):"data"in n?n.query=g(n.data):"tags"in n&&(n.query=v(n.tags),n.createSearchChoice===e&&(n.createSearchChoice=function(t){return{id:t,text:t}}),n.initSelection=function(r,o){var a=[];t(s(r.val(),n.separator)).each(function(){var s=this,r=this,o=n.tags;t.isFunction(o)&&(o=o()),t(o).each(function(){return i(this.id,s)?(r=this.text,!1):e}),a.push({id:s,text:r})}),o(a)})),"function"!=typeof n.query)throw"query function not defined for Select2 "+n.element.attr("id");return n},monitorSource:function(){this.opts.element.bind("change.select2",this.bind(function(){this.opts.element.data("select2-change-triggered")!==!0&&this.initSelection()}))},triggerChange:function(e){e=e||{},e=t.extend({},e,{type:"change",val:this.val()}),this.opts.element.data("select2-change-triggered",!0),this.opts.element.trigger(e),this.opts.element.data("select2-change-triggered",!1),this.opts.element.click(),this.opts.blurOnChange&&this.opts.element.blur()},enable:function(){this.enabled||(this.enabled=!0,this.container.removeClass("select2-container-disabled"),this.opts.element.removeAttr("disabled"))},disable:function(){this.enabled&&(this.close(),this.enabled=!1,this.container.addClass("select2-container-disabled"),this.opts.element.attr("disabled","disabled"))},opened:function(){return this.container.hasClass("select2-dropdown-open")},positionDropdown:function(){var e,n,i,s=this.container.offset(),r=this.container.outerHeight(!1),o=this.container.outerWidth(!1),a=this.dropdown.outerHeight(!1),l=t(window).scrollLeft()+document.documentElement.clientWidth,c=t(window).scrollTop()+document.documentElement.clientHeight,u=s.top+r,h=s.left,d=c>=u+a,p=s.top-a>=this.body().scrollTop(),f=this.dropdown.outerWidth(!1),m=l>=h+f,g=this.dropdown.hasClass("select2-drop-above");"static"!==this.body().css("position")&&(e=this.body().offset(),u-=e.top,h-=e.left),g?(n=!0,!p&&d&&(n=!1)):(n=!1,!d&&p&&(n=!0)),m||(h=s.left+o-f),n?(u=s.top-a,this.container.addClass("select2-drop-above"),this.dropdown.addClass("select2-drop-above")):(this.container.removeClass("select2-drop-above"),this.dropdown.removeClass("select2-drop-above")),i=t.extend({top:u,left:h,width:o},_(this.opts.dropdownCss)),this.dropdown.css(i)},shouldOpen:function(){var e;return this.opened()?!1:(e=t.Event("open"),this.opts.element.trigger(e),!e.isDefaultPrevented())},clearDropdownAlignmentPreference:function(){this.container.removeClass("select2-drop-above"),this.dropdown.removeClass("select2-drop-above")},open:function(){return this.shouldOpen()?(window.setTimeout(this.bind(this.opening),1),!0):!1},opening:function(){var e,n=this.containerId,i="scroll."+n,s="resize."+n,r="orientationchange."+n;this.clearDropdownAlignmentPreference()," "===this.search.val()&&this.search.val(""),this.container.addClass("select2-dropdown-open").addClass("select2-container-active"),this.updateResults(!0),this.dropdown[0]!==this.body().children().last()[0]&&this.dropdown.detach().appendTo(this.body()),e=t("#select2-drop-mask"),this.dropdown.prev()[0]!==e[0]&&this.dropdown.before(e),t("#select2-drop").removeAttr("id"),this.dropdown.attr("id","select2-drop"),e.css({width:document.documentElement.scrollWidth,height:document.documentElement.scrollHeight}),e.show(),this.dropdown.show(),this.positionDropdown(),this.dropdown.addClass("select2-drop-active"),this.ensureHighlightVisible(),this.container.parents().add(window).each(function(){t(this).bind(s+" "+i+" "+r,function(){t("#select2-drop-mask").css({width:document.documentElement.scrollWidth,height:document.documentElement.scrollHeight}),t("#select2-drop").data("select2").positionDropdown()})}),this.focusSearch()},close:function(){if(this.opened()){var e=this.containerId,n="scroll."+e,i="resize."+e,s="orientationchange."+e;this.container.parents().add(window).each(function(){t(this).unbind(n).unbind(i).unbind(s)}),this.clearDropdownAlignmentPreference(),t("#select2-drop-mask").hide(),this.dropdown.removeAttr("id"),this.dropdown.hide(),this.container.removeClass("select2-dropdown-open").removeClass("select2-container-active"),this.results.empty(),this.clearSearch(),this.opts.element.trigger(t.Event("close"))}},clearSearch:function(){},ensureHighlightVisible:function(){var n,i,s,r,o,a,l,c=this.results;if(i=this.highlight(),!(0>i)){if(0==i)return c.scrollTop(0),e;n=this.findHighlightableChoices(),s=t(n[i]),r=s.offset().top+s.outerHeight(!0),i===n.length-1&&(l=c.find("li.select2-more-results"),l.length>0&&(r=l.offset().top+l.outerHeight(!0))),o=c.offset().top+c.outerHeight(!0),r>o&&c.scrollTop(c.scrollTop()+(r-o)),a=s.offset().top-c.offset().top,0>a&&"none"!=s.css("display")&&c.scrollTop(c.scrollTop()+a)}},findHighlightableChoices:function(){return this.results.find(".select2-result-selectable:not(.select2-selected):not(.select2-disabled)")},moveHighlight:function(e){for(var n=this.findHighlightableChoices(),i=this.highlight();i>-1&&n.length>i;){i+=e;var s=t(n[i]);if(s.hasClass("select2-result-selectable")&&!s.hasClass("select2-disabled")&&!s.hasClass("select2-selected")){this.highlight(i);break}}},highlight:function(i){var s=this.findHighlightableChoices();return 0===arguments.length?n(s.filter(".select2-highlighted")[0],s.get()):(i>=s.length&&(i=s.length-1),0>i&&(i=0),s.removeClass("select2-highlighted"),t(s[i]).addClass("select2-highlighted"),this.ensureHighlightVisible(),e)},countSelectableResults:function(){return this.findHighlightableChoices().length},highlightUnderEvent:function(e){var n=t(e.target).closest(".select2-result-selectable");if(n.length>0&&!n.is(".select2-highlighted")){var i=this.findHighlightableChoices();this.highlight(i.index(n))}else 0==n.length&&this.results.find(".select2-highlighted").removeClass("select2-highlighted")},loadMoreIfNeeded:function(){var t,e=this.results,n=e.find("li.select2-more-results"),i=this.resultsPage+1,s=this,r=this.search.val(),o=this.context;0!==n.length&&(t=n.offset().top-e.offset().top-e.height(),this.opts.loadMorePadding>=t&&(n.addClass("select2-active"),this.opts.query({term:r,page:i,context:o,matcher:this.opts.matcher,callback:this.bind(function(t){s.opened()&&(s.opts.populateResults.call(this,e,t.results,{term:r,page:i,context:o}),t.more===!0?(n.detach().appendTo(e).text(s.opts.formatLoadMore(i+1)),window.setTimeout(function(){s.loadMoreIfNeeded()},10)):n.remove(),s.positionDropdown(),s.resultsPage=i)})})))},tokenize:function(){},updateResults:function(n){function s(){c.scrollTop(0),l.removeClass("select2-active"),h.positionDropdown()}function r(t){c.html(t),s()}var o,a,l=this.search,c=this.results,u=this.opts,h=this;if(n===!0||this.showSearchInput!==!1&&this.opened()){if(l.addClass("select2-active"),u.maximumSelectionSize>=1&&(o=this.data(),t.isArray(o)&&o.length>=u.maximumSelectionSize&&y(u.formatSelectionTooBig,"formatSelectionTooBig")))return r("<li class='select2-selection-limit'>"+u.formatSelectionTooBig(u.maximumSelectionSize)+"</li>"),e;if(l.val().length<u.minimumInputLength)return y(u.formatInputTooShort,"formatInputTooShort")?r("<li class='select2-no-results'>"+u.formatInputTooShort(l.val(),u.minimumInputLength)+"</li>"):r(""),e;if(u.formatSearching()&&n===!0&&r("<li class='select2-searching'>"+u.formatSearching()+"</li>"),u.maximumInputLength&&l.val().length>u.maximumInputLength)return y(u.formatInputTooLong,"formatInputTooLong")?r("<li class='select2-no-results'>"+u.formatInputTooLong(l.val(),u.maximumInputLength)+"</li>"):r(""),e;a=this.tokenize(),a!=e&&null!=a&&l.val(a),this.resultsPage=1,u.query({term:l.val(),page:this.resultsPage,context:null,matcher:u.matcher,callback:this.bind(function(o){var a;if(this.opened()){if(this.context=o.context===e?null:o.context,this.opts.createSearchChoice&&""!==l.val()&&(a=this.opts.createSearchChoice.call(null,l.val(),o.results),a!==e&&null!==a&&h.id(a)!==e&&null!==h.id(a)&&0===t(o.results).filter(function(){return i(h.id(this),h.id(a))}).length&&o.results.unshift(a)),0===o.results.length&&y(u.formatNoMatches,"formatNoMatches"))return r("<li class='select2-no-results'>"+u.formatNoMatches(l.val())+"</li>"),e;c.empty(),h.opts.populateResults.call(this,c,o.results,{term:l.val(),page:this.resultsPage,context:null}),o.more===!0&&y(u.formatLoadMore,"formatLoadMore")&&(c.append("<li class='select2-more-results'>"+h.opts.escapeMarkup(u.formatLoadMore(this.resultsPage))+"</li>"),window.setTimeout(function(){h.loadMoreIfNeeded()},10)),this.postprocessResults(o,n),s()}})})}},cancel:function(){this.close()},blur:function(){this.opts.selectOnBlur&&this.selectHighlighted({noFocus:!0}),this.close(),this.container.removeClass("select2-container-active"),this.dropdown.removeClass("select2-drop-active"),this.search[0]===document.activeElement&&this.search.blur(),this.clearSearch(),this.selection.find(".select2-search-choice-focus").removeClass("select2-search-choice-focus"),this.opts.element.triggerHandler("blur")},focusSearch:function(){this.search.show(),this.search.focus(),window.setTimeout(this.bind(function(){this.search.show(),this.search.focus(),this.search.val(this.search.val())}),10)},selectHighlighted:function(t){var e=this.highlight(),n=this.results.find(".select2-highlighted"),i=n.closest(".select2-result").data("select2-data");i&&(n.addClass("select2-selected"),this.highlight(e),this.onSelect(i,t))},getPlaceholder:function(){return this.opts.element.attr("placeholder")||this.opts.element.attr("data-placeholder")||this.opts.element.data("placeholder")||this.opts.placeholder},initContainerWidth:function(){function n(){var n,i,s,r,o;if("off"===this.opts.width)return null;if("element"===this.opts.width)return 0===this.opts.element.outerWidth(!1)?"auto":this.opts.element.outerWidth(!1)+"px";if("copy"===this.opts.width||"resolve"===this.opts.width){if(n=this.opts.element.attr("style"),n!==e)for(i=n.split(";"),r=0,o=i.length;o>r;r+=1)if(s=i[r].replace(/\s/g,"").match(/width:(([-+]?([0-9]*\.)?[0-9]+)(px|em|ex|%|in|cm|mm|pt|pc))/),null!==s&&s.length>=1)return s[1];return"resolve"===this.opts.width?(n=this.opts.element.css("width"),n.indexOf("%")>0?n:0===this.opts.element.outerWidth(!1)?"auto":this.opts.element.outerWidth(!1)+"px"):null}return t.isFunction(this.opts.width)?this.opts.width():this.opts.width}var i=n.call(this);null!==i&&this.container.attr("style","width: "+i)}}),T=C(S,{createContainer:function(){var e=t(document.createElement("div")).attr({"class":"select2-container"}).html(["    <a href='javascript:void(0)' onclick='return false;' class='select2-choice'>","   <span></span><abbr class='select2-search-choice-close' style='display:none;'></abbr>","   <div><b></b></div>","</a>","    <div class='select2-drop select2-offscreen'>","   <div class='select2-search'>","       <input type='text' autocomplete='off' class='select2-input'/>","   </div>","   <ul class='select2-results'>","   </ul>","</div>"].join(""));return e},opening:function(){this.search.show(),this.parent.opening.apply(this,arguments),this.dropdown.removeClass("select2-offscreen")},close:function(){this.opened()&&(this.parent.close.apply(this,arguments),this.dropdown.removeAttr("style").addClass("select2-offscreen").insertAfter(this.selection).show())},focus:function(){this.close(),this.selection.focus()},isFocused:function(){return this.selection[0]===document.activeElement},cancel:function(){this.parent.cancel.apply(this,arguments),this.selection.focus()},initContainer:function(){var t,n=this.container,i=this.dropdown,s=!1;this.selection=t=n.find(".select2-choice"),this.search.bind("keydown",this.bind(function(t){if(this.enabled){if(t.which===x.PAGE_UP||t.which===x.PAGE_DOWN)return h(t),e;if(this.opened())switch(t.which){case x.UP:case x.DOWN:return this.moveHighlight(t.which===x.UP?-1:1),h(t),e;case x.TAB:case x.ENTER:return this.selectHighlighted(),h(t),e;case x.ESC:return this.cancel(t),h(t),e}else{if(t.which===x.TAB||x.isControl(t)||x.isFunctionKey(t)||t.which===x.ESC)return;
if(this.opts.openOnEnter===!1&&t.which===x.ENTER)return;if(this.open(),t.which===x.ENTER)return}}})),this.search.bind("focus",this.bind(function(){this.selection.attr("tabIndex","-1")})),this.search.bind("blur",this.bind(function(){this.opened()||this.container.removeClass("select2-container-active"),window.setTimeout(this.bind(function(){var t=this.opts.element.attr("tabIndex")||0;t?this.selection.attr("tabIndex",t):this.selection.removeAttr("tabIndex")}),10)})),t.delegate("abbr","mousedown",this.bind(function(t){this.enabled&&(this.clear(),d(t),this.close(),this.triggerChange(),this.selection.focus())})),t.bind("mousedown",this.bind(function(){s=!0,this.opened()?(this.close(),this.selection.focus()):this.enabled&&this.open(),s=!1})),i.bind("mousedown",this.bind(function(){this.search.focus()})),t.bind("focus",this.bind(function(){this.container.addClass("select2-container-active"),this.search.attr("tabIndex","-1")})),t.bind("blur",this.bind(function(){this.opened()||this.container.removeClass("select2-container-active"),window.setTimeout(this.bind(function(){this.search.attr("tabIndex",this.opts.element.attr("tabIndex")||0)}),10)})),t.bind("keydown",this.bind(function(t){return this.enabled?t.which==x.DOWN||t.which==x.UP||t.which==x.ENTER&&this.opts.openOnEnter?(this.open(),h(t),e):t.which==x.DELETE||t.which==x.BACKSPACE?(this.opts.allowClear&&this.clear(),h(t),e):e:e})),t.bind("keypress",this.bind(function(t){if(t.which!=x.DELETE&&t.which!=x.BACKSPACE&&t.which!=x.TAB&&t.which!=x.ENTER&&0!=t.which){var e=String.fromCharCode(t.which);this.search.val(e),this.open()}})),this.setPlaceholder(),this.search.bind("focus",this.bind(function(){this.container.addClass("select2-container-active")}))},clear:function(){this.opts.element.val(""),this.selection.find("span").empty(),this.selection.removeData("select2-data"),this.setPlaceholder()},initSelection:function(){if(""===this.opts.element.val()&&""===this.opts.element.text())this.close(),this.setPlaceholder();else{var t=this;this.opts.initSelection.call(null,this.opts.element,function(n){n!==e&&null!==n&&(t.updateSelection(n),t.close(),t.setPlaceholder())})}},prepareOpts:function(){var e=this.parent.prepareOpts.apply(this,arguments);return"select"===e.element.get(0).tagName.toLowerCase()?e.initSelection=function(e,n){var i=e.find(":selected");t.isFunction(n)&&n({id:i.attr("value"),text:i.text(),element:i})}:"data"in e&&(e.initSelection=e.initSelection||function(n,s){var r=n.val();e.query({matcher:function(t,n,s){return i(r,e.id(s))},callback:t.isFunction(s)?function(t){s(t.results.length?t.results[0]:null)}:t.noop})}),e},setPlaceholder:function(){var t=this.getPlaceholder();if(""===this.opts.element.val()&&t!==e){if(this.select&&""!==this.select.find("option:first").text())return;this.selection.find("span").html(this.opts.escapeMarkup(t)),this.selection.addClass("select2-default"),this.selection.find("abbr").hide()}},postprocessResults:function(n,s){var r=0,o=this,a=!0;this.findHighlightableChoices().each2(function(t,n){return i(o.id(n.data("select2-data")),o.opts.element.val())?(r=t,!1):e}),this.highlight(r),s===!0&&(a=this.showSearchInput=b(n.results)>=this.opts.minimumResultsForSearch,this.dropdown.find(".select2-search")[a?"removeClass":"addClass"]("select2-search-hidden"),t(this.dropdown,this.container)[a?"addClass":"removeClass"]("select2-with-searchbox"))},onSelect:function(t,e){var n=this.opts.element.val();this.opts.element.val(this.id(t)),this.updateSelection(t),this.close(),e&&e.noFocus||this.selection.focus(),i(n,this.id(t))||this.triggerChange()},updateSelection:function(t){var n,i=this.selection.find("span");this.selection.data("select2-data",t),i.empty(),n=this.opts.formatSelection(t,i),n!==e&&i.append(this.opts.escapeMarkup(n)),this.selection.removeClass("select2-default"),this.opts.allowClear&&this.getPlaceholder()!==e&&this.selection.find("abbr").show()},val:function(){var t,n=!1,i=null,s=this;if(0===arguments.length)return this.opts.element.val();if(t=arguments[0],arguments.length>1&&(n=arguments[1]),this.select)this.select.val(t).find(":selected").each2(function(t,e){return i={id:e.attr("value"),text:e.text()},!1}),this.updateSelection(i),this.setPlaceholder(),n&&this.triggerChange();else{if(this.opts.initSelection===e)throw Error("cannot call val() if initSelection() is not defined");if(!t&&0!==t)return this.clear(),n&&this.triggerChange(),e;this.opts.element.val(t),this.opts.initSelection(this.opts.element,function(t){s.opts.element.val(t?s.id(t):""),s.updateSelection(t),s.setPlaceholder(),s.triggerChange()})}},clearSearch:function(){this.search.val("")},data:function(t){var n;return 0===arguments.length?(n=this.selection.data("select2-data"),n==e&&(n=null),n):(t&&""!==t?(this.opts.element.val(t?this.id(t):""),this.updateSelection(t)):this.clear(),e)}}),E=C(S,{createContainer:function(){var e=t(document.createElement("div")).attr({"class":"select2-container select2-container-multi"}).html(["    <ul class='select2-choices'>","  <li class='select2-search-field'>","    <input type='text' autocomplete='off' class='select2-input'>","  </li>","</ul>","<div class='select2-drop select2-drop-multi' style='display:none;'>","   <ul class='select2-results'>","   </ul>","</div>"].join(""));return e},prepareOpts:function(){var e=this.parent.prepareOpts.apply(this,arguments);return"select"===e.element.get(0).tagName.toLowerCase()?e.initSelection=function(e,n){var i=[];e.find(":selected").each2(function(t,e){i.push({id:e.attr("value"),text:e.text(),element:e})}),t.isFunction(n)&&n(i)}:"data"in e&&(e.initSelection=e.initSelection||function(n,r){var o=s(n.val(),e.separator);e.query({matcher:function(n,s,r){return t.grep(o,function(t){return i(t,e.id(r))}).length},callback:t.isFunction(r)?function(t){r(t.results)}:t.noop})}),e},initContainer:function(){var n,i=".select2-choices";this.searchContainer=this.container.find(".select2-search-field"),this.selection=n=this.container.find(i),this.search.bind("keydown",this.bind(function(t){if(this.enabled){if(t.which===x.BACKSPACE&&""===this.search.val()){this.close();var i,s=n.find(".select2-search-choice-focus");if(s.length>0)return this.unselect(s.first()),this.search.width(10),h(t),e;i=n.find(".select2-search-choice:not(.select2-locked)"),i.length>0&&i.last().addClass("select2-search-choice-focus")}else n.find(".select2-search-choice-focus").removeClass("select2-search-choice-focus");if(this.opened())switch(t.which){case x.UP:case x.DOWN:return this.moveHighlight(t.which===x.UP?-1:1),h(t),e;case x.ENTER:case x.TAB:return this.selectHighlighted(),h(t),e;case x.ESC:return this.cancel(t),h(t),e}t.which===x.TAB||x.isControl(t)||x.isFunctionKey(t)||t.which===x.BACKSPACE||t.which===x.ESC||(this.opts.openOnEnter!==!1||t.which!==x.ENTER)&&(this.open(),(t.which===x.PAGE_UP||t.which===x.PAGE_DOWN)&&h(t))}})),this.search.bind("keyup",this.bind(this.resizeSearch)),this.search.bind("blur",this.bind(function(t){this.container.removeClass("select2-container-active"),this.search.removeClass("select2-focused"),this.clearSearch(),t.stopImmediatePropagation()})),this.container.delegate(i,"mousedown",this.bind(function(e){this.enabled&&(t(e.target).closest(".select2-search-choice").length>0||(this.clearPlaceholder(),this.open(),this.focusSearch(),e.preventDefault()))})),this.container.delegate(i,"focus",this.bind(function(){this.enabled&&(this.container.addClass("select2-container-active"),this.dropdown.addClass("select2-drop-active"),this.clearPlaceholder())})),this.clearSearch()},enable:function(){this.enabled||(this.parent.enable.apply(this,arguments),this.search.removeAttr("disabled"))},disable:function(){this.enabled&&(this.parent.disable.apply(this,arguments),this.search.attr("disabled",!0))},initSelection:function(){if(""===this.opts.element.val()&&""===this.opts.element.text()&&(this.updateSelection([]),this.close(),this.clearSearch()),this.select||""!==this.opts.element.val()){var t=this;this.opts.initSelection.call(null,this.opts.element,function(n){n!==e&&null!==n&&(t.updateSelection(n),t.close(),t.clearSearch())})}},clearSearch:function(){var t=this.getPlaceholder();t!==e&&0===this.getVal().length&&this.search.hasClass("select2-focused")===!1?(this.search.val(t).addClass("select2-default"),this.resizeSearch()):this.search.val(" ").width(10)},clearPlaceholder:function(){this.search.hasClass("select2-default")?this.search.val("").removeClass("select2-default"):" "===this.search.val()&&this.search.val("")},opening:function(){this.parent.opening.apply(this,arguments),this.clearPlaceholder(),this.resizeSearch(),this.focusSearch()},close:function(){this.opened()&&this.parent.close.apply(this,arguments)},focus:function(){this.close(),this.search.focus()},isFocused:function(){return this.search.hasClass("select2-focused")},updateSelection:function(e){var i=[],s=[],r=this;t(e).each(function(){0>n(r.id(this),i)&&(i.push(r.id(this)),s.push(this))}),e=s,this.selection.find(".select2-search-choice").remove(),t(e).each(function(){r.addSelectedChoice(this)}),r.postprocessResults()},tokenize:function(){var t=this.search.val();t=this.opts.tokenizer(t,this.data(),this.bind(this.onSelect),this.opts),null!=t&&t!=e&&(this.search.val(t),t.length>0&&this.open())},onSelect:function(t,e){this.addSelectedChoice(t),(this.select||!this.opts.closeOnSelect)&&this.postprocessResults(),this.opts.closeOnSelect?(this.close(),this.search.width(10)):this.countSelectableResults()>0?(this.search.width(10),this.resizeSearch(),this.positionDropdown()):this.close(),this.triggerChange({added:t}),e&&e.noFocus||this.focusSearch()},cancel:function(){this.close(),this.focusSearch()},addSelectedChoice:function(n){var i,s=!n.locked,r=t("<li class='select2-search-choice'>    <div></div>    <a href='#' onclick='return false;' class='select2-search-choice-close' tabindex='-1'></a></li>"),o=t("<li class='select2-search-choice select2-locked'><div></div></li>"),a=s?r:o,l=this.id(n),c=this.getVal();i=this.opts.formatSelection(n,a.find("div")),i!=e&&a.find("div").replaceWith("<div>"+this.opts.escapeMarkup(i)+"</div>"),s&&a.find(".select2-search-choice-close").bind("mousedown",h).bind("click dblclick",this.bind(function(e){this.enabled&&(t(e.target).closest(".select2-search-choice").fadeOut("fast",this.bind(function(){this.unselect(t(e.target)),this.selection.find(".select2-search-choice-focus").removeClass("select2-search-choice-focus"),this.close(),this.focusSearch()})).dequeue(),h(e))})).bind("focus",this.bind(function(){this.enabled&&(this.container.addClass("select2-container-active"),this.dropdown.addClass("select2-drop-active"))})),a.data("select2-data",n),a.insertBefore(this.searchContainer),c.push(l),this.setVal(c)},unselect:function(t){var e,i,s=this.getVal();if(t=t.closest(".select2-search-choice"),0===t.length)throw"Invalid argument: "+t+". Must be .select2-search-choice";e=t.data("select2-data"),e&&(i=n(this.id(e),s),i>=0&&(s.splice(i,1),this.setVal(s),this.select&&this.postprocessResults()),t.remove(),this.triggerChange({removed:e}))},postprocessResults:function(){var t=this.getVal(),e=this.results.find(".select2-result"),i=this.results.find(".select2-result-with-children"),s=this;e.each2(function(e,i){var r=s.id(i.data("select2-data"));n(r,t)>=0?i.addClass("select2-selected"):i.removeClass("select2-selected")}),i.each2(function(t,e){e.is(".select2-result-selectable")||0!==e.find(".select2-result-selectable:not(.select2-selected)").length?e.removeClass("select2-selected"):e.addClass("select2-selected")}),-1==this.highlight()&&s.highlight(0)},resizeSearch:function(){var t,e,n,i,s,o=r(this.search);t=p(this.search)+10,e=this.search.offset().left,n=this.selection.width(),i=this.selection.offset().left,s=n-(e-i)-o,t>s&&(s=n-o),40>s&&(s=n-o),0>=s&&(s=t),this.search.width(s)},getVal:function(){var t;return this.select?(t=this.select.val(),null===t?[]:t):(t=this.opts.element.val(),s(t,this.opts.separator))},setVal:function(e){var i;this.select?this.select.val(e):(i=[],t(e).each(function(){0>n(this,i)&&i.push(this)}),this.opts.element.val(0===i.length?"":i.join(this.opts.separator)))},val:function(){var n,i=!1,s=[],r=this;if(0===arguments.length)return this.getVal();if(n=arguments[0],arguments.length>1&&(i=arguments[1]),!n&&0!==n)return this.opts.element.val(""),this.updateSelection([]),this.clearSearch(),i&&this.triggerChange(),e;if(this.setVal(n),this.select)this.select.find(":selected").each(function(){s.push({id:t(this).attr("value"),text:t(this).text()})}),this.updateSelection(s),i&&this.triggerChange();else{if(this.opts.initSelection===e)throw Error("val() cannot be called if initSelection() is not defined");this.opts.initSelection(this.opts.element,function(e){var n=t(e).map(r.id);r.setVal(n),r.updateSelection(e),r.clearSearch(),i&&r.triggerChange()})}this.clearSearch()},onSortStart:function(){if(this.select)throw Error("Sorting of elements is not supported when attached to <select>. Attach to <input type='hidden'/> instead.");this.search.width(0),this.searchContainer.hide()},onSortEnd:function(){var e=[],n=this;this.searchContainer.show(),this.searchContainer.appendTo(this.searchContainer.parent()),this.resizeSearch(),this.selection.find(".select2-search-choice").each(function(){e.push(n.opts.id(t(this).data("select2-data")))}),this.setVal(e),this.triggerChange()},data:function(n){var i,s=this;return 0===arguments.length?this.selection.find(".select2-search-choice").map(function(){return t(this).data("select2-data")}).get():(n||(n=[]),i=t.map(n,function(t){return s.opts.id(t)}),this.setVal(i),this.updateSelection(n),this.clearSearch(),e)}}),t.fn.select2=function(){var i,s,r,o,a=Array.prototype.slice.call(arguments,0),l=["val","destroy","opened","open","close","focus","isFocused","container","onSortStart","onSortEnd","enable","disable","positionDropdown","data"];return this.each(function(){if(0===a.length||"object"==typeof a[0])i=0===a.length?{}:t.extend({},a[0]),i.element=t(this),"select"===i.element.get(0).tagName.toLowerCase()?o=i.element.attr("multiple"):(o=i.multiple||!1,"tags"in i&&(i.multiple=o=!0)),s=o?new E:new T,s.init(i);else{if("string"!=typeof a[0])throw"Invalid arguments to select2 plugin: "+a;if(0>n(a[0],l))throw"Unknown method: "+a[0];if(r=e,s=t(this).data("select2"),s===e)return;if(r="container"===a[0]?s.container:s[a[0]].apply(s,a.slice(1)),r!==e)return!1}}),r===e?this:r},t.fn.select2.defaults={width:"copy",loadMorePadding:0,closeOnSelect:!0,openOnEnter:!0,containerCss:{},dropdownCss:{},containerCssClass:"",dropdownCssClass:"",formatResult:function(t,e,n){var i=[];return f(t.text,n.term,i,this.escapeMarkup),i.join("")},formatSelection:function(t){return t?t.text:e},sortResults:function(t){return t},formatResultCssClass:function(){return e},formatNoMatches:function(){return"No matches found"},formatInputTooShort:function(t,e){var n=e-t.length;return"Please enter "+n+" more character"+(1==n?"":"s")},formatInputTooLong:function(t,e){var n=t.length-e;return"Please enter "+n+" less character"+(1==n?"":"s")},formatSelectionTooBig:function(t){return"You can only select "+t+" item"+(1==t?"":"s")},formatLoadMore:function(){return"Loading more results..."},formatSearching:function(){return"Searching..."},minimumResultsForSearch:0,minimumInputLength:0,maximumInputLength:null,maximumSelectionSize:0,id:function(t){return t.id},matcher:function(t,e){return e.toUpperCase().indexOf(t.toUpperCase())>=0},separator:",",tokenSeparators:[],tokenizer:w,escapeMarkup:function(t){var e={"\\":"&#92;","&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&apos;","/":"&#47;"};return(t+"").replace(/[&<>"'/\\]/g,function(t){return e[t[0]]})},blurOnChange:!1,selectOnBlur:!1},window.Select2={query:{ajax:m,local:g,tags:v},util:{debounce:l,markMatch:f},"class":{"abstract":S,single:T,multi:E}}}}(jQuery),function(t,e){"use strict";var n,i=t.document,s=function(t,s,r){var o,a,l,c,u,h,d=this;if(this.events={updated:[],searchStart:[],filterStart:[],sortStart:[],searchComplete:[],filterComplete:[],sortComplete:[]},this.listContainer="string"==typeof t?i.getElementById(t):t,this.listContainer){this.items=[],this.visibleItems=[],this.matchingItems=[],this.searched=!1,this.filtered=!1,this.list=null,this.templateEngines={},this.page=s.page||200,this.i=s.i||1,a={start:function(t,e){e.plugins=e.plugins||{},e.events=e.events||{},this.classes(e),o=new u(d,e),d.list=n.getByClass(e.listClass,d.listContainer,!0),this.callbacks(e),this.items.start(t,e),d.update(),this.plugins(e.plugins)},classes:function(t){t.listClass=t.listClass||"list",t.searchClass=t.searchClass||"search",t.sortClass=t.sortClass||"sort"},callbacks:function(t){n.addEvent(n.getByClass(t.searchClass,d.listContainer),"keyup",d.search),h=n.getByClass(t.sortClass,d.listContainer),n.addEvent(h,"click",d.sort);for(var e in t.events)d.on(e,t.events[e])},items:{start:function(t,n){if(n.valueNames){var i=this.get(),s=n.valueNames;n.indexAsync?this.indexAsync(i,s):this.index(i,s)}t!==e&&d.add(t)},get:function(){for(var t=d.list.childNodes,n=[],i=0,s=t.length;s>i;i++)t[i].data===e&&n.push(t[i]);return n},index:function(t,e){for(var n=0,i=t.length;i>n;n++)d.items.push(new c(e,t[n]))},indexAsync:function(t,e){var n=t.splice(0,100);this.index(n,e),t.length>0?setTimeout(function(){a.items.indexAsync(t,e)},10):d.update()}},plugins:function(t){for(var e={templater:o,init:a,initialItems:l,Item:c,Templater:u,sortButtons:h,reset:m},n=0;t.length>n;n++){t[n][1]=t[n][1]||{};var i=t[n][1].name||t[n][0];d[i]=d.plugins[t[n][0]].call(d,e,t[n][1])}}},this.add=function(t,n){if(n)return p(t,n),e;var i=[],s=!1;t[0]===e&&(t=[t]);for(var r=0,o=t.length;o>r;r++){var a=null;t[r]instanceof c?(a=t[r],a.reload()):(s=d.items.length>d.page?!0:!1,a=new c(t[r],e,s)),d.items.push(a),i.push(a)}return d.update(),i};var p=function(t,e,n){var i=t.splice(0,100);n=n||[],n=n.concat(d.add(i)),t.length>0?setTimeout(function(){p(t,e,n)},10):(d.update(),e(n))};this.show=function(t,e){this.i=t,this.page=e,d.update()},this.remove=function(t,e,n){for(var i=0,s=0,r=d.items.length;r>s;s++)d.items[s].values()[t]==e&&(o.remove(d.items[s],n),d.items.splice(s,1),r--,i++);return d.update(),i},this.get=function(t,e){for(var n=[],i=0,s=d.items.length;s>i;i++){var r=d.items[i];r.values()[t]==e&&n.push(r)}return 0==n.length?null:1==n.length?n[0]:n},this.sort=function(t,i){f("sortStart");var s=(d.items.length,null),r=t.target||t.srcElement,o=!1,a="asc",l="desc",i=i||{};r===e?(s=t,o=i.asc||!1):(s=n.getAttribute(r,"data-sort"),o=n.hasClass(r,a)?!1:!0);for(var c=0,u=h.length;u>c;c++)n.removeClass(h[c],a),n.removeClass(h[c],l);o?(r!==e&&n.addClass(r,a),o=!0):(r!==e&&n.addClass(r,l),o=!1),i.sortFunction=i.sortFunction?i.sortFunction:function(t,e){return n.sorter.alphanum(t.values()[s],e.values()[s],o)},d.items.sort(i.sortFunction),d.update(),f("sortComplete")},this.search=function(t,n){f("searchStart"),d.i=1;var i,s,r,a,l,c=[],n=n===e?d.items[0].values():n,t=t===e?"":t,u=t.target||t.srcElement;if(t=u===e?(""+t).toLowerCase():""+u.value.toLowerCase(),l=d.items,t=t.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),o.clear(),""===t)m.search(),d.searched=!1,d.update();else{d.searched=!0;for(var h=0,p=l.length;p>h;h++){i=!1,s=l[h],a=s.values();for(var g in n)a.hasOwnProperty(g)&&null!==n[g]&&(r=null!=a[g]?(""+a[g]).toLowerCase():"",""!==t&&r.search(t)>-1&&(i=!0));i?(s.found=!0,c.push(s)):s.found=!1}d.update()}return f("searchComplete"),d.visibleItems},this.filter=function(t){if(f("filterStart"),d.i=1,m.filter(),t===e)d.filtered=!1;else{d.filtered=!0;for(var n=d.items,i=0,s=n.length;s>i;i++){var r=n[i];r.filtered=t(r)?!0:!1}}return d.update(),f("filterComplete"),d.visibleItems},this.size=function(){return d.items.length},this.clear=function(){o.clear(),d.items=[]},this.on=function(t,e){d.events[t].push(e)};var f=function(t){for(var e=d.events[t].length;e--;)d.events[t][e](d)},m={filter:function(){for(var t=d.items,e=t.length;e--;)t[e].filtered=!1},search:function(){for(var t=d.items,e=t.length;e--;)t[e].found=!1}};this.update=function(){var t=d.items,e=t.length;d.visibleItems=[],d.matchingItems=[],o.clear();for(var n=0;e>n;n++)t[n].matching()&&d.matchingItems.length+1>=d.i&&d.visibleItems.length<d.page?(t[n].show(),d.visibleItems.push(t[n]),d.matchingItems.push(t[n])):t[n].matching()?(d.matchingItems.push(t[n]),t[n].hide()):t[n].hide();f("updated")},c=function(t,n,i){var s=this,r={};this.found=!1,this.filtered=!1;var a=function(t,n,i){if(n===e)i?s.values(t,i):s.values(t);else{s.elm=n;var r=o.get(s,t);s.values(r)}};this.values=function(t,n){if(t===e)return r;for(var i in t)r[i]=t[i];n!==!0&&o.set(s,s.values())},this.show=function(){o.show(s)},this.hide=function(){o.hide(s)},this.matching=function(){return d.filtered&&d.searched&&s.found&&s.filtered||d.filtered&&!d.searched&&s.filtered||!d.filtered&&d.searched&&s.found||!d.filtered&&!d.searched},this.visible=function(){return s.elm.parentNode?!0:!1},a(t,n,i)},u=function(t,n){return n.engine=n.engine===e?"standard":n.engine.toLowerCase(),new d.constructor.prototype.templateEngines[n.engine](t,n)},a.start(r,s)}};s.prototype.templateEngines={},s.prototype.plugins={},s.prototype.templateEngines.standard=function(t,s){function r(t){if(t===e){for(var n=o.childNodes,r=0,a=n.length;a>r;r++)if(n[r].data===e)return n[r];return null}if(-1!==t.indexOf("<")){var l=i.createElement("div");return l.innerHTML=t,l.firstChild}return i.getElementById(s.item)}var o=n.getByClass(s.listClass,t.listContainer,!0),a=r(s.item),l=this;this.get=function(t,e){l.create(t);for(var i={},s=0,r=e.length;r>s;s++){var o=n.getByClass(e[s],t.elm,!0);i[e[s]]=o?o.innerHTML:""}return i},this.set=function(t,e){if(!l.create(t))for(var i in e)if(e.hasOwnProperty(i)){var s=n.getByClass(i,t.elm,!0);s&&(s.innerHTML=e[i])}},this.create=function(t){if(t.elm!==e)return!1;var n=a.cloneNode(!0);return n.id="",t.elm=n,l.set(t,t.values()),!0},this.remove=function(t){o.removeChild(t.elm)},this.show=function(t){l.create(t),o.appendChild(t.elm)},this.hide=function(t){t.elm!==e&&t.elm.parentNode===o&&o.removeChild(t.elm)},this.clear=function(){if(o.hasChildNodes())for(;o.childNodes.length>=1;)o.removeChild(o.firstChild)}},n={getByClass:function(){return i.getElementsByClassName?function(t,e,n){return n?e.getElementsByClassName(t)[0]:e.getElementsByClassName(t)}:function(t,e,n){var s=[],r="*";null==e&&(e=i);for(var o=e.getElementsByTagName(r),a=o.length,l=RegExp("(^|\\s)"+t+"(\\s|$)"),c=0,u=0;a>c;c++)if(l.test(o[c].className)){if(n)return o[c];s[u]=o[c],u++}return s}}(),addEvent:function(t,i){return i.addEventListener?function(i,s,r){if((!i||i instanceof Array||i.length||n.isNodeList(i)||0===i.length)&&i!==t){if(i&&i[0]!==e)for(var o=i.length,a=0;o>a;a++)n.addEvent(i[a],s,r)}else i.addEventListener(s,r,!1)}:i.attachEvent?function(i,s,r){if((!i||i instanceof Array||i.length||n.isNodeList(i)||0===i.length)&&i!==t){if(i&&i[0]!==e)for(var o=i.length,a=0;o>a;a++)n.addEvent(i[a],s,r)}else i.attachEvent("on"+s,function(){return r.call(i,t.event)})}:e}(this,i),getAttribute:function(t,n){var i=t.getAttribute&&t.getAttribute(n)||null;if(!i)for(var s=t.attributes,r=s.length,o=0;r>o;o++)n[o]!==e&&n[o].nodeName===n&&(i=n[o].nodeValue);return i},isNodeList:function(t){var e=Object.prototype.toString.call(t);return"object"==typeof t&&/^\[object (HTMLCollection|NodeList|Object)\]$/.test(e)&&(0==t.length||"object"==typeof t[0]&&t[0].nodeType>0)?!0:!1},hasClass:function(t,e){var n=this.getAttribute(t,"class")||this.getAttribute(t,"className")||"";return n.search(e)>-1},addClass:function(t,e){if(!this.hasClass(t,e)){var n=this.getAttribute(t,"class")||this.getAttribute(t,"className")||"";n=n+" "+e+" ",n=n.replace(/\s{2,}/g," "),t.setAttribute("class",n)}},removeClass:function(t,e){if(this.hasClass(t,e)){var n=this.getAttribute(t,"class")||this.getAttribute(t,"className")||"";n=n.replace(e,""),t.setAttribute("class",n)}},sorter:{alphanum:function(t,n,i){(t===e||null===t)&&(t=""),(n===e||null===n)&&(n=""),t=(""+t).toLowerCase().replace(/&(lt|gt);/g,function(t,e){return"lt"==e?"<":">"}),t=t.replace(/<\/?[^>]+(>|$)/g,""),n=(""+n).toLowerCase().replace(/&(lt|gt);/g,function(t,e){return"lt"==e?"<":">"}),n=n.replace(/<\/?[^>]+(>|$)/g,"");for(var s=this.chunkify(t),r=this.chunkify(n),o=0;s[o]&&r[o];o++)if(s[o]!==r[o]){var a=Number(s[o]),l=Number(r[o]);return i?a==s[o]&&l==r[o]?a-l:s[o]>r[o]?1:-1:a==s[o]&&l==r[o]?l-a:s[o]>r[o]?-1:1}return s.length-r.length},chunkify:function(t){for(var e,n,i=[],s=0,r=-1,o=0;e=(n=t.charAt(s++)).charCodeAt(0);){var a=45==e||46==e||e>=48&&57>=e;a!==o&&(i[++r]="",o=a),i[r]+=n}return i}}},"function"==typeof define&&"object"==typeof define.amd?define([],function(){return s}):(t.List=s,t.ListJsHelpers=n)}(window),function(t,e){"use strict";var n=t.document,i=function(){var i,s,r,o,a,l,c={},u={},h=!1,d={ENTER:13,ESC:27,SPACE:32},p=[];return u={buttons:{holder:'<nav class="alertify-buttons">{{buttons}}</nav>',submit:'<button type="submit" class="btn btn-primary" id="alertify-ok" />{{ok}}</button>',ok:'<a href="#" class="btn" id="alertify-ok">{{ok}}</a>',cancel:'<a href="#" class="btn" id="alertify-cancel">{{cancel}}</a>'},input:'<div class="alertify-text-wrapper"><input type="text" class="alertify-text" id="alertify-text"></div>',message:'<p class="alertify-message">{{message}}</p>',log:'<article class="alertify-log{{class}}">{{message}}</article>'},l=function(){var t,i=n.createElement("fakeelement"),s={transition:"transitionend",OTransition:"otransitionend",MSTransition:"msTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"};for(t in s)if(i.style[t]!==e)return s[t]},i=function(t){return n.getElementById(t)},c={labels:{ok:"OK",cancel:"Cancel"},delay:2e3,buttonReverse:!1,transition:e,addListeners:function(s){var r,o,a,l,c,u=i("alertify-resetFocus"),h=i("alertify-ok")||e,p=i("alertify-cancel")||e,f=i("alertify-text")||e,m=i("alertify-form")||e,g=h!==e,v=p!==e,y=f!==e,_="",b=this;r=function(t){t.preventDefault!==e&&t.preventDefault(),a(t),f!==e&&(_=f.value),"function"==typeof s&&s(!0,_)},o=function(t){t.preventDefault!==e&&t.preventDefault(),a(t),"function"==typeof s&&s(!1)},a=function(){b.hide(),b.unbind(n.body,"keyup",l),b.unbind(u,"focus",c),y&&b.unbind(m,"submit",r),g&&b.unbind(h,"click",r),v&&b.unbind(p,"click",o)},l=function(t){var e=t.keyCode;e!==d.SPACE||y||r(t),e===d.ESC&&v&&o(t)},c=function(){y?f.focus():v?p.focus():h.focus()},this.bind(u,"focus",c),g&&this.bind(h,"click",r),v&&this.bind(p,"click",o),this.bind(n.body,"keyup",l),y&&this.bind(m,"submit",r),t.setTimeout(function(){f?(f.focus(),f.select()):h.focus()},50)},bind:function(t,e,n){"function"==typeof t.addEventListener?t.addEventListener(e,n,!1):t.attachEvent&&t.attachEvent("on"+e,n)},appendButtons:function(t,e){return this.buttonReverse?e+t:t+e},build:function(t){var e="",n=t.type,i=t.message,s=t.cssClass||"";switch(e+='<div class="alertify-dialog">',"prompt"===n&&(e+='<form id="alertify-form">'),e+='<article class="alertify-inner">',e+=u.message.replace("{{message}}",i),"prompt"===n&&(e+=u.input),e+=u.buttons.holder,e+="</article>","prompt"===n&&(e+="</form>"),e+='<a id="alertify-resetFocus" class="alertify-resetFocus" href="#">Reset Focus</a>',e+="</div>",n){case"confirm":e=e.replace("{{buttons}}",this.appendButtons(u.buttons.cancel,u.buttons.ok)),e=e.replace("{{ok}}",this.labels.ok).replace("{{cancel}}",this.labels.cancel);break;case"prompt":e=e.replace("{{buttons}}",this.appendButtons(u.buttons.cancel,u.buttons.submit)),e=e.replace("{{ok}}",this.labels.ok).replace("{{cancel}}",this.labels.cancel);break;case"alert":e=e.replace("{{buttons}}",u.buttons.ok),e=e.replace("{{ok}}",this.labels.ok);break;default:}return o.className="alertify alertify-show alertify-"+n+" "+s,r.className="alertify-cover",e},close:function(t,n){var i,s=n&&!isNaN(n)?+n:this.delay,r=this;this.bind(t,"click",function(){a.removeChild(t)}),i=function(t){t.stopPropagation(),"opacity"===t.propertyName&&a.removeChild(this)},0!==n&&setTimeout(function(){t!==e&&t.parentNode===a&&(r.transition!==e?(r.bind(t,r.transition,i),t.className+=" alertify-log-hide"):a.removeChild(t))},s)},dialog:function(t,i,r,a,l){s=n.activeElement;var c=function(){o&&null!==o.scrollTop||c()};if("string"!=typeof t)throw Error("message must be a string");if("string"!=typeof i)throw Error("type must be a string");if(r!==e&&"function"!=typeof r)throw Error("fn must be a function");return"function"==typeof this.init&&(this.init(),c()),p.push({type:i,message:t,callback:r,placeholder:a,cssClass:l}),h||this.setup(),this},extend:function(t){if("string"!=typeof t)throw Error("extend method must have exactly one paramter");return function(e,n){return this.log(e,t,n),this}},hide:function(){p.splice(0,1),p.length>0?this.setup():(h=!1,o.className="alertify alertify-hide alertify-hidden",r.className="alertify-cover alertify-hidden",s.focus())},init:function(){n.createElement("nav"),n.createElement("article"),n.createElement("section"),r=n.createElement("div"),r.setAttribute("id","alertify-cover"),r.className="alertify-cover alertify-hidden",n.body.appendChild(r),o=n.createElement("section"),o.setAttribute("id","alertify"),o.className="alertify alertify-hidden",n.body.appendChild(o),a=n.createElement("section"),a.setAttribute("id","alertify-logs"),a.className="alertify-logs",n.body.appendChild(a),n.body.setAttribute("tabindex","0"),this.transition=l(),delete this.init},log:function(t,e,n){var i=function(){a&&null!==a.scrollTop||i()};return"function"==typeof this.init&&(this.init(),i()),this.notify(t,e,n),this},notify:function(t,e,i){var s=n.createElement("article");s.className="alertify-log"+("string"==typeof e&&""!==e?" alertify-log-"+e:""),s.innerHTML=t,a.insertBefore(s,null),setTimeout(function(){s.className=s.className+" alertify-log-show"},50),this.close(s,i)},set:function(t){var e;if("object"!=typeof t&&t instanceof Array)throw Error("args must be an object");for(e in t)t.hasOwnProperty(e)&&(this[e]=t[e])},setup:function(){var t=p[0];h=!0,o.innerHTML=this.build(t),"string"==typeof t.placeholder&&""!==t.placeholder&&(i("alertify-text").value=t.placeholder),this.addListeners(t.callback)},unbind:function(t,e,n){"function"==typeof t.removeEventListener?t.removeEventListener(e,n,!1):t.detachEvent&&t.detachEvent("on"+e,n)}},{alert:function(t,e,n){return c.dialog(t,"alert",e,"",n),this},confirm:function(t,e,n){return c.dialog(t,"confirm",e,"",n),this},extend:c.extend,init:c.init,log:function(t,e,n){return c.log(t,e,n),this},prompt:function(t,e,n,i){return c.dialog(t,"prompt",e,n,i),this},success:function(t,e){return c.log(t,"success",e),this},error:function(t,e){return c.log(t,"error",e),this},set:function(t){c.set(t)},labels:c.labels}};t.alertify=new i}(this);