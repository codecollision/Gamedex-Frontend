/*! GAMEDEX - v0.1.0 - 2012-12-31
* http://www.gamedex.net/
* 2012 - Michael Martin */
(function(){var t=this,L=t._,p={},l=Array.prototype,q=Object.prototype,u=l.push,h=l.slice,r=l.concat,m=q.toString,M=q.hasOwnProperty,A=l.forEach,B=l.map,C=l.reduce,D=l.reduceRight,E=l.filter,F=l.every,G=l.some,s=l.indexOf,H=l.lastIndexOf,q=Array.isArray,N=Object.keys,v=Function.prototype.bind,b=function(a){if(a instanceof b)return a;if(!(this instanceof b))return new b(a);this._wrapped=a};"undefined"!==typeof exports?("undefined"!==typeof module&&module.exports&&(exports=module.exports=b),exports._=
b):t._=b;b.VERSION="1.4.3";var k=b.each=b.forEach=function(a,c,d){if(null!=a)if(A&&a.forEach===A)a.forEach(c,d);else if(a.length===+a.length)for(var e=0,g=a.length;e<g&&c.call(d,a[e],e,a)!==p;e++);else for(e in a)if(b.has(a,e)&&c.call(d,a[e],e,a)===p)break};b.map=b.collect=function(a,c,d){var b=[];if(null==a)return b;if(B&&a.map===B)return a.map(c,d);k(a,function(a,f,j){b[b.length]=c.call(d,a,f,j)});return b};b.reduce=b.foldl=b.inject=function(a,c,d,e){var g=2<arguments.length;null==a&&(a=[]);if(C&&
a.reduce===C)return e&&(c=b.bind(c,e)),g?a.reduce(c,d):a.reduce(c);k(a,function(a,b,O){g?d=c.call(e,d,a,b,O):(d=a,g=!0)});if(!g)throw new TypeError("Reduce of empty array with no initial value");return d};b.reduceRight=b.foldr=function(a,c,d,e){var g=2<arguments.length;null==a&&(a=[]);if(D&&a.reduceRight===D)return e&&(c=b.bind(c,e)),g?a.reduceRight(c,d):a.reduceRight(c);var f=a.length;if(f!==+f)var j=b.keys(a),f=j.length;k(a,function(b,h,k){h=j?j[--f]:--f;g?d=c.call(e,d,a[h],h,k):(d=a[h],g=!0)});
if(!g)throw new TypeError("Reduce of empty array with no initial value");return d};b.find=b.detect=function(a,c,b){var e;I(a,function(a,f,j){if(c.call(b,a,f,j))return e=a,!0});return e};b.filter=b.select=function(a,c,b){var e=[];if(null==a)return e;if(E&&a.filter===E)return a.filter(c,b);k(a,function(a,f,j){c.call(b,a,f,j)&&(e[e.length]=a)});return e};b.reject=function(a,c,d){return b.filter(a,function(a,b,f){return!c.call(d,a,b,f)},d)};b.every=b.all=function(a,c,d){c||(c=b.identity);var e=!0;if(null==
a)return e;if(F&&a.every===F)return a.every(c,d);k(a,function(a,b,j){if(!(e=e&&c.call(d,a,b,j)))return p});return!!e};var I=b.some=b.any=function(a,c,d){c||(c=b.identity);var e=!1;if(null==a)return e;if(G&&a.some===G)return a.some(c,d);k(a,function(a,b,j){if(e||(e=c.call(d,a,b,j)))return p});return!!e};b.contains=b.include=function(a,c){return null==a?!1:s&&a.indexOf===s?-1!=a.indexOf(c):I(a,function(a){return a===c})};b.invoke=function(a,c){var d=h.call(arguments,2);return b.map(a,function(a){return(b.isFunction(c)?
c:a[c]).apply(a,d)})};b.pluck=function(a,c){return b.map(a,function(a){return a[c]})};b.where=function(a,c){return b.isEmpty(c)?[]:b.filter(a,function(a){for(var b in c)if(c[b]!==a[b])return!1;return!0})};b.max=function(a,c,d){if(!c&&b.isArray(a)&&a[0]===+a[0]&&65535>a.length)return Math.max.apply(Math,a);if(!c&&b.isEmpty(a))return-Infinity;var e={computed:-Infinity,value:-Infinity};k(a,function(a,b,j){b=c?c.call(d,a,b,j):a;b>=e.computed&&(e={value:a,computed:b})});return e.value};b.min=function(a,
c,d){if(!c&&b.isArray(a)&&a[0]===+a[0]&&65535>a.length)return Math.min.apply(Math,a);if(!c&&b.isEmpty(a))return Infinity;var e={computed:Infinity,value:Infinity};k(a,function(a,b,j){b=c?c.call(d,a,b,j):a;b<e.computed&&(e={value:a,computed:b})});return e.value};b.shuffle=function(a){var c,d=0,e=[];k(a,function(a){c=b.random(d++);e[d-1]=e[c];e[c]=a});return e};var w=function(a){return b.isFunction(a)?a:function(c){return c[a]}};b.sortBy=function(a,c,d){var e=w(c);return b.pluck(b.map(a,function(a,c,
b){return{value:a,index:c,criteria:e.call(d,a,c,b)}}).sort(function(a,c){var b=a.criteria,d=c.criteria;if(b!==d){if(b>d||void 0===b)return 1;if(b<d||void 0===d)return-1}return a.index<c.index?-1:1}),"value")};var J=function(a,c,d,e){var g={},f=w(c||b.identity);k(a,function(c,b){var h=f.call(d,c,b,a);e(g,h,c)});return g};b.groupBy=function(a,c,d){return J(a,c,d,function(a,c,d){(b.has(a,c)?a[c]:a[c]=[]).push(d)})};b.countBy=function(a,c,d){return J(a,c,d,function(a,c){b.has(a,c)||(a[c]=0);a[c]++})};
b.sortedIndex=function(a,c,d,e){d=null==d?b.identity:w(d);c=d.call(e,c);for(var g=0,f=a.length;g<f;){var j=g+f>>>1;d.call(e,a[j])<c?g=j+1:f=j}return g};b.toArray=function(a){return!a?[]:b.isArray(a)?h.call(a):a.length===+a.length?b.map(a,b.identity):b.values(a)};b.size=function(a){return null==a?0:a.length===+a.length?a.length:b.keys(a).length};b.first=b.head=b.take=function(a,c,b){return null==a?void 0:null!=c&&!b?h.call(a,0,c):a[0]};b.initial=function(a,c,b){return h.call(a,0,a.length-(null==c||
b?1:c))};b.last=function(a,c,b){return null==a?void 0:null!=c&&!b?h.call(a,Math.max(a.length-c,0)):a[a.length-1]};b.rest=b.tail=b.drop=function(a,c,b){return h.call(a,null==c||b?1:c)};b.compact=function(a){return b.filter(a,b.identity)};var K=function(a,c,d){k(a,function(a){b.isArray(a)?c?u.apply(d,a):K(a,c,d):d.push(a)});return d};b.flatten=function(a,c){return K(a,c,[])};b.without=function(a){return b.difference(a,h.call(arguments,1))};b.uniq=b.unique=function(a,c,d,e){b.isFunction(c)&&(e=d,d=c,
c=!1);d=d?b.map(a,d,e):a;var g=[],f=[];k(d,function(d,e){if(c?!e||f[f.length-1]!==d:!b.contains(f,d))f.push(d),g.push(a[e])});return g};b.union=function(){return b.uniq(r.apply(l,arguments))};b.intersection=function(a){var c=h.call(arguments,1);return b.filter(b.uniq(a),function(a){return b.every(c,function(c){return 0<=b.indexOf(c,a)})})};b.difference=function(a){var c=r.apply(l,h.call(arguments,1));return b.filter(a,function(a){return!b.contains(c,a)})};b.zip=function(){for(var a=h.call(arguments),
c=b.max(b.pluck(a,"length")),d=Array(c),e=0;e<c;e++)d[e]=b.pluck(a,""+e);return d};b.object=function(a,c){if(null==a)return{};for(var b={},e=0,g=a.length;e<g;e++)c?b[a[e]]=c[e]:b[a[e][0]]=a[e][1];return b};b.indexOf=function(a,c,d){if(null==a)return-1;var e=0,g=a.length;if(d)if("number"==typeof d)e=0>d?Math.max(0,g+d):d;else return e=b.sortedIndex(a,c),a[e]===c?e:-1;if(s&&a.indexOf===s)return a.indexOf(c,d);for(;e<g;e++)if(a[e]===c)return e;return-1};b.lastIndexOf=function(a,c,b){if(null==a)return-1;
var e=null!=b;if(H&&a.lastIndexOf===H)return e?a.lastIndexOf(c,b):a.lastIndexOf(c);for(b=e?b:a.length;b--;)if(a[b]===c)return b;return-1};b.range=function(a,b,d){1>=arguments.length&&(b=a||0,a=0);d=arguments[2]||1;for(var e=Math.max(Math.ceil((b-a)/d),0),g=0,f=Array(e);g<e;)f[g++]=a,a+=d;return f};var x=function(){};b.bind=function(a,c){var d,e;if(a.bind===v&&v)return v.apply(a,h.call(arguments,1));if(!b.isFunction(a))throw new TypeError;d=h.call(arguments,2);return e=function(){if(!(this instanceof
e))return a.apply(c,d.concat(h.call(arguments)));x.prototype=a.prototype;var b=new x;x.prototype=null;var f=a.apply(b,d.concat(h.call(arguments)));return Object(f)===f?f:b}};b.bindAll=function(a){var c=h.call(arguments,1);0==c.length&&(c=b.functions(a));k(c,function(c){a[c]=b.bind(a[c],a)});return a};b.memoize=function(a,c){var d={};c||(c=b.identity);return function(){var e=c.apply(this,arguments);return b.has(d,e)?d[e]:d[e]=a.apply(this,arguments)}};b.delay=function(a,b){var d=h.call(arguments,2);
return setTimeout(function(){return a.apply(null,d)},b)};b.defer=function(a){return b.delay.apply(b,[a,1].concat(h.call(arguments,1)))};b.throttle=function(a,b){var d,e,g,f,j=0,h=function(){j=new Date;g=null;f=a.apply(d,e)};return function(){var k=new Date,l=b-(k-j);d=this;e=arguments;0>=l?(clearTimeout(g),g=null,j=k,f=a.apply(d,e)):g||(g=setTimeout(h,l));return f}};b.debounce=function(a,b,d){var e,g;return function(){var f=this,j=arguments,h=d&&!e;clearTimeout(e);e=setTimeout(function(){e=null;d||
(g=a.apply(f,j))},b);h&&(g=a.apply(f,j));return g}};b.once=function(a){var b=!1,d;return function(){if(b)return d;b=!0;d=a.apply(this,arguments);a=null;return d}};b.wrap=function(a,b){return function(){var d=[a];u.apply(d,arguments);return b.apply(this,d)}};b.compose=function(){var a=arguments;return function(){for(var b=arguments,d=a.length-1;0<=d;d--)b=[a[d].apply(this,b)];return b[0]}};b.after=function(a,b){return 0>=a?b():function(){if(1>--a)return b.apply(this,arguments)}};b.keys=N||function(a){if(a!==
Object(a))throw new TypeError("Invalid object");var c=[],d;for(d in a)b.has(a,d)&&(c[c.length]=d);return c};b.values=function(a){var c=[],d;for(d in a)b.has(a,d)&&c.push(a[d]);return c};b.pairs=function(a){var c=[],d;for(d in a)b.has(a,d)&&c.push([d,a[d]]);return c};b.invert=function(a){var c={},d;for(d in a)b.has(a,d)&&(c[a[d]]=d);return c};b.functions=b.methods=function(a){var c=[],d;for(d in a)b.isFunction(a[d])&&c.push(d);return c.sort()};b.extend=function(a){k(h.call(arguments,1),function(b){if(b)for(var d in b)a[d]=
b[d]});return a};b.pick=function(a){var b={},d=r.apply(l,h.call(arguments,1));k(d,function(d){d in a&&(b[d]=a[d])});return b};b.omit=function(a){var c={},d=r.apply(l,h.call(arguments,1)),e;for(e in a)b.contains(d,e)||(c[e]=a[e]);return c};b.defaults=function(a){k(h.call(arguments,1),function(b){if(b)for(var d in b)null==a[d]&&(a[d]=b[d])});return a};b.clone=function(a){return!b.isObject(a)?a:b.isArray(a)?a.slice():b.extend({},a)};b.tap=function(a,b){b(a);return a};var y=function(a,c,d,e){if(a===c)return 0!==
a||1/a==1/c;if(null==a||null==c)return a===c;a instanceof b&&(a=a._wrapped);c instanceof b&&(c=c._wrapped);var g=m.call(a);if(g!=m.call(c))return!1;switch(g){case "[object String]":return a==String(c);case "[object Number]":return a!=+a?c!=+c:0==a?1/a==1/c:a==+c;case "[object Date]":case "[object Boolean]":return+a==+c;case "[object RegExp]":return a.source==c.source&&a.global==c.global&&a.multiline==c.multiline&&a.ignoreCase==c.ignoreCase}if("object"!=typeof a||"object"!=typeof c)return!1;for(var f=
d.length;f--;)if(d[f]==a)return e[f]==c;d.push(a);e.push(c);var f=0,j=!0;if("[object Array]"==g){if(f=a.length,j=f==c.length)for(;f--&&(j=y(a[f],c[f],d,e)););}else{var g=a.constructor,h=c.constructor;if(g!==h&&(!b.isFunction(g)||!(g instanceof g&&b.isFunction(h)&&h instanceof h)))return!1;for(var k in a)if(b.has(a,k)&&(f++,!(j=b.has(c,k)&&y(a[k],c[k],d,e))))break;if(j){for(k in c)if(b.has(c,k)&&!f--)break;j=!f}}d.pop();e.pop();return j};b.isEqual=function(a,b){return y(a,b,[],[])};b.isEmpty=function(a){if(null==
a)return!0;if(b.isArray(a)||b.isString(a))return 0===a.length;for(var c in a)if(b.has(a,c))return!1;return!0};b.isElement=function(a){return!!(a&&1===a.nodeType)};b.isArray=q||function(a){return"[object Array]"==m.call(a)};b.isObject=function(a){return a===Object(a)};k("Arguments Function String Number Date RegExp".split(" "),function(a){b["is"+a]=function(b){return m.call(b)=="[object "+a+"]"}});b.isArguments(arguments)||(b.isArguments=function(a){return!(!a||!b.has(a,"callee"))});"function"!==typeof/./&&
(b.isFunction=function(a){return"function"===typeof a});b.isFinite=function(a){return isFinite(a)&&!isNaN(parseFloat(a))};b.isNaN=function(a){return b.isNumber(a)&&a!=+a};b.isBoolean=function(a){return!0===a||!1===a||"[object Boolean]"==m.call(a)};b.isNull=function(a){return null===a};b.isUndefined=function(a){return void 0===a};b.has=function(a,b){return M.call(a,b)};b.noConflict=function(){t._=L;return this};b.identity=function(a){return a};b.times=function(a,b,d){for(var e=Array(a),g=0;g<a;g++)e[g]=
b.call(d,g);return e};b.random=function(a,b){null==b&&(b=a,a=0);return a+(0|Math.random()*(b-a+1))};var n={escape:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","/":"&#x2F;"}};n.unescape=b.invert(n.escape);var P={escape:RegExp("["+b.keys(n.escape).join("")+"]","g"),unescape:RegExp("("+b.keys(n.unescape).join("|")+")","g")};b.each(["escape","unescape"],function(a){b[a]=function(b){return null==b?"":(""+b).replace(P[a],function(b){return n[a][b]})}});b.result=function(a,c){if(null==a)return null;
var d=a[c];return b.isFunction(d)?d.call(a):d};b.mixin=function(a){k(b.functions(a),function(c){var d=b[c]=a[c];b.prototype[c]=function(){var a=[this._wrapped];u.apply(a,arguments);a=d.apply(b,a);return this._chain?b(a).chain():a}})};var Q=0;b.uniqueId=function(a){var b=""+ ++Q;return a?a+b:b};b.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var z=/(.)^/,R={"'":"'","\\":"\\","\r":"r","\n":"n","\t":"t","\u2028":"u2028","\u2029":"u2029"},S=/\\|'|\r|\n|\t|\u2028|\u2029/g;
b.template=function(a,c,d){d=b.defaults({},d,b.templateSettings);var e=RegExp([(d.escape||z).source,(d.interpolate||z).source,(d.evaluate||z).source].join("|")+"|$","g"),g=0,f="__p+='";a.replace(e,function(b,c,d,e,h){f+=a.slice(g,h).replace(S,function(a){return"\\"+R[a]});c&&(f+="'+\n((__t=("+c+"))==null?'':_.escape(__t))+\n'");d&&(f+="'+\n((__t=("+d+"))==null?'':__t)+\n'");e&&(f+="';\n"+e+"\n__p+='");g=h+b.length;return b});f+="';\n";d.variable||(f="with(obj||{}){\n"+f+"}\n");f="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+
f+"return __p;\n";try{var j=new Function(d.variable||"obj","_",f)}catch(h){throw h.source=f,h;}if(c)return j(c,b);c=function(a){return j.call(this,a,b)};c.source="function("+(d.variable||"obj")+"){\n"+f+"}";return c};b.chain=function(a){return b(a).chain()};b.mixin(b);k("pop push reverse shift sort splice unshift".split(" "),function(a){var c=l[a];b.prototype[a]=function(){var d=this._wrapped;c.apply(d,arguments);("shift"==a||"splice"==a)&&0===d.length&&delete d[0];return this._chain?b(d).chain():
d}});k(["concat","join","slice"],function(a){var c=l[a];b.prototype[a]=function(){var a=c.apply(this._wrapped,arguments);return this._chain?b(a).chain():a}});b.extend(b.prototype,{chain:function(){this._chain=!0;return this},value:function(){return this._wrapped}})}).call(this);

function buildClassCheck(a){return function(b){return isClass(b,a)}}function isClass(a,b){return object.prototype.toString.call(a)==="[object "+b+"]"}function initializeClasses(){initializeClass(object),iterateOverObject(ClassNames,function(a,b){initializeClass(globalContext[b])})}function initializeClass(a){if(a.SugarMethods)return;defineProperty(a,"SugarMethods",{}),extend(a,!1,!1,{restore:function(){var b=arguments.length===0,c=multiArgs(arguments);iterateOverObject(a.SugarMethods,function(d,e){(b||c.indexOf(d)>-1)&&defineProperty(e.instance?a.prototype:a,d,e.method)})},extend:function(b,c,d){extend(a,d!==!1,c,b)}})}function extend(a,b,c,d){var e=b?a.prototype:a,f;initializeClass(a),iterateOverObject(d,function(d,g){f=e[d],typeof c=="function"&&(g=wrapNative(e[d],g,c)),(c!==!1||!e[d])&&defineProperty(e,d,g),a.SugarMethods[d]={instance:b,method:g,original:f}})}function extendSimilar(a,b,c,d,e){var f={};d=isString(d)?d.split(","):d,d.forEach(function(a,b){e(f,a,b)}),extend(a,b,c,f)}function wrapNative(a,b,c){return function(){return a&&(c===!0||!c.apply(this,arguments))?a.apply(this,arguments):b.apply(this,arguments)}}function defineProperty(a,b,c){definePropertySupport?object.defineProperty(a,b,{value:c,configurable:!0,enumerable:!1,writable:!0}):a[b]=c}function multiArgs(a,b){var c=[],d=0;for(d=0;d<a.length;d++)c.push(a[d]),b&&b.call(a,a[d],d);return c}function isDefined(a){return a!==Undefined}function isUndefined(a){return a===Undefined}function isObjectPrimitive(a){return a&&typeof a=="object"}function isObject(a){return!!a&&isClass(a,"Object")&&string(a.constructor)===string(object)}function hasOwnProperty(a,b){return object.hasOwnProperty.call(a,b)}function iterateOverObject(a,b){var c;for(c in a){if(!hasOwnProperty(a,c))continue;if(b.call(a,c,a[c])===!1)break}}function simpleMerge(a,b){return iterateOverObject(b,function(c){a[c]=b[c]}),a}function Hash(a){simpleMerge(this,a)}function getRange(a,b,c,d){var e=[],f=parseInt(a),g=d<0;while(!g&&f<=b||g&&f>=b)e.push(f),c&&c.call(this,f),f+=d||1;return e}function round(a,b,c){var d=math[c||"round"],e=math.pow(10,math.abs(b||0));return b<0&&(e=1/e),d(a*e)/e}function ceil(a,b){return round(a,b,"ceil")}function floor(a,b){return round(a,b,"floor")}function padNumber(a,b,c,d){var e=math.abs(a).toString(d||10);e=repeatString(b-e.replace(/\.\d+/,"").length,"0")+e;if(c||a<0)e=(a<0?"-":"+")+e;return e}function getOrdinalizedSuffix(a){if(a>=11&&a<=13)return"th";switch(a%10){case 1:return"st";case 2:return"nd";case 3:return"rd";default:return"th"}}function getTrimmableCharacters(){return"\t\n\f\r   ᠎             \u2028\u2029　﻿"}function repeatString(a,b){return array(math.max(0,isDefined(a)?a:1)+1).join(b||"")}function getRegExpFlags(a,b){var c=a.toString().match(/[^/]*$/)[0];return b&&(c=(c+b).split("").sort().join("").replace(/([gimy])\1+/g,"$1")),c}function escapeRegExp(a){return isString(a)||(a=string(a)),a.replace(/([\\/'*+?|()\[\]{}.^$])/g,"\\$1")}function stringify(a,b){var c,d,e,f,g,h,i,j=typeof a;if(j==="string")return a;d=object.prototype.toString.call(a),e=d==="[object Object]",f=d==="[object Array]";if(a!=null&&e||f){b||(b=[]);if(b.length>1){h=b.length;while(h--)if(b[h]===a)return"CYC"}b.push(a),c=string(a.constructor),g=f?a:object.keys(a).sort();for(h=0;h<g.length;h++)i=f?h:g[h],c+=i+stringify(a[i],b);b.pop()}else 1/a===-Infinity?c="-0":c=string(a&&a.valueOf());return j+d+c}function entryAtIndex(a,b,c){var d=[],e=a.length,f=b[b.length-1]!==!1,g;return multiArgs(b,function(b){if(isBoolean(b))return!1;f&&(b=b%e,b<0&&(b=e+b)),g=c?a.charAt(b)||"":a[b],d.push(g)}),d.length<2?d[0]:d}function buildObjectInstanceMethods(a,b){extendSimilar(b,!0,!1,a,function(a,b){a[b+(b==="equal"?"s":"")]=function(){return object[b].apply(null,[this].concat(multiArgs(arguments)))}})}function setDelay(a,b,c,d,e){var f;a.timers||(a.timers=[]),isNumber(b)||(b=0),a.timers.push(setTimeout(function(){a.timers.splice(f,1),c.apply(d,e||[])},b)),f=a.timers.length}!function(a,b){"use strict";var c=b.prototype.trim,d=b.prototype.trimRight,e=b.prototype.trimLeft,f=function(a){return a*1||0},g=function(a,b){if(b<1)return"";var c="";while(b>0)b&1&&(c+=a),b>>=1,a+=a;return c},h=[].slice,i=function(a){return a==null?"\\s":a.source?a.source:"["+n.escapeRegExp(a)+"]"},j={lt:"<",gt:">",quot:'"',amp:"&",apos:"'"},k={};for(var l in j)k[j[l]]=l;k["'"]="#39";var m=function(){function a(a){return Object.prototype.toString.call(a).slice(8,-1).toLowerCase()}var c=g,d=function(){return d.cache.hasOwnProperty(arguments[0])||(d.cache[arguments[0]]=d.parse(arguments[0])),d.format.call(null,d.cache[arguments[0]],arguments)};return d.format=function(d,e){var f=1,g=d.length,h="",i,j=[],k,l,n,o,p,q;for(k=0;k<g;k++){h=a(d[k]);if(h==="string")j.push(d[k]);else if(h==="array"){n=d[k];if(n[2]){i=e[f];for(l=0;l<n[2].length;l++){if(!i.hasOwnProperty(n[2][l]))throw new Error(m('[_.sprintf] property "%s" does not exist',n[2][l]));i=i[n[2][l]]}}else n[1]?i=e[n[1]]:i=e[f++];if(/[^s]/.test(n[8])&&a(i)!="number")throw new Error(m("[_.sprintf] expecting number but found %s",a(i)));switch(n[8]){case"b":i=i.toString(2);break;case"c":i=b.fromCharCode(i);break;case"d":i=parseInt(i,10);break;case"e":i=n[7]?i.toExponential(n[7]):i.toExponential();break;case"f":i=n[7]?parseFloat(i).toFixed(n[7]):parseFloat(i);break;case"o":i=i.toString(8);break;case"s":i=(i=b(i))&&n[7]?i.substring(0,n[7]):i;break;case"u":i=Math.abs(i);break;case"x":i=i.toString(16);break;case"X":i=i.toString(16).toUpperCase()}i=/[def]/.test(n[8])&&n[3]&&i>=0?"+"+i:i,p=n[4]?n[4]=="0"?"0":n[4].charAt(1):" ",q=n[6]-b(i).length,o=n[6]?c(p,q):"",j.push(n[5]?i+o:o+i)}}return j.join("")},d.cache={},d.parse=function(a){var b=a,c=[],d=[],e=0;while(b){if((c=/^[^\x25]+/.exec(b))!==null)d.push(c[0]);else if((c=/^\x25{2}/.exec(b))!==null)d.push("%");else{if((c=/^\x25(?:([1-9]\d*)\$|\(([^\)]+)\))?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-fosuxX])/.exec(b))===null)throw new Error("[_.sprintf] huh?");if(c[2]){e|=1;var f=[],g=c[2],h=[];if((h=/^([a-z_][a-z_\d]*)/i.exec(g))===null)throw new Error("[_.sprintf] huh?");f.push(h[1]);while((g=g.substring(h[0].length))!=="")if((h=/^\.([a-z_][a-z_\d]*)/i.exec(g))!==null)f.push(h[1]);else if((h=/^\[(\d+)\]/.exec(g))!==null)f.push(h[1]);else throw new Error("[_.sprintf] huh?");c[2]=f}else e|=2;if(e===3)throw new Error("[_.sprintf] mixing positional and named placeholders is not (yet) supported");d.push(c)}b=b.substring(c[0].length)}return d},d}(),n={VERSION:"2.3.0",isBlank:function(a){return a==null&&(a=""),/^\s*$/.test(a)},stripTags:function(a){return a==null?"":b(a).replace(/<\/?[^>]+>/g,"")},capitalize:function(a){return a=a==null?"":b(a),a.charAt(0).toUpperCase()+a.slice(1)},chop:function(a,c){return a==null?[]:(a=b(a),c=~~c,c>0?a.match(new RegExp(".{1,"+c+"}","g")):[a])},clean:function(a){return n.strip(a).replace(/\s+/g," ")},count:function(a,c){if(a==null||c==null)return 0;a=b(a),c=b(c);var d=0,e=0,f=c.length;for(;;){e=a.indexOf(c,e);if(e===-1)break;d++,e+=f}return d},chars:function(a){return a==null?[]:b(a).split("")},swapCase:function(a){return a==null?"":b(a).replace(/\S/g,function(a){return a===a.toUpperCase()?a.toLowerCase():a.toUpperCase()})},escapeHTML:function(a){return a==null?"":b(a).replace(/[&<>"']/g,function(a){return"&"+k[a]+";"})},unescapeHTML:function(a){return a==null?"":b(a).replace(/\&([^;]+);/g,function(a,c){var d;return c in j?j[c]:(d=c.match(/^#x([\da-fA-F]+)$/))?b.fromCharCode(parseInt(d[1],16)):(d=c.match(/^#(\d+)$/))?b.fromCharCode(~~d[1]):a})},escapeRegExp:function(a){return a==null?"":b(a).replace(/([.*+?^=!:${}()|[\]\/\\])/g,"\\$1")},splice:function(a,b,c,d){var e=n.chars(a);return e.splice(~~b,~~c,d),e.join("")},insert:function(a,b,c){return n.splice(a,b,0,c)},include:function(a,c){return c===""?!0:a==null?!1:b(a).indexOf(c)!==-1},join:function(){var a=h.call(arguments),b=a.shift();return b==null&&(b=""),a.join(b)},lines:function(a){return a==null?[]:b(a).split("\n")},reverse:function(a){return n.chars(a).reverse().join("")},startsWith:function(a,c){return c===""?!0:a==null||c==null?!1:(a=b(a),c=b(c),a.length>=c.length&&a.slice(0,c.length)===c)},endsWith:function(a,c){return c===""?!0:a==null||c==null?!1:(a=b(a),c=b(c),a.length>=c.length&&a.slice(a.length-c.length)===c)},succ:function(a){return a==null?"":(a=b(a),a.slice(0,-1)+b.fromCharCode(a.charCodeAt(a.length-1)+1))},titleize:function(a){return a==null?"":b(a).replace(/(?:^|\s)\S/g,function(a){return a.toUpperCase()})},camelize:function(a){return n.trim(a).replace(/[-_\s]+(.)?/g,function(a,b){return b.toUpperCase()})},underscored:function(a){return n.trim(a).replace(/([a-z\d])([A-Z]+)/g,"$1_$2").replace(/[-\s]+/g,"_").toLowerCase()},dasherize:function(a){return n.trim(a).replace(/([A-Z])/g,"-$1").replace(/[-_\s]+/g,"-").toLowerCase()},classify:function(a){return n.titleize(b(a).replace(/[\W_]/g," ")).replace(/\s/g,"")},humanize:function(a){return n.capitalize(n.underscored(a).replace(/_id$/,"").replace(/_/g," "))},trim:function(a,d){return a==null?"":!d&&c?c.call(a):(d=i(d),b(a).replace(new RegExp("^"+d+"+|"+d+"+$","g"),""))},ltrim:function(a,c){return a==null?"":!c&&e?e.call(a):(c=i(c),b(a).replace(new RegExp("^"+c+"+"),""))},rtrim:function(a,c){return a==null?"":!c&&d?d.call(a):(c=i(c),b(a).replace(new RegExp(c+"+$"),""))},truncate:function(a,c,d){return a==null?"":(a=b(a),d=d||"...",c=~~c,a.length>c?a.slice(0,c)+d:a)},prune:function(a,c,d){if(a==null)return"";a=b(a),c=~~c,d=d!=null?b(d):"...";if(a.length<=c)return a;var e=function(a){return a.toUpperCase()!==a.toLowerCase()?"A":" "},f=a.slice(0,c+1).replace(/.(?=\W*\w*$)/g,e);return f.slice(f.length-2).match(/\w\w/)?f=f.replace(/\s*\S+$/,""):f=n.rtrim(f.slice(0,f.length-1)),(f+d).length>a.length?a:a.slice(0,f.length)+d},words:function(a,b){return n.isBlank(a)?[]:n.trim(a,b).split(b||/\s+/)},pad:function(a,c,d,e){a=a==null?"":b(a),c=~~c;var f=0;d?d.length>1&&(d=d.charAt(0)):d=" ";switch(e){case"right":return f=c-a.length,a+g(d,f);case"both":return f=c-a.length,g(d,Math.ceil(f/2))+a+g(d,Math.floor(f/2));default:return f=c-a.length,g(d,f)+a}},lpad:function(a,b,c){return n.pad(a,b,c)},rpad:function(a,b,c){return n.pad(a,b,c,"right")},lrpad:function(a,b,c){return n.pad(a,b,c,"both")},sprintf:m,vsprintf:function(a,b){return b.unshift(a),m.apply(null,b)},toNumber:function(a,b){return a?(a=n.trim(a),a.match(/^-?\d+(?:\.\d+)?$/)?f(f(a).toFixed(~~b)):NaN):0},numberFormat:function(a,b,c,d){if(isNaN(a)||a==null)return"";a=a.toFixed(~~b),d=typeof d=="string"?d:",";var e=a.split("."),f=e[0],g=e[1]?(c||".")+e[1]:"";return f.replace(/(\d)(?=(?:\d{3})+$)/g,"$1"+d)+g},strRight:function(a,c){if(a==null)return"";a=b(a),c=c!=null?b(c):c;var d=c?a.indexOf(c):-1;return~d?a.slice(d+c.length,a.length):a},strRightBack:function(a,c){if(a==null)return"";a=b(a),c=c!=null?b(c):c;var d=c?a.lastIndexOf(c):-1;return~d?a.slice(d+c.length,a.length):a},strLeft:function(a,c){if(a==null)return"";a=b(a),c=c!=null?b(c):c;var d=c?a.indexOf(c):-1;return~d?a.slice(0,d):a},strLeftBack:function(a,b){if(a==null)return"";a+="",b=b!=null?""+b:b;var c=a.lastIndexOf(b);return~c?a.slice(0,c):a},toSentence:function(a,b,c,d){b=b||", ",c=c||" and ";var e=a.slice(),f=e.pop();return a.length>2&&d&&(c=n.rtrim(b)+c),e.length?e.join(b)+c+f:f},toSentenceSerial:function(){var a=h.call(arguments);return a[3]=!0,n.toSentence.apply(n,a)},slugify:function(a){if(a==null)return"";var c="ąàáäâãåæćęèéëêìíïîłńòóöôõøùúüûñçżź",d="aaaaaaaaceeeeeiiiilnoooooouuuunczz",e=new RegExp(i(c),"g");return a=b(a).toLowerCase().replace(e,function(a){var b=c.indexOf(a);return d.charAt(b)||"-"}),n.dasherize(a.replace(/[^\w\s-]/g,""))},surround:function(a,b){return[b,a,b].join("")},quote:function(a){return n.surround(a,'"')},exports:function(){var a={};for(var b in this){if(!this.hasOwnProperty(b)||b.match(/^(?:include|contains|reverse)$/))continue;a[b]=this[b]}return a},repeat:function(a,c,d){if(a==null)return"";c=~~c;if(d==null)return g(b(a),c);for(var e=[];c>0;e[--c]=a);return e.join(d)},levenshtein:function(a,c){if(a==null&&c==null)return 0;if(a==null)return b(c).length;if(c==null)return b(a).length;a=b(a),c=b(c);var d=[],e,f;for(var g=0;g<=c.length;g++)for(var h=0;h<=a.length;h++)g&&h?a.charAt(h-1)===c.charAt(g-1)?f=e:f=Math.min(d[h],d[h-1],e)+1:f=g+h,e=d[h],d[h]=f;return d.pop()}};n.strip=n.trim,n.lstrip=n.ltrim,n.rstrip=n.rtrim,n.center=n.lrpad,n.rjust=n.lpad,n.ljust=n.rpad,n.contains=n.include,n.q=n.quote,typeof exports!="undefined"&&(typeof module!="undefined"&&module.exports&&(module.exports=n),exports._s=n),typeof define=="function"&&define.amd&&define("underscore.string",[],function(){return n}),a._=a._||{},a._.string=a._.str=n}(this,String);var object=Object,array=Array,regexp=RegExp,date=Date,string=String,number=Number,math=Math,Undefined,globalContext=typeof global!="undefined"?global:this,definePropertySupport=object.defineProperty&&object.defineProperties,ClassNames="Array,Boolean,Date,Function,Number,String,RegExp".split(","),isArray=buildClassCheck(ClassNames[0]),isBoolean=buildClassCheck(ClassNames[1]),isDate=buildClassCheck(ClassNames[2]),isFunction=buildClassCheck(ClassNames[3]),isNumber=buildClassCheck(ClassNames[4]),isString=buildClassCheck(ClassNames[5]),isRegExp=buildClassCheck(ClassNames[6]);Hash.prototype.constructor=object,initializeClasses(),extend(Function,!0,!1,{lazy:function(a,b){function i(){if(e&&d.length>b-2)return;d.push([this,arguments]),f()}var c=this,d=[],e=!1,f,g,h;return a=a||1,b=b||Infinity,g=ceil(a),h=round(g/a),f=function(){if(e||d.length==0)return;var a=math.max(d.length-h,0);while(d.length>a)Function.prototype.apply.apply(c,d.shift());setDelay(i,g,function(){e=!1,f()}),e=!0},i},delay:function(a){var b=this,c=multiArgs(arguments).slice(1);return setDelay(b,a,b,b,c),b},throttle:function(a){return this.lazy(a,1)},debounce:function(a){var b=this;return function(){b.cancel(),setDelay(b,a,b,this,arguments)}},cancel:function(){if(isArray(this.timers))while(this.timers.length>0)clearTimeout(this.timers.shift());return this},after:function(a){var b=this,c=0,d=[];if(!isNumber(a))a=1;else if(a===0)return b.call(),b;return function(){var e;d.push(multiArgs(arguments)),c++;if(c==a)return e=b.call(this,d),c=0,d=[],e}},once:function(){var a=this;return function(){return hasOwnProperty(a,"memo")?a.memo:a.memo=a.apply(this,arguments)}},fill:function(){var a=this,b=multiArgs(arguments);return function(){var c=multiArgs(arguments);return b.forEach(function(a,b){(a!=null||b>=c.length)&&c.splice(b,0,a)}),a.apply(this,c)}}}),function(a,b){function c(b){return!a(b).parents().andSelf().filter(function(){return a.curCSS(this,"visibility")==="hidden"||a.expr.filters.hidden(this)}).length}function d(b,d){var e=b.nodeName.toLowerCase();if("area"===e){var f=b.parentNode,g=f.name,h;return!b.href||!g||f.nodeName.toLowerCase()!=="map"?!1:(h=a("img[usemap=#"+g+"]")[0],!!h&&c(h))}return(/input|select|textarea|button|object/.test(e)?!b.disabled:"a"==e?b.href||d:d)&&c(b)}a.ui=a.ui||{},a.ui.version||(a.extend(a.ui,{version:"1.8.18",keyCode:{ALT:18,BACKSPACE:8,CAPS_LOCK:20,COMMA:188,COMMAND:91,COMMAND_LEFT:91,COMMAND_RIGHT:93,CONTROL:17,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,INSERT:45,LEFT:37,MENU:93,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SHIFT:16,SPACE:32,TAB:9,UP:38,WINDOWS:91}}),a.fn.extend({propAttr:a.fn.prop||a.fn.attr,_focus:a.fn.focus,focus:function(b,c){return typeof b=="number"?this.each(function(){var d=this;setTimeout(function(){a(d).focus(),c&&c.call(d)},b)}):this._focus.apply(this,arguments)},scrollParent:function(){var b;return a.browser.msie&&/(static|relative)/.test(this.css("position"))||/absolute/.test(this.css("position"))?b=this.parents().filter(function(){return/(relative|absolute|fixed)/.test(a.curCSS(this,"position",1))&&/(auto|scroll)/.test(a.curCSS(this,"overflow",1)+a.curCSS(this,"overflow-y",1)+a.curCSS(this,"overflow-x",1))}).eq(0):b=this.parents().filter(function(){return/(auto|scroll)/.test(a.curCSS(this,"overflow",1)+a.curCSS(this,"overflow-y",1)+a.curCSS(this,"overflow-x",1))}).eq(0),/fixed/.test(this.css("position"))||!b.length?a(document):b},zIndex:function(c){if(c!==b)return this.css("zIndex",c);if(this.length){var d=a(this[0]),e,f;while(d.length&&d[0]!==document){e=d.css("position");if(e==="absolute"||e==="relative"||e==="fixed"){f=parseInt(d.css("zIndex"),10);if(!isNaN(f)&&f!==0)return f}d=d.parent()}}return 0},disableSelection:function(){return this.bind((a.support.selectstart?"selectstart":"mousedown")+".ui-disableSelection",function(a){a.preventDefault()})},enableSelection:function(){return this.unbind(".ui-disableSelection")}}),a.each(["Width","Height"],function(c,d){function e(b,c,d,e){return a.each(f,function(){c-=parseFloat(a.curCSS(b,"padding"+this,!0))||0,d&&(c-=parseFloat(a.curCSS(b,"border"+this+"Width",!0))||0),e&&(c-=parseFloat(a.curCSS(b,"margin"+this,!0))||0)}),c}var f=d==="Width"?["Left","Right"]:["Top","Bottom"],g=d.toLowerCase(),h={innerWidth:a.fn.innerWidth,innerHeight:a.fn.innerHeight,outerWidth:a.fn.outerWidth,outerHeight:a.fn.outerHeight};a.fn["inner"+d]=function(c){return c===b?h["inner"+d].call(this):this.each(function(){a(this).css(g,e(this,c)+"px")})},a.fn["outer"+d]=function(b,c){return typeof b!="number"?h["outer"+d].call(this,b):this.each(function(){a(this).css(g,e(this,b,!0,c)+"px")})}}),a.extend(a.expr[":"],{data:function(b,c,d){return!!a.data(b,d[3])},focusable:function(b){return d(b,!isNaN(a.attr(b,"tabindex")))},tabbable:function(b){var c=a.attr(b,"tabindex"),e=isNaN(c);return(e||c>=0)&&d(b,!e)}}),a(function(){var b=document.body,c=b.appendChild(c=document.createElement("div"));c.offsetHeight,a.extend(c.style,{minHeight:"100px",height:"auto",padding:0,borderWidth:0}),a.support.minHeight=c.offsetHeight===100,a.support.selectstart="onselectstart"in c,b.removeChild(c).style.display="none"}),a.extend(a.ui,{plugin:{add:function(b,c,d){var e=a.ui[b].prototype;for(var f in d)e.plugins[f]=e.plugins[f]||[],e.plugins[f].push([c,d[f]])},call:function(a,b,c){var d=a.plugins[b];if(!!d&&!!a.element[0].parentNode)for(var e=0;e<d.length;e++)a.options[d[e][0]]&&d[e][1].apply(a.element,c)}},contains:function(a,b){return document.compareDocumentPosition?a.compareDocumentPosition(b)&16:a!==b&&a.contains(b)},hasScroll:function(b,c){if(a(b).css("overflow")==="hidden")return!1;var d=c&&c==="left"?"scrollLeft":"scrollTop",e=!1;return b[d]>0?!0:(b[d]=1,e=b[d]>0,b[d]=0,e)},isOverAxis:function(a,b,c){return a>b&&a<b+c},isOver:function(b,c,d,e,f,g){return a.ui.isOverAxis(b,d,f)&&a.ui.isOverAxis(c,e,g)}}))}(jQuery),function(a,b){if(a.cleanData){var c=a.cleanData;a.cleanData=function(b){for(var d=0,e;(e=b[d])!=null;d++)try{a(e).triggerHandler("remove")}catch(f){}c(b)}}else{var d=a.fn.remove;a.fn.remove=function(b,c){return this.each(function(){return c||(!b||a.filter(b,[this]).length)&&a("*",this).add([this]).each(function(){try{a(this).triggerHandler("remove")}catch(b){}}),d.call(a(this),b,c)})}}a.widget=function(b,c,d){var e=b.split(".")[0],f;b=b.split(".")[1],f=e+"-"+b,d||(d=c,c=a.Widget),a.expr[":"][f]=function(c){return!!a.data(c,b)},a[e]=a[e]||{},a[e][b]=function(a,b){arguments.length&&this._createWidget(a,b)};var g=new c;g.options=a.extend(!0,{},g.options),a[e][b].prototype=a.extend(!0,g,{namespace:e,widgetName:b,widgetEventPrefix:a[e][b].prototype.widgetEventPrefix||b,widgetBaseClass:f},d),a.widget.bridge(b,a[e][b])},a.widget.bridge=function(c,d){a.fn[c]=function(e){var f=typeof e=="string",g=Array.prototype.slice.call(arguments,1),h=this;return e=!f&&g.length?a.extend.apply(null,[!0,e].concat(g)):e,f&&e.charAt(0)==="_"?h:(f?this.each(function(){var d=a.data(this,c),f=d&&a.isFunction(d[e])?d[e].apply(d,g):d;if(f!==d&&f!==b)return h=f,!1}):this.each(function(){var b=a.data(this,c);b?b.option(e||{})._init():a.data(this,c,new d(e,this))}),h)}},a.Widget=function(a,b){arguments.length&&this._createWidget(a,b)},a.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",options:{disabled:!1},_createWidget:function(b,c){a.data(c,this.widgetName,this),this.element=a(c),this.options=a.extend(!0,{},this.options,this._getCreateOptions(),b);var d=this;this.element.bind("remove."+this.widgetName,function(){d.destroy()}),this._create(),this._trigger("create"),this._init()},_getCreateOptions:function(){return a.metadata&&a.metadata.get(this.element[0])[this.widgetName]},_create:function(){},_init:function(){},destroy:function(){this.element.unbind("."+this.widgetName).removeData(this.widgetName),this.widget().unbind("."+this.widgetName).removeAttr("aria-disabled").removeClass(this.widgetBaseClass+"-disabled "+"ui-state-disabled")},widget:function(){return this.element},option:function(c,d){var e=c;if(arguments.length===0)return a.extend({},this.options);if(typeof c=="string"){if(d===b)return this.options[c];e={},e[c]=d}return this._setOptions(e),this},_setOptions:function(b){var c=this;return a.each(b,function(a,b){c._setOption(a,b)}),this},_setOption:function(a,b){return this.options[a]=b,a==="disabled"&&this.widget()[b?"addClass":"removeClass"](this.widgetBaseClass+"-disabled"+" "+"ui-state-disabled").attr("aria-disabled",b),this},enable:function(){return this._setOption("disabled",!1)},disable:function(){return this._setOption("disabled",!0)},_trigger:function(b,c,d){var e,f,g=this.options[b];d=d||{},c=a.Event(c),c.type=(b===this.widgetEventPrefix?b:this.widgetEventPrefix+b).toLowerCase(),c.target=this.element[0],f=c.originalEvent;if(f)for(e in f)e in c||(c[e]=f[e]);return this.element.trigger(c,d),!(a.isFunction(g)&&g.call(this.element[0],c,d)===!1||c.isDefaultPrevented())}}}(jQuery),function(a){a.widget("ui.stars",{options:{inputType:"radio",split:0,disabled:!1,cancelTitle:"Cancel Rating",cancelValue:0,cancelShow:!0,disableValue:!0,oneVoteOnly:!1,showTitles:!1,captionEl:null,callback:null,starWidth:16,cancelClass:"ui-stars-cancel",starClass:"ui-stars-star",starOnClass:"ui-stars-star-on",starHoverClass:"ui-stars-star-hover",starDisabledClass:"ui-stars-star-disabled",cancelHoverClass:"ui-stars-cancel-hover",cancelDisabledClass:"ui-stars-cancel-disabled"},_create:function(){function e(a,d){if(a!=-1){var e=d?c.starHoverClass:c.starOnClass,g=d?c.starOnClass:c.starHoverClass;b.$stars.eq(a).prevAll("."+c.starClass).andSelf().removeClass(g).addClass(e),b.$stars.eq(a).nextAll("."+c.starClass).removeClass(c.starHoverClass+" "+c.starOnClass),b._showCap(c.id2title[a])}else f()}function f(){b.$stars.removeClass(c.starOnClass+" "+c.starHoverClass),b._showCap("")}var b=this,c=this.options,d=0;this.element.data("former.stars",this.element.html()),c.isSelect=c.inputType=="select",this.$form=a(this.element).closest("form"),this.$selec=c.isSelect?a("select",this.element):null,this.$rboxs=c.isSelect?a("option",this.$selec):a(":radio",this.element),this.$stars=this.$rboxs.map(function(e){var f={value:this.value,title:(c.isSelect?this.text:this.title)||this.value,isDefault:c.isSelect&&this.defaultSelected||this.defaultChecked};e==0&&(c.split=typeof c.split!="number"?0:c.split,c.val2id=[],c.id2val=[],c.id2title=[],c.name=c.isSelect?b.$selec.get(0).name:this.name,c.disabled=c.disabled||(c.isSelect?a(b.$selec).attr("disabled"):a(this).attr("disabled")));if(f.value==c.cancelValue)return c.cancelTitle=f.title,null;c.val2id[f.value]=d,c.id2val[d]=f.value,c.id2title[d]=f.title,f.isDefault&&(c.checked=d,c.value=c.defaultValue=f.value,c.title=f.title);var g=a("<div/>").addClass(c.starClass),h=a("<a/>").attr("title",c.showTitles?f.title:"").text(f.value);if(c.split){var i=d%c.split,j=Math.floor(c.starWidth/c.split);g.width(j),h.css("margin-left","-"+i*j+"px")}return d++,g.append(h).get(0)}),c.items=d,c.isSelect?this.$selec.remove():this.$rboxs.remove(),this.$cancel=a("<div/>").addClass(c.cancelClass).append(a("<a/>").attr("title",c.showTitles?c.cancelTitle:"").text(c.cancelValue)),c.cancelShow&=!c.disabled&&!c.oneVoteOnly,c.cancelShow&&this.element.append(this.$cancel),this.element.append(this.$stars),c.checked===undefined&&(c.checked=-1,c.value=c.defaultValue=c.cancelValue,c.title=""),this.$value=a("<input type='hidden' name='"+c.name+"' value='"+c.value+"' />"),this.element.append(this.$value),this.$stars.bind("click.stars",function(a){if(!c.forceSelect&&c.disabled)return!1;var d=b.$stars.index(this);c.checked=d,c.value=c.id2val[d],c.title=c.id2title[d],b.$value.attr({disabled:c.disabled?"disabled":"",value:c.value}),e(d,!1),b._disableCancel(),!c.forceSelect&&b.callback(a,"star")}).bind("mouseover.stars",function(){if(c.disabled)return!1;var a=b.$stars.index(this);e(a,!0)}).bind("mouseout.stars",function(){if(c.disabled)return!1;e(b.options.checked,!1)}),this.$cancel.bind("click.stars",function(a){if(!c.forceSelect&&(c.disabled||c.value==c.cancelValue))return!1;c.checked=-1,c.value=c.cancelValue,c.title="",b.$value.val(c.value),c.disableValue&&b.$value.attr({disabled:"disabled"}),f(),b._disableCancel(),!c.forceSelect&&b.callback(a,"cancel")}).bind("mouseover.stars",function(){if(b._disableCancel())return!1;b.$cancel.addClass(c.cancelHoverClass),f(),b._showCap(c.cancelTitle)}).bind("mouseout.stars",function(){if(b._disableCancel())return!1;b.$cancel.removeClass(c.cancelHoverClass),b.$stars.triggerHandler("mouseout.stars")}),this.$form.bind("reset.stars",function(){!c.disabled&&b.select(c.defaultValue)}),a(window).unload(function(){b.$cancel.unbind(".stars"),b.$stars.unbind(".stars"),b.$form.unbind(".stars"),b.$selec=b.$rboxs=b.$stars=b.$value=b.$cancel=b.$form=null}),this.select(c.value),c.disabled&&this.disable()},_disableCancel:function(){var a=this.options,b=a.disabled||a.oneVoteOnly||a.value==a.cancelValue;return b?this.$cancel.removeClass(a.cancelHoverClass).addClass(a.cancelDisabledClass):this.$cancel.removeClass(a.cancelDisabledClass),this.$cancel.css("opacity",b?.5:1),b},_disableAll:function(){var a=this.options;this._disableCancel(),a.disabled?this.$stars.filter("div").addClass(a.starDisabledClass):this.$stars.filter("div").removeClass(a.starDisabledClass)},_showCap:function(a){var b=this.options;b.captionEl&&b.captionEl.text(a)},value:function(){return this.options.value},select:function(a){var b=this.options,c=a==b.cancelValue?this.$cancel:this.$stars.eq(b.val2id[a]);b.forceSelect=!0,c.triggerHandler("click.stars"),b.forceSelect=!1},selectID:function(a){var b=this.options,c=a==-1?this.$cancel:this.$stars.eq(a);b.forceSelect=!0,c.triggerHandler("click.stars"),b.forceSelect=!1},enable:function(){this.options.disabled=!1,this._disableAll()},disable:function(){this.options.disabled=!0,this._disableAll()},destroy:function(){return this.$form.unbind(".stars"),this.$cancel.unbind(".stars").remove(),this.$stars.unbind(".stars").remove(),this.$value.remove(),this.element.unbind(".stars").html(this.element.data("former.stars")).removeData("stars"),this},callback:function(a,b){var c=this.options;c.callback&&c.callback(this,b,c.value,a),c.oneVoteOnly&&!c.disabled&&this.disable()}}),a.extend(a.ui.stars,{version:"3.0.1"})}(jQuery),function(a,b,c){function l(){f=b[g](function(){d.each(function(){var b=a(this),c=b.width(),d=b.height(),e=a.data(this,i);(c!==e.w||d!==e.h)&&b.trigger(h,[e.w=c,e.h=d])}),l()},e[j])}"$:nomunge";var d=a([]),e=a.resize=a.extend(a.resize,{}),f,g="setTimeout",h="resize",i=h+"-special-event",j="delay",k="throttleWindow";e[j]=250,e[k]=!0,a.event.special[h]={setup:function(){if(!e[k]&&this[g])return!1;var b=a(this);d=d.add(b),a.data(this,i,{w:b.width(),h:b.height()}),d.length===1&&l()},teardown:function(){if(!e[k]&&this[g])return!1;var b=a(this);d=d.not(b),b.removeData(i),d.length||clearTimeout(f)},add:function(b){function f(b,e,f){var g=a(this),h=a.data(this,i);h.w=e!==c?e:g.width(),h.h=f!==c?f:g.height(),d.apply(this,arguments)}if(!e[k]&&this[g])return!1;var d;if(a.isFunction(b))return d=b,f;d=b.handler,b.handler=f}}}(jQuery,this),function(a,b,c){"use strict";var d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z;y={paneClass:"pane",sliderClass:"slider",sliderMinHeight:20,contentClass:"content",iOSNativeScrolling:!1,preventPageScrolling:!1,disableResize:!1,alwaysVisible:!1,flashDelay:1500},u="scrollbar",t="scroll",m="mousedown",n="mousemove",p="mousewheel",o="mouseup",s="resize",h="drag",w="up",r="panedown",f="DOMMouseScroll",g="down",x="wheel",i="keydown",l="keyup",v="touchmove",d=b.navigator.appName==="Microsoft Internet Explorer"&&/msie 7./i.test(b.navigator.appVersion)&&b.ActiveXObject,e=null,k={},j={up:38,down:40,pgup:33,pgdown:34,home:36,end:35},z=function(){var a,b,d;return a=c.createElement("div"),b=a.style,b.position="absolute",b.width="100px",b.height="100px",b.overflow=t,b.top="-9999px",c.body.appendChild(a),d=a.offsetWidth-a.clientWidth,c.body.removeChild(a),d},q=function(){function q(d,f){this.options=f,e||(e=z()),this.el=a(d),this.doc=a(c),this.win=a(b),this.generate(),this.createEvents(),this.addEvents(),this.reset()}return q.prototype.preventScrolling=function(a,b){if(a.type===f)(b===g&&a.originalEvent.detail>0||b===w&&a.originalEvent.detail<0)&&a.preventDefault();else if(a.type===p){if(!a.originalEvent||!a.originalEvent.wheelDelta)return;(b===g&&a.originalEvent.wheelDelta<0||b===w&&a.originalEvent.wheelDelta>0)&&a.preventDefault()}},q.prototype.updateScrollValues=function(){var a;a=this.content[0],this.maxScrollTop=a.scrollHeight-a.clientHeight,this.contentScrollTop=a.scrollTop,this.maxSliderTop=this.paneOuterHeight-this.sliderHeight,this.sliderTop=this.contentScrollTop*this.maxSliderTop/this.maxScrollTop},q.prototype.handleKeyPress=function(a){var b,c,d;if(a===j.up||a===j.pgup||a===j.down||a===j.pgdown)c=a===j.up||a===j.down?40:this.paneHeight*.9,b=c/(this.contentHeight-this.paneHeight)*100,d=b*this.maxSliderTop/100,this.sliderY=a===j.up||a===j.pgup?this.sliderY-d:this.sliderY+d,this.scroll();else if(a===j.home||a===j.end)this.sliderY=a===j.home?0:this.maxSliderTop,this.scroll()},q.prototype.createEvents=function(){var a=this;this.events={down:function(b){return a.isBeingDragged=!0,a.offsetY=b.pageY-a.slider.offset().top,a.pane.addClass("active"),a.doc.bind(n,a.events[h]).bind(o,a.events[w]),!1},drag:function(b){return a.sliderY=b.pageY-a.el.offset().top-a.offsetY,a.scroll(),a.updateScrollValues(),a.contentScrollTop>=a.maxScrollTop?a.el.trigger("scrollend"):a.contentScrollTop===0&&a.el.trigger("scrolltop"),!1},up:function(b){return a.isBeingDragged=!1,a.pane.removeClass("active"),a.doc.unbind(n,a.events[h]).unbind(o,a.events[w]),!1},resize:function(b){a.reset()},panedown:function(b){return a.sliderY=(b.offsetY||b.originalEvent.layerY)-a.sliderHeight*.5,a.scroll(),a.events.down(b),!1},scroll:function(b){if(a.isBeingDragged)return;a.updateScrollValues(),a.sliderY=a.sliderTop,a.slider.css({top:a.sliderTop});if(b==null)return;a.contentScrollTop>=a.maxScrollTop?(a.options.preventPageScrolling&&a.preventScrolling(b,g),a.el.trigger("scrollend")):a.contentScrollTop===0&&(a.options.preventPageScrolling&&a.preventScrolling(b,w),a.el.trigger("scrolltop"))},wheel:function(b){if(b==null)return;return a.sliderY+=-b.wheelDeltaY||-b.delta,a.scroll(),!1},keydown:function(b){var c;if(b==null)return;c=b.which;if(c===j.up||c===j.pgup||c===j.down||c===j.pgdown||c===j.home||c===j.end)a.sliderY=isNaN(a.sliderY)?0:a.sliderY,k[c]=setTimeout(function(){a.handleKeyPress(c)},100),b.preventDefault()},keyup:function(b){var c;if(b==null)return;c=b.which,a.handleKeyPress(c),k[c]!=null&&clearTimeout(k[c])}}},q.prototype.addEvents=function(){var a;a=this.events,this.options.disableResize||this.win.bind(s,a[s]),this.slider.bind(m,a[g]),this.pane.bind(m,a[r]).bind(p,a[x]).bind(f,a[x]),this.content.bind(p,a[t]).bind(f,a[t]).bind(v,a[t]).bind(i,a[i]).bind(l,a[l])},q.prototype.removeEvents=function(){var a;a=this.events,this.options.disableResize||this.win.unbind(s,a[s]),this.slider.unbind(m,a[g]),this.pane.unbind(m,a[r]).unbind(p,a[x]).unbind(f,a[x]),this.content.unbind(p,a[t]).unbind(f,a[t]).unbind(v,a[t]).unbind(i,a[i]).unbind(l,a[l])},q.prototype.generate=function(){var a,b,c,d,f;return c=this.options,d=c.paneClass,f=c.sliderClass,a=c.contentClass,this.el.append('<div class="'+d+'"><div class="'+f+'" /></div>'),this.content=this.el.children("."+a),this.content.attr("tabindex",0),this.slider=this.el.find("."+f),this.pane=this.el.find("."+d),e&&(b={right:-e},this.el.addClass("has-scrollbar")),c.iOSNativeScrolling&&(b==null&&(b={}),b.WebkitOverflowScrolling="touch"),b!=null&&this.content.css(b),c.alwaysVisible&&this.pane.css({opacity:1,visibility:"visible"}),this},q.prototype.restore=function(){return this.stopped=!1,this.pane.show(),this.addEvents()},q.prototype.reset=function(){var a,b,c,f,g,h,i,j,k;return this.el.find("."+this.options.paneClass).length||this.generate().stop(),this.stopped&&this.restore(),a=this.content[0],c=a.style,f=c.overflowY,d&&this.content.css({height:this.content.height()}),b=a.scrollHeight+e,h=this.pane.outerHeight(),j=parseInt(this.pane.css("top"),10),g=parseInt(this.pane.css("bottom"),10),i=h+j+g,k=Math.round(i/b*i),k=k>this.options.sliderMinHeight?k:this.options.sliderMinHeight,f===t&&c.overflowX!==t&&(k+=e),this.maxSliderTop=i-k,this.contentHeight=b,this.paneHeight=h,this.paneOuterHeight=i,this.sliderHeight=k,this.slider.height(k),this.events.scroll(),this.pane.show(),this.paneOuterHeight>=a.scrollHeight&&f!==t?this.pane.hide():this.el.height()===a.scrollHeight&&f===t?this.slider.hide():this.slider.show(),this},q.prototype.scroll=function(){return this.sliderY=Math.max(0,this.sliderY),this.sliderY=Math.min(this.maxSliderTop,this.sliderY),this.content.scrollTop((this.paneHeight-this.contentHeight+e)*this.sliderY/this.maxSliderTop*-1),this.slider.css({top:this.sliderY}),this},q.prototype.scrollBottom=function(a){return this.reset(),this.content.scrollTop(this.contentHeight-this.content.height()-a).trigger(p),this},q.prototype.scrollTop=function(a){return this.reset(),this.content.scrollTop(+a).trigger(p),this},q.prototype.scrollTo=function(b){var c,d,e;return this.reset(),e=a(b).offset().top,e>this.maxSliderTop&&(c=e/this.contentHeight,d=this.maxSliderTop*c,this.sliderY=d,this.scroll()),this},q.prototype.stop=function(){return this.stopped=!0,this.removeEvents(),this.pane.hide(),this},q.prototype.flash=function(){var a=this;return this.pane.addClass("flashed"),setTimeout(function(){a.pane.removeClass("flashed")},this.options.flashDelay),this},q}(),a.fn.nanoScroller=function(b){var c,d,e,f,g,h,i;b!=null&&(f=b.scrollBottom,h=b.scrollTop,g=b.scrollTo,e=b.scroll,i=b.stop,c=b.flash),d=a.extend({},y,b),this.each(function(){var j,k;return j=this,k=a.data(j,u),k?a.extend(k.options,b):(k=new q(j,d),a.data(j,u,k)),f?k.scrollBottom(f):h?k.scrollTop(h):g?k.scrollTo(g):e==="bottom"?k.scrollBottom(0):e==="top"?k.scrollTop(0):e instanceof a?k.scrollTo(e):i?k.stop():c?k.flash():k.reset()})}}(jQuery,window,document),function(a,b,c){"use strict";var d=a.document,e=a.Modernizr,f=function(a){return a.charAt(0).toUpperCase()+a.slice(1)},g="Moz Webkit O Ms".split(" "),h=function(a){var b=d.documentElement.style,c;if(typeof b[a]=="string")return a;a=f(a);for(var e=0,h=g.length;e<h;e++){c=g[e]+a;if(typeof b[c]=="string")return c}},i=h("transform"),j=h("transitionProperty"),k={csstransforms:function(){return!!i},csstransforms3d:function(){var a=!!h("perspective");if(a){var c=" -o- -moz- -ms- -webkit- -khtml- ".split(" "),d="@media ("+c.join("transform-3d),(")+"modernizr)",e=b("<style>"+d+"{#modernizr{height:3px}}"+"</style>").appendTo("head"),f=b('<div id="modernizr" />').appendTo("html");a=f.height()===3,f.remove(),e.remove()}return a},csstransitions:function(){return!!j}},l;if(e)for(l in k)e.hasOwnProperty(l)||e.addTest(l,k[l]);else{e=a.Modernizr={_version:"1.6ish: miniModernizr for Isotope"};var m=" ",n;for(l in k)n=k[l](),e[l]=n,m+=" "+(n?"":"no-")+l;b("html").addClass(m)}if(e.csstransforms){var o=e.csstransforms3d?{translate:function(a){return"translate3d("+a[0]+"px, "+a[1]+"px, 0) "},scale:function(a){return"scale3d("+a+", "+a+", 1) "}}:{translate:function(a){return"translate("+a[0]+"px, "+a[1]+"px) "},scale:function(a){return"scale("+a+") "}},p=function(a,c,d){var e=b.data(a,"isoTransform")||{},f={},g,h={},j;f[c]=d,b.extend(e,f);for(g in e)j=e[g],h[g]=o[g](j);var k=h.translate||"",l=h.scale||"",m=k+l;b.data(a,"isoTransform",e),a.style[i]=m};b.cssNumber.scale=!0,b.cssHooks.scale={set:function(a,b){p(a,"scale",b)},get:function(a,c){var d=b.data(a,"isoTransform");return d&&d.scale?d.scale:1}},b.fx.step.scale=function(a){b.cssHooks.scale.set(a.elem,a.now+a.unit)},b.cssNumber.translate=!0,b.cssHooks.translate={set:function(a,b){p(a,"translate",b)},get:function(a,c){var d=b.data(a,"isoTransform");return d&&d.translate?d.translate:[0,0]}}}var q,r;e.csstransitions&&(q={WebkitTransitionProperty:"webkitTransitionEnd",MozTransitionProperty:"transitionend",OTransitionProperty:"oTransitionEnd",transitionProperty:"transitionEnd"}[j],r=h("transitionDuration"));var s=b.event,t;s.special.smartresize={setup:function(){b(this).bind("resize",s.special.smartresize.handler)},teardown:function(){b(this).unbind("resize",s.special.smartresize.handler)},handler:function(a,b){var c=this,d=arguments;a.type="smartresize",t&&clearTimeout(t),t=setTimeout(function(){jQuery.event.handle.apply(c,d)},b==="execAsap"?0:100)}},b.fn.smartresize=function(a){return a?this.bind("smartresize",a):this.trigger("smartresize",["execAsap"])},b.Isotope=function(a,c,d){this.element=b(c),this._create(a),this._init(d)};var u=["overflow","position","width","height"],v=b(a);b.Isotope.settings={resizable:!0,layoutMode:"masonry",containerClass:"isotope",itemClass:"isotope-item",hiddenClass:"isotope-hidden",hiddenStyle:{opacity:0,scale:.001},visibleStyle:{opacity:1,scale:1},animationEngine:"best-available",animationOptions:{queue:!1,duration:800},sortBy:"original-order",sortAscending:!0,resizesContainer:!0,transformsEnabled:!b.browser.opera,itemPositionDataEnabled:!1},b.Isotope.prototype={_create:function(a){this.options=b.extend({},b.Isotope.settings,a),this.styleQueue=[],this.elemCount=0;var c=this.element[0].style;this.originalStyle={};for(var d=0,e=u.length;d<e;d++){var f=u[d];this.originalStyle[f]=c[f]||""}this.element.css({overflow:"hidden",position:"relative"}),this._updateAnimationEngine(),this._updateUsingTransforms();var g={"original-order":function(a,b){return b.elemCount++,b.elemCount},random:function(){return Math.random()}};this.options.getSortData=b.extend(this.options.getSortData,g),this.reloadItems(),this.offset={left:parseInt(this.element.css("padding-left"),10),top:parseInt(this.element.css("padding-top"),10)};var h=this;setTimeout(function(){h.element.addClass(h.options.containerClass)},0),this.options.resizable&&v.bind("smartresize.isotope",function(){h.resize()}),this.element.delegate("."+this.options.hiddenClass,"click",function(){return!1})},_getAtoms:function(a){var b=this.options.itemSelector,c=b?a.filter(b).add(a.find(b)):a,d={position:"absolute"};return this.usingTransforms&&(d.left=0,d.top=0),c.css(d).addClass(this.options.itemClass),this.updateSortData(c,!0),c},_init:function(a){this.$filteredAtoms=this._filter(this.$allAtoms),this._sort(),this.reLayout(a)},option:function(a){if(b.isPlainObject(a)){this.options=b.extend(!0,this.options,a);var c;for(var d in a)c="_update"+f(d),this[c]&&this[c]()}},_updateAnimationEngine:function(){var a=this.options.animationEngine.toLowerCase().replace(/[ _\-]/g,""),b;switch(a){case"css":case"none":b=!1;break;case"jquery":b=!0;break;default:b=!e.csstransitions}this.isUsingJQueryAnimation=b,this._updateUsingTransforms()},_updateTransformsEnabled:function(){this._updateUsingTransforms()},_updateUsingTransforms:function(){var a=this.usingTransforms=this.options.transformsEnabled&&e.csstransforms&&e.csstransitions&&!this.isUsingJQueryAnimation;a||(delete this.options.hiddenStyle.scale,delete this.options.visibleStyle.scale),this.getPositionStyles=a?this._translate:this._positionAbs},_filter:function(a){var b=this.options.filter===""?"*":this.options.filter;if(!b)return a;var c=this.options.hiddenClass,d="."+c,e=a.filter(d),f=e;if(b!=="*"){f=e.filter(b);var g=a.not(d).not(b).addClass(c);this.styleQueue.push({$el:g,style:this.options.hiddenStyle})}return this.styleQueue.push({$el:f,style:this.options.visibleStyle}),f.removeClass(c),a.filter(b)},updateSortData:function(a,c){var d=this,e=this.options.getSortData,f,g;a.each(function(){f=b(this),g={};for(var a in e)!c&&a==="original-order"?g[a]=b.data(this,"isotope-sort-data")[a]:g[a]=e[a](f,d);b.data(this,"isotope-sort-data",g)})},_sort:function(){var a=this.options.sortBy,b=this._getSorter,c=this.options.sortAscending?1:-1,d=function(d,e){var f=b(d,a),g=b(e,a);return f===g&&a!=="original-order"&&(f=b(d,"original-order"),g=b(e,"original-order")),(f>g?1:f<g?-1:0)*c};this.$filteredAtoms.sort(d)},_getSorter:function(a,c){return b.data(a,"isotope-sort-data")[c]},_translate:function(a,b){return{translate:[a,b]}},_positionAbs:function(a,b){return{left:a,top:b}},_pushPosition:function(a,b,c){b+=this.offset.left,c+=this.offset.top;var d=this.getPositionStyles(b,c);this.styleQueue.push({$el:a,style:d}),this.options.itemPositionDataEnabled&&a.data("isotope-item-position",{x:b,y:c})},layout:function(a,b){var c=this.options.layoutMode;this["_"+c+"Layout"](a);if(this.options.resizesContainer){var d=this["_"+c+"GetContainerSize"]();this.styleQueue.push({$el:this.element,style:d})}this._processStyleQueue(a,b),this.isLaidOut=!0},_processStyleQueue:function(a,c){var d=this.isLaidOut?this.isUsingJQueryAnimation?"animate":"css":"css",f=this.options.animationOptions,g=this.options.onLayout,h,i,j,k;i=function(a,b){b.$el[d](b.style,f)};if(this._isInserting&&this.isUsingJQueryAnimation)i=function(a,b){h=b.$el.hasClass("no-transition")?"css":d,b.$el[h](b.style,f)};else if(c||g||f.complete){var l=!1,m=[c,g,f.complete],n=this;j=!0,k=function(){if(!l){var b;for(var c=0,d=m.length;c<d;c++)b=m[c],typeof b=="function"&&b.call(n.element,a);l=!0}};if(this.isUsingJQueryAnimation&&d==="animate")f.complete=k,j=!1;else if(e.csstransitions){var o=0,p=this.styleQueue[0].$el,s;while(!p.length){s=this.styleQueue[o++];if(!s)return;p=s.$el}var t=parseFloat(getComputedStyle(p[0])[r]);t>0&&(i=function(a,b){b.$el[d](b.style,f).one(q,k)},j=!1)}}b.each(this.styleQueue,i),j&&k(),this.styleQueue=[]},resize:function(){this["_"+this.options.layoutMode+"ResizeChanged"]()&&this.reLayout()},reLayout:function(a){this["_"+this.options.layoutMode+"Reset"](),this.layout(this.$filteredAtoms,a)},addItems:function(a,b){var c=this._getAtoms(a);this.$allAtoms=this.$allAtoms.add(c),b&&b(c)},insert:function(a,b){this.element.append(a);var c=this;this.addItems(a,function(a){var d=c._filter(a);c._addHideAppended(d),c._sort(),c.reLayout(),c._revealAppended(d,b)})},appended:function(a,b){var c=this;this.addItems(a,function(a){c._addHideAppended(a),c.layout(a),c._revealAppended(a,b)})},_addHideAppended:function(a){this.$filteredAtoms=this.$filteredAtoms.add(a),a.addClass("no-transition"),this._isInserting=!0,this.styleQueue.push({$el:a,style:this.options.hiddenStyle})},_revealAppended:function(a,b){var c=this;setTimeout(function(){a.removeClass("no-transition"),c.styleQueue.push({$el:a,style:c.options.visibleStyle}),c._isInserting=!1,c._processStyleQueue(a,b)},10)},reloadItems:function(){this.$allAtoms=this._getAtoms(this.element.children())},remove:function(a,b){var c=this,d=function(){c.$allAtoms=c.$allAtoms.not(a),a.remove()};a.filter(":not(."+this.options.hiddenClass+")").length?(this.styleQueue.push({$el:a,style:this.options.hiddenStyle}),this.$filteredAtoms=this.$filteredAtoms.not(a),this._sort(),this.reLayout(d,b)):(d(),b&&b.call(this.element))},shuffle:function(a){this.updateSortData(this.$allAtoms),this.options.sortBy="random",this._sort(),this.reLayout(a)},destroy:function(){var a=this.usingTransforms,b=this.options;this.$allAtoms.removeClass(b.hiddenClass+" "+b.itemClass).each(function(){var b=this.style;b.position="",b.top="",b.left="",b.opacity="",a&&(b[i]="")});var c=this.element[0].style;for(var d=0,e=u.length;d<e;d++){var f=u[d];c[f]=this.originalStyle[f]}this.element.unbind(".isotope").undelegate("."+b.hiddenClass,"click").removeClass(b.containerClass).removeData("isotope"),v.unbind(".isotope")},_getSegments:function(a){var b=this.options.layoutMode,c=a?"rowHeight":"columnWidth",d=a?"height":"width",e=a?"rows":"cols",g=this.element[d](),h,i=this.options[b]&&this.options[b][c]||this.$filteredAtoms["outer"+f(d)](!0)||g;h=Math.floor(g/i),h=Math.max(h,1),this[b][e]=h,this[b][c]=i},_checkIfSegmentsChanged:function(a){var b=this.options.layoutMode,c=a?"rows":"cols",d=this[b][c];return this._getSegments(a),this[b][c]!==d},_masonryReset:function(){this.masonry={},this._getSegments();var a=this.masonry.cols;this.masonry.colYs=[];while(a--)this.masonry.colYs.push(0)},_masonryLayout:function(a){var c=this,d=c.masonry;a.each(function(){var a=b(this),e=Math.ceil(a.outerWidth(!0)/d.columnWidth);e=Math.min(e,d.cols);if(e===1)c._masonryPlaceBrick(a,d.colYs);else{var f=d.cols+1-e,g=[],h,i;for(i=0;i<f;i++)h=d.colYs.slice(i,i+e),g[i]=Math.max.apply(Math,h);c._masonryPlaceBrick(a,g)}})},_masonryPlaceBrick:function(a,b){var c=Math.min.apply(Math,b),d=0;for(var e=0,f=b.length;e<f;e++)if(b[e]===c){d=e;break}var g=this.masonry.columnWidth*d,h=c;this._pushPosition(a,g,h);var i=c+a.outerHeight(!0),j=this.masonry.cols+1-f;for(e=0;e<j;e++)this.masonry.colYs[d+e]=i},_masonryGetContainerSize:function(){var a=Math.max.apply(Math,this.masonry.colYs);return{height:a}},_masonryResizeChanged:function(){return this._checkIfSegmentsChanged()},_fitRowsReset:function(){this.fitRows={x:0,y:0,height:0}},_fitRowsLayout:function(a){var c=this,d=this.element.width(),e=this.fitRows;a.each(function(){var a=b(this),f=a.outerWidth(!0),g=a.outerHeight(!0);e.x!==0&&f+e.x>d&&(e.x=0,e.y=e.height),c._pushPosition(a,e.x,e.y),e.height=Math.max(e.y+g,e.height),e.x+=f})},_fitRowsGetContainerSize:function(){return{height:this.fitRows.height}},_fitRowsResizeChanged:function(){return!0},_cellsByRowReset:function(){this.cellsByRow={index:0},this._getSegments(),this._getSegments(!0)},_cellsByRowLayout:function(a){var c=this,d=this.cellsByRow;a.each(function(){var a=b(this),e=d.index%d.cols,f=Math.floor(d.index/d.cols),g=Math.round((e+.5)*d.columnWidth-a.outerWidth(!0)/2),h=Math.round((f+.5)*d.rowHeight-a.outerHeight(!0)/2);c._pushPosition(a,g,h),d.index++})},_cellsByRowGetContainerSize:function(){return{height:Math.ceil(this.$filteredAtoms.length/this.cellsByRow.cols)*this.cellsByRow.rowHeight+this.offset.top}},_cellsByRowResizeChanged:function(){return this._checkIfSegmentsChanged()},_straightDownReset:function(){this.straightDown={y:0}},_straightDownLayout:function(a){var c=this;a.each(function(a){var d=b(this);c._pushPosition(d,0,c.straightDown.y),c.straightDown.y+=d.outerHeight(!0)})},_straightDownGetContainerSize:function(){return{height:this.straightDown.y}},_straightDownResizeChanged:function(){return!0},_masonryHorizontalReset:function(){this.masonryHorizontal={},this._getSegments(!0);var a=this.masonryHorizontal.rows;this.masonryHorizontal.rowXs=[];while(a--)this.masonryHorizontal.rowXs.push(0)},_masonryHorizontalLayout:function(a){var c=this,d=c.masonryHorizontal;a.each(function(){var a=b(this),e=Math.ceil(a.outerHeight(!0)/d.rowHeight);e=Math.min(e,d.rows);if(e===1)c._masonryHorizontalPlaceBrick(a,d.rowXs);else{var f=d.rows+1-e,g=[],h,i;for(i=0;i<f;i++)h=d.rowXs.slice(i,i+e),g[i]=Math.max.apply(Math,h);c._masonryHorizontalPlaceBrick(a,g)}})},_masonryHorizontalPlaceBrick:function(a,b){var c=Math.min.apply(Math,b),d=0;for(var e=0,f=b.length;e<f;e++)if(b[e]===c){d=e;break}var g=c,h=this.masonryHorizontal.rowHeight*d;this._pushPosition(a,g,h);var i=c+a.outerWidth(!0),j=this.masonryHorizontal.rows+1-f;for(e=0;e<j;e++)this.masonryHorizontal.rowXs[d+e]=i},_masonryHorizontalGetContainerSize:function(){var a=Math.max.apply(Math,this.masonryHorizontal.rowXs);return{width:a}},_masonryHorizontalResizeChanged:function(){return this._checkIfSegmentsChanged(!0)},_fitColumnsReset:function(){this.fitColumns={x:0,y:0,width:0}},_fitColumnsLayout:function(a){var c=this,d=this.element.height(),e=this.fitColumns;a.each(function(){var a=b(this),f=a.outerWidth(!0),g=a.outerHeight(!0);e.y!==0&&g+e.y>d&&(e.x=e.width,e.y=0),c._pushPosition(a,e.x,e.y),e.width=Math.max(e.x+f,e.width),e.y+=g})},_fitColumnsGetContainerSize:function(){return{width:this.fitColumns.width}},_fitColumnsResizeChanged:function(){return!0},_cellsByColumnReset:function(){this.cellsByColumn={index:0},this._getSegments(),this._getSegments(!0)},_cellsByColumnLayout:function(a){var c=this,d=this.cellsByColumn;a.each(function(){var a=b(this),e=Math.floor(d.index/d.rows),f=d.index%d.rows,g=Math.round((e+.5)*d.columnWidth-a.outerWidth(!0)/2),h=Math.round((f+.5)*d.rowHeight-a.outerHeight(!0)/2);c._pushPosition(a,g,h),d.index++})},_cellsByColumnGetContainerSize:function(){return{width:Math.ceil(this.$filteredAtoms.length/this.cellsByColumn.rows)*this.cellsByColumn.columnWidth}},_cellsByColumnResizeChanged:function(){return this._checkIfSegmentsChanged(!0)},_straightAcrossReset:function(){this.straightAcross={x:0}},_straightAcrossLayout:function(a){var c=this;a.each(function(a){var d=b(this);c._pushPosition(d,c.straightAcross.x,0),c.straightAcross.x+=d.outerWidth(!0)})},_straightAcrossGetContainerSize:function(){return{width:this.straightAcross.x}},_straightAcrossResizeChanged:function(){return!0}},b.fn.imagesLoaded=function(a){function c(a){var e=a.target;e.src!==h&&b.inArray(e,i)===-1&&(i.push(e),--g<=0&&(setTimeout(d),f.unbind(".imagesLoaded",c)))}function d(){a.call(e,f)}var e=this,f=e.find("img").add(e.filter("img")),g=f.length,h="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw==",i=[];return g||d(),f.bind("load.imagesLoaded error.imagesLoaded",c).each(function(){var a=this.src;this.src=h,this.src=a}),e};var w=function(b){a.console&&a.console.error(b)};b.fn.isotope=function(a,c){if(typeof a=="string"){var d=Array.prototype.slice.call(arguments,1);this.each(function(){var c=b.data(this,"isotope");if(!c)w("cannot call methods on isotope prior to initialization; attempted to call method '"+a+"'");else{if(!b.isFunction(c[a])||a.charAt(0)==="_"){w("no such method '"+a+"' for isotope instance");return}c[a].apply(c,d)}})}else this.each(function(){var d=b.data(this,"isotope");d?(d.option(a),d._init(c)):b.data(this,"isotope",new b.Isotope(a,this,c))});return this}}(window,jQuery),!function(a){a(function(){"use strict",a.support.transition=function(){var a=function(){var a=document.createElement("bootstrap"),b={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"},c;for(c in b)if(a.style[c]!==undefined)return b[c]}();return a&&{end:a}}()})}(window.jQuery),!function(a){"use strict";var b='[data-dismiss="alert"]',c=function(c){a(c).on("click",b,this.close)};c.prototype.close=function(b){function c(){g.trigger("closed").remove()}var d=a(this),f=d.attr("data-target"),g;f||(f=d.attr("href"),f=f&&f.replace(/.*(?=#[^\s]*$)/,"")),g=a(f),b&&b.preventDefault(),g.length||(g=d.hasClass("alert")?d:d.parent()),g.trigger(b=a.Event("close"));if(b.isDefaultPrevented())return;g.removeClass("in"),a.support.transition&&g.hasClass("fade")?g.on(a.support.transition.end,c):c()},a.fn.alert=function(b){return this.each(function(){var d=a(this),f=d.data("alert");f||d.data("alert",f=new c(this)),typeof b=="string"&&f[b].call(d)})},a.fn.alert.Constructor=c,a(function(){a("body").on("click.alert.data-api",b,c.prototype.close)})}(window.jQuery),!function(a){"use strict";var b=function(b,c){this.$element=a(b),this.options=a.extend({},a.fn.button.defaults,c)};b.prototype.setState=function(a){var b="disabled",c=this.$element,d=c.data(),e=c.is("input")?"val":"html";a+="Text",d.resetText||c.data("resetText",c[e]()),c[e](d[a]||this.options[a]),setTimeout(function(){a=="loadingText"?c.addClass(b).attr(b,b):c.removeClass(b).removeAttr(b)},0)},b.prototype.toggle=function(){var a=this.$element.closest('[data-toggle="buttons-radio"]');a&&a.find(".active").removeClass("active"),this.$element.toggleClass("active")},a.fn.button=function(c){return this.each(function(){var d=a(this),f=d.data("button"),g=typeof c=="object"&&c;f||d.data("button",f=new b(this,g)),c=="toggle"?f.toggle():c&&f.setState(c)})},a.fn.button.defaults={loadingText:"loading..."},a.fn.button.Constructor=b,a(function(){a("body").on("click.button.data-api","[data-toggle^=button]",function(b){var c=a(b.target);c.hasClass("btn")||(c=c.closest(".btn")),c.button("toggle")})})}(window.jQuery),!function(a){"use strict";var b=function(b,c){this.$element=a(b),this.options=c,this.options.slide&&this.slide(this.options.slide),this.options.pause=="hover"&&this.$element.on("mouseenter",a.proxy(this.pause,this)).on("mouseleave",a.proxy(this.cycle,this))};b.prototype={cycle:function(b){return b||(this.paused=!1),this.options.interval&&!this.paused&&(this.interval=setInterval(a.proxy(this.next,this),this.options.interval)),this},to:function(b){var c=this.$element.find(".item.active"),d=c.parent().children(),f=d.index(c),g=this;if(b>d.length-1||b<0)return;return this.sliding?this.$element.one("slid",function(){g.to(b)}):f==b?this.pause().cycle():this.slide(b>f?"next":"prev",a(d[b]))},pause:function(b){return b||(this.paused=!0),this.$element.find(".next, .prev").length&&a.support.transition.end&&(this.$element.trigger(a.support.transition.end),this.cycle()),clearInterval(this.interval),this.interval=null,this},next:function(){if(this.sliding)return;return this.slide("next")},prev:function(){if(this.sliding)return;return this.slide("prev")},slide:function(b,c){var d=this.$element.find(".item.active"),f=c||d[b](),g=this.interval,h=b=="next"?"left":"right",i=b=="next"?"first":"last",j=this,k=a.Event("slide",{relatedTarget:f[0]});this.sliding=!0,g&&this.pause(),f=f.length?f:this.$element.find(".item")[i]();if(f.hasClass("active"))return;if(a.support.transition&&this.$element.hasClass("slide")){this.$element.trigger(k);if(k.isDefaultPrevented())return;f.addClass(b),f[0].offsetWidth,d.addClass(h),f.addClass(h),this.$element.one(a.support.transition.end,function(){f.removeClass([b,h].join(" ")).addClass("active"),d.removeClass(["active",h].join(" ")),j.sliding=!1,setTimeout(function(){j.$element.trigger("slid")},0)})}else{this.$element.trigger(k);if(k.isDefaultPrevented())return;d.removeClass("active"),f.addClass("active"),this.sliding=!1,this.$element.trigger("slid")}return g&&this.cycle(),this}},a.fn.carousel=function(c){return this.each(function(){var d=a(this),f=d.data("carousel"),g=a.extend({},a.fn.carousel.defaults,typeof c=="object"&&c),h=typeof c=="string"?c:g.slide;f||d.data("carousel",f=new b(this,g)),typeof c=="number"?f.to(c):h?f[h]():g.interval&&f.cycle()})},a.fn.carousel.defaults={interval:5e3,pause:"hover"},a.fn.carousel.Constructor=b,a(function(){a("body").on("click.carousel.data-api","[data-slide]",function(b){var c=a(this),d,f=a(c.attr("data-target")||(d=c.attr("href"))&&d.replace(/.*(?=#[^\s]+$)/,"")),g=!f.data("modal")&&a.extend({},f.data(),c.data());f.carousel(g),b.preventDefault()})})}(window.jQuery),!function(a){"use strict";var b=function(b,c){this.$element=a(b),this.options=a.extend({},a.fn.collapse.defaults,c),this.options.parent&&(this.$parent=a(this.options.parent)),this.options.toggle&&this.toggle()};b.prototype={constructor:b,dimension:function(){var a=this.$element.hasClass("width");return a?"width":"height"},show:function(){var b,c,d,f;if(this.transitioning)return;b=this.dimension(),c=a.camelCase(["scroll",b].join("-")),d=this.$parent&&this.$parent.find("> .accordion-group > .in");if(d&&d.length){f=d.data("collapse");if(f&&f.transitioning)return;d.collapse("hide"),f||d.data("collapse",null)}this.$element[b](0),this.transition("addClass",a.Event("show"),"shown"),a.support.transition&&this.$element[b](this.$element[0][c])},hide:function(){var b;if(this.transitioning)return;b=this.dimension(),this.reset(this.$element[b]()),this.transition("removeClass",a.Event("hide"),"hidden"),this.$element[b](0)},reset:function(a){var b=this.dimension();return this.$element.removeClass("collapse")[b](a||"auto")[0].offsetWidth,this.$element[a!==null?"addClass":"removeClass"]("collapse"),this},transition:function(b,c,d){var f=this,g=function(){c.type=="show"&&f.reset(),f.transitioning=0,f.$element.trigger(d)};this.$element.trigger(c);if(c.isDefaultPrevented())return;this.transitioning=1,this.$element[b]("in"),a.support.transition&&this.$element.hasClass("collapse")?this.$element.one(a.support.transition.end,g):g()},toggle:function(){this[this.$element.hasClass("in")?"hide":"show"]()}},a.fn.collapse=function(c){return this.each(function(){var d=a(this),f=d.data("collapse"),g=typeof c=="object"&&c;f||d.data("collapse",f=new b(this,g)),typeof c=="string"&&f[c]()})},a.fn.collapse.defaults={toggle:!0},a.fn.collapse.Constructor=b,a(function(){a("body").on("click.collapse.data-api","[data-toggle=collapse]",function(b){var c=a(this),d,f=c.attr("data-target")||b.preventDefault()||(d=c.attr("href"))&&d.replace(/.*(?=#[^\s]+$)/,""),g=a(f).data("collapse")?"toggle":c.data();c[a(f).hasClass("in")?"addClass":"removeClass"]("collapsed"),a(f).collapse(g)})})}(window.jQuery),!function(a){function b(){c(a(d)).removeClass("open")}function c(b){var c=b.attr("data-target"),d;return c||(c=b.attr("href"),c=c&&/#/.test(c)&&c.replace(/.*(?=#[^\s]*$)/,"")),d=a(c),d.length||(d=b.parent()),d}"use strict";var d="[data-toggle=dropdown]",e=function(b){var c=a(b).on("click.dropdown.data-api",this.toggle);a("html").on("click.dropdown.data-api",function(){c.parent().removeClass("open")})};e.prototype={constructor:e,toggle:function(d){var e=a(this),f,g;if(e.is(".disabled, :disabled"))return;return f=c(e),g=f.hasClass("open"),b(),g||(f.toggleClass("open"),e.focus()),!1},keydown:function(b){var d,e,f,g,h,j;if(!/(38|40|27)/.test(b.keyCode))return;d=a(this),b.preventDefault(),b.stopPropagation();if(d.is(".disabled, :disabled"))return;g=c(d),h=g.hasClass("open");if(!h||h&&b.keyCode==27)return d.click();e=a("[role=menu] li:not(.divider) a",g);if(!e.length)return;j=e.index(e.filter(":focus")),b.keyCode==38&&j>0&&j--,b.keyCode==40&&j<e.length-1&&j++,~j||(j=0),e.eq(j).focus()}},a.fn.dropdown=function(b){return this.each(function(){var c=a(this),d=c.data("dropdown");d||c.data("dropdown",d=new e(this)),typeof b=="string"&&d[b].call(c)})},a.fn.dropdown.Constructor=e,a(function(){a("html").on("click.dropdown.data-api touchstart.dropdown.data-api",b),a("body").on("click.dropdown touchstart.dropdown.data-api",".dropdown form",function(a){a.stopPropagation()}).on("click.dropdown.data-api touchstart.dropdown.data-api",d,e.prototype.toggle).on("keydown.dropdown.data-api touchstart.dropdown.data-api",d+", [role=menu]",e.prototype.keydown)})}(window.jQuery),!function(a){"use strict";var b=function(b,c){this.options=c,this.$element=a(b).delegate('[data-dismiss="modal"]',"click.dismiss.modal",a.proxy(this.hide,this)),this.options.remote&&this.$element.find(".modal-body").load(this.options.remote)};b.prototype={constructor:b,toggle:function(){return this[this.isShown?"hide":"show"]()},show:function(){var b=this,c=a.Event("show");this.$element.trigger(c);if(this.isShown||c.isDefaultPrevented())return;a("body").addClass("modal-open"),this.isShown=!0,this.escape(),this.backdrop(function(){var c=a.support.transition&&b.$element.hasClass("fade");b.$element.parent().length||b.$element.appendTo(document.body),b.$element.show(),c&&b.$element[0].offsetWidth,b.$element.addClass("in").attr("aria-hidden",!1).focus(),b.enforceFocus(),c?b.$element.one(a.support.transition.end,function(){b.$element.trigger("shown")}):b.$element.trigger("shown")})},hide:function(b){b&&b.preventDefault();var c=this;b=a.Event("hide"),this.$element.trigger(b);if(!this.isShown||b.isDefaultPrevented())return;this.isShown=!1,a("body").removeClass("modal-open"),this.escape(),a(document).off("focusin.modal"),this.$element.removeClass("in").attr("aria-hidden",!0),a.support.transition&&this.$element.hasClass("fade")?this.hideWithTransition():this.hideModal()},enforceFocus:function(){var b=this;a(document).on("focusin.modal",function(a){b.$element[0]!==a.target&&!b.$element.has(a.target).length&&b.$element.focus()})},escape:function(){var a=this;this.isShown&&this.options.keyboard?this.$element.on("keyup.dismiss.modal",function(b){b.which==27&&a.hide()}):this.isShown||this.$element.off("keyup.dismiss.modal")},hideWithTransition:function(){var b=this,c=setTimeout(function(){b.$element.off(a.support.transition.end),b.hideModal()},500);this.$element.one(a.support.transition.end,function(){clearTimeout(c),b.hideModal()})},hideModal:function(a){this.$element.hide().trigger("hidden"),this.backdrop()},removeBackdrop:function(){this.$backdrop.remove(),this.$backdrop=null},backdrop:function(b){var c=this,d=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var f=a.support.transition&&d;this.$backdrop=a('<div class="modal-backdrop '+d+'" />').appendTo(document.body),this.options.backdrop!="static"&&this.$backdrop.click(a.proxy(this.hide,this)),f&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),f?this.$backdrop.one(a.support.transition.end,b):b()}else!this.isShown&&this.$backdrop?(this.$backdrop.removeClass("in"),a.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one(a.support.transition.end,a.proxy(this.removeBackdrop,this)):this.removeBackdrop()):b&&b()}},a.fn.modal=function(c){return this.each(function(){var d=a(this),f=d.data("modal"),g=a.extend({},a.fn.modal.defaults,d.data(),typeof c=="object"&&c);f||d.data("modal",f=new b(this,g)),typeof c=="string"?f[c]():g.show&&f.show()})},a.fn.modal.defaults={backdrop:!0,keyboard:!0,show:!0},a.fn.modal.Constructor=b,a(function(){a("body").on("click.modal.data-api",'[data-toggle="modal"]',function(b){var c=a(this),d=c.attr("href"),f=a(c.attr("data-target")||d&&d.replace(/.*(?=#[^\s]+$)/,"")),g=f.data("modal")?"toggle":a.extend({remote:!/#/.test(d)&&d},f.data(),c.data());b.preventDefault(),f.modal(g).one("hide",function(){c.focus()})})})}(window.jQuery),!function(a){"use strict";var b=function(a,b){this.init("tooltip",a,b)};b.prototype={constructor:b,init:function(b,c,d){var f,g;this.type=b,this.$element=a(c),this.options=this.getOptions(d),this.enabled=!0,this.options.trigger=="click"?this.$element.on("click."+this.type,this.options.selector,a.proxy(this.toggle,this)):this.options.trigger!="manual"&&(f=this.options.trigger=="hover"?"mouseenter":"focus",g=this.options.trigger=="hover"?"mouseleave":"blur",this.$element.on(f+"."+this.type,this.options.selector,a.proxy(this.enter,this)),this.$element.on(g+"."+this.type,this.options.selector,a.proxy(this.leave,this))),this.options.selector?this._options=a.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},getOptions:function(b){return b=a.extend({},a.fn[this.type].defaults,b,this.$element.data()),b.delay&&typeof b.delay=="number"&&(b.delay={show:b.delay,hide:b.delay}),b},enter:function(b){var c=a(b.currentTarget)[this.type](this._options).data(this.type);if(!c.options.delay||!c.options.delay.show)return c.show();clearTimeout(this.timeout),c.hoverState="in",this.timeout=setTimeout(function(){c.hoverState=="in"&&c.show()},c.options.delay.show)},leave:function(b){var c=a(b.currentTarget)[this.type](this._options).data(this.type);this.timeout&&clearTimeout(this.timeout);if(!c.options.delay||!c.options.delay.hide)return c.hide();c.hoverState="out",this.timeout=setTimeout(function(){c.hoverState=="out"&&c.hide()},c.options.delay.hide)},show:function(){var a,b,c,d,e,f,g;if(this.hasContent()&&this.enabled){a=this.tip(),this.setContent(),this.options.animation&&a.addClass("fade"),f=typeof this.options.placement=="function"?this.options.placement.call(this,a[0],this.$element[0]):this.options.placement,b=/in/.test(f),a.remove().css({top:0,left:0,display:"block"}).appendTo(b?this.$element:document.body),c=this.getPosition(b),d=a[0].offsetWidth,e=a[0].offsetHeight;switch(b?f.split(" ")[1]:f){case"bottom":g={top:c.top+c.height,left:c.left+c.width/2-d/2};break;case"top":g={top:c.top-e,left:c.left+c.width/2-d/2};break;case"left":g={top:c.top+c.height/2-e/2,left:c.left-d};break;case"right":g={top:c.top+c.height/2-e/2,left:c.left+c.width}}a.css(g).addClass(f).addClass("in")}},setContent:function(){var a=this.tip(),b=this.getTitle();a.find(".tooltip-inner")[this.options.html?"html":"text"](b),a.removeClass("fade in top bottom left right")},hide:function(){function b(){var b=setTimeout(function(){d.off(a.support.transition.end).remove()},500);d.one(a.support.transition.end,function(){clearTimeout(b),d.remove()})}var c=this,d=this.tip();return d.removeClass("in"),a.support.transition&&this.$tip.hasClass("fade")?b():d.remove(),this},fixTitle:function(){var a=this.$element;(a.attr("title")||typeof a.attr("data-original-title")!="string")&&a.attr("data-original-title",a.attr("title")||"").removeAttr("title")},hasContent:function(){return this.getTitle()},getPosition:function(b){return a.extend({},b?{top:0,left:0}:this.$element.offset(),{width:this.$element[0].offsetWidth,height:this.$element[0].offsetHeight})},getTitle:function(){var a,b=this.$element,c=this.options;return a=b.attr("data-original-title")||(typeof c.title=="function"?c.title.call(b[0]):c.title),a},tip:function(){return this.$tip=this.$tip||a(this.options.template)},validate:function(){this.$element[0].parentNode||(this.hide(),this.$element=null,this.options=null)},enable:function(){this.enabled=!0},disable:function(){this.enabled=!1},toggleEnabled:function(){this.enabled=!this.enabled},toggle:function(){this[this.tip().hasClass("in")?"hide":"show"]()},destroy:function(){this.hide().$element.off("."+this.type).removeData(this.type)}},a.fn.tooltip=function(c){return this.each(function(){var d=a(this),f=d.data("tooltip"),g=typeof c=="object"&&c;f||d.data("tooltip",f=new b(this,g)),typeof c=="string"&&f[c]()})},a.fn.tooltip.Constructor=b,a.fn.tooltip.defaults={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover",title:"",delay:0,html:!0}}(window.jQuery),!function(a){"use strict";var b=function(a,b){this.init("popover",a,b)};b.prototype=a.extend({},a.fn.tooltip.Constructor.prototype,{constructor:b,setContent:function(){var a=this.tip(),b=this.getTitle(),c=this.getContent();a.find(".popover-title")[this.options.html?"html":"text"](b),a.find(".popover-content > *")[this.options.html?"html":"text"](c),a.removeClass("fade top bottom left right in")},hasContent:function(){return this.getTitle()||this.getContent()},getContent:function(){var a,b=this.$element,c=this.options;return a=b.attr("data-content")||(typeof c.content=="function"?c.content.call(b[0]):c.content),a},tip:function(){return this.$tip||(this.$tip=a(this.options.template)),this.$tip},destroy:function(){this.hide().$element.off("."+this.type).removeData(this.type)}}),a.fn.popover=function(c){return this.each(function(){var d=a(this),f=d.data("popover"),g=typeof c=="object"&&c;f||d.data("popover",f=new b(this,g)),typeof c=="string"&&f[c]()})},a.fn.popover.Constructor=b,a.fn.popover.defaults=a.extend({},a.fn.tooltip.defaults,{placement:"right",trigger:"click",content:"",template:'<div class="popover"><div class="arrow"></div><div class="popover-inner"><h3 class="popover-title"></h3><div class="popover-content"><p></p></div></div></div>'})}(window.jQuery),!function(a){function b(b,c){var d=a.proxy(this.process,this),f=a(b).is("body")?a(window):a(b),g;this.options=a.extend({},a.fn.scrollspy.defaults,c),this.$scrollElement=f.on("scroll.scroll-spy.data-api",d),this.selector=(this.options.target||(g=a(b).attr("href"))&&g.replace(/.*(?=#[^\s]+$)/,"")||"")+" .nav li > a",this.$body=a("body"),this.refresh(),this.process()}"use strict",b.prototype={constructor:b,refresh:function(){var b=this,c;this.offsets=a([]),this.targets=a([]),c=this.$body.find(this.selector).map(function(){var b=a(this),c=b.data("target")||b.attr("href"),d=/^#\w/.test(c)&&a(c);return d&&d.length&&[[d.position().top,c]]||null}).sort(function(a,b){return a[0]-b[0]}).each(function(){b.offsets.push(this[0]),b.targets.push(this[1])})},process:function(){var a=this.$scrollElement.scrollTop()+this.options.offset,b=this.$scrollElement[0].scrollHeight||this.$body[0].scrollHeight,c=b-this.$scrollElement.height(),d=this.offsets,e=this.targets,f=this.activeTarget,g;if(a>=c)return f!=(g=e.last()[0])&&this.activate(g);for(g=d.length;g--;)f!=e[g]&&a>=d[g]&&(!d[g+1]||a<=d[g+1])&&this.activate(e[g])},activate:function(b){var c,d;this.activeTarget=b,a(this.selector).parent(".active").removeClass("active"),d=this.selector+'[data-target="'+b+'"],'+this.selector+'[href="'+b+'"]',c=a(d).parent("li").addClass("active"),c.parent(".dropdown-menu").length&&(c=c.closest("li.dropdown").addClass("active")),c.trigger("activate")}},a.fn.scrollspy=function(c){return this.each(function(){var d=a(this),f=d.data("scrollspy"),g=typeof c=="object"&&c;f||d.data("scrollspy",f=new b(this,g)),typeof c=="string"&&f[c]()})},a.fn.scrollspy.Constructor=b,a.fn.scrollspy.defaults={offset:10},a(window).on("load",function(){a('[data-spy="scroll"]').each(function(){var b=a(this);b.scrollspy(b.data())})})}(window.jQuery),!function(a){"use strict";var b=function(b){this.element=a(b)};b.prototype={constructor:b,show:function(){var b=this.element,c=b.closest("ul:not(.dropdown-menu)"),d=b.attr("data-target"),f,g,h;d||(d=b.attr("href"),d=d&&d.replace(/.*(?=#[^\s]*$)/,""));if(b.parent("li").hasClass("active"))return;f=c.find(".active a").last()[0],h=a.Event("show",{relatedTarget:f}),b.trigger(h);if(h.isDefaultPrevented())return;g=a(d),this.activate(b.parent("li"),c),this.activate(g,g.parent(),function(){b.trigger({type:"shown",relatedTarget:f})})},activate:function(b,c,d){function f(){g.removeClass("active").find("> .dropdown-menu > .active").removeClass("active"),b.addClass("active"),h?(b[0].offsetWidth,b.addClass("in")):b.removeClass("fade"),b.parent(".dropdown-menu")&&b.closest("li.dropdown").addClass("active"),d&&d()}var g=c.find("> .active"),h=d&&a.support.transition&&g.hasClass("fade");h?g.one(a.support.transition.end,f):f(),g.removeClass("in")}},a.fn.tab=function(c){return this.each(function(){var d=a(this),f=d.data("tab");f||d.data("tab",f=new b(this)),typeof c=="string"&&f[c]()})},a.fn.tab.Constructor=b,a(function(){a("body").on("click.tab.data-api",'[data-toggle="tab"], [data-toggle="pill"]',function(b){b.preventDefault(),a(this).tab("show")})})}(window.jQuery),!function(a){"use strict";var b=function(b,c){this.$element=a(b),this.options=a.extend({},a.fn.typeahead.defaults,c),this.matcher=this.options.matcher||this.matcher,this.sorter=this.options.sorter||this.sorter,this.highlighter=this.options.highlighter||this.highlighter,this.updater=this.options.updater||this.updater,this.$menu=a(this.options.menu).appendTo("body"),this.source=this.options.source,this.shown=!1,this.listen()};b.prototype={constructor:b,select:function(){var a=this.$menu.find(".active").attr("data-value");return this.$element.val(this.updater(a)).change(),this.hide()},updater:function(a){return a},show:function(){var b=a.extend({},this.$element.offset(),{height:this.$element[0].offsetHeight});return this.$menu.css({top:b.top+b.height,left:b.left}),this.$menu.show(),this.shown=!0,this},hide:function(){return this.$menu.hide(),this.shown=!1,this},lookup:function(b){var c;return this.query=this.$element.val(),!this.query||this.query.length<this.options.minLength?this.shown?this.hide():this:(c=a.isFunction(this.source)?this.source(this.query,a.proxy(this.process,this)):this.source,c?this.process(c):this)},process:function(b){var c=this;return b=a.grep(b,function(a){return c.matcher(a)}),b=this.sorter(b),b.length?this.render(b.slice(0,this.options.items)).show():this.shown?this.hide():this},matcher:function(a){return~a.toLowerCase().indexOf(this.query.toLowerCase())},sorter:function(a){var b=[],c=[],d=[],e;while(e=a.shift())e.toLowerCase().indexOf(this.query.toLowerCase())?~e.indexOf(this.query)?c.push(e):d.push(e):b.push(e);return b.concat(c,d)},highlighter:function(a){var b=this.query.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&");return a.replace(new RegExp("("+b+")","ig"),function(a,b){return"<strong>"+b+"</strong>"})},render:function(b){var c=this;return b=a(b).map(function(b,d){return b=a(c.options.item).attr("data-value",d),b.find("a").html(c.highlighter(d)),b[0]}),b.first().addClass("active"),this.$menu.html(b),this},next:function(b){var c=this.$menu.find(".active").removeClass("active"),d=c.next();d.length||(d=a(this.$menu.find("li")[0])),d.addClass("active")},prev:function(a){var b=this.$menu.find(".active").removeClass("active"),c=b.prev();c.length||(c=this.$menu.find("li").last()),c.addClass("active")},listen:function(){this.$element.on("blur",a.proxy(this.blur,this)).on("keypress",a.proxy(this.keypress,this)).on("keyup",a.proxy(this.keyup,this)),(a.browser.chrome||a.browser.webkit||a.browser.msie)&&this.$element.on("keydown",a.proxy(this.keydown,this)),this.$menu.on("click",a.proxy(this.click,this)).on("mouseenter","li",a.proxy(this.mouseenter,this))},move:function(a){if(!this.shown)return;switch(a.keyCode){case 9:case 13:case 27:a.preventDefault();break;case 38:a.preventDefault(),this.prev();break;case 40:a.preventDefault(),this.next()}a.stopPropagation()},keydown:function(b){this.suppressKeyPressRepeat=!~a.inArray(b.keyCode,[40,38,9,13,27]),this.move(b)},keypress:function(a){if(this.suppressKeyPressRepeat)return;this.move(a)},keyup:function(a){switch(a.keyCode){case 40:case 38:break;case 9:case 13:if(!this.shown)return;this.select();break;case 27:if(!this.shown)return;this.hide();break;default:this.lookup()}a.stopPropagation(),a.preventDefault()},blur:function(a){var b=this;setTimeout(function(){b.hide()},150)},click:function(a){a.stopPropagation(),a.preventDefault(),this.select()},mouseenter:function(b){this.$menu.find(".active").removeClass("active"),a(b.currentTarget).addClass("active")}},a.fn.typeahead=function(c){return this.each(function(){var d=a(this),f=d.data("typeahead"),g=typeof c=="object"&&c;f||d.data("typeahead",f=new b(this,g)),typeof c=="string"&&f[c]()})},a.fn.typeahead.defaults={source:[],items:8,menu:'<ul class="typeahead dropdown-menu"></ul>',item:'<li><a href="#"></a></li>',minLength:1},a.fn.typeahead.Constructor=b,a(function(){a("body").on("focus.typeahead.data-api",'[data-provide="typeahead"]',function(b){var c=a(this);if(c.data("typeahead"))return;b.preventDefault(),c.typeahead(c.data())})})}(window.jQuery),!function(a){"use strict";var b=function(b,c){this.options=a.extend({},a.fn.affix.defaults,c),this.$window=a(window).on("scroll.affix.data-api",a.proxy(this.checkPosition,this)),this.$element=a(b),this.checkPosition()};b.prototype.checkPosition=function(){if(!this.$element.is(":visible"))return;var b=a(document).height(),c=this.$window.scrollTop(),d=this.$element.offset(),f=this.options.offset,g=f.bottom,h=f.top,i="affix affix-top affix-bottom",j;typeof f!="object"&&(g=h=f),typeof h=="function"&&(h=f.top()),typeof g=="function"&&(g=f.bottom()),j=this.unpin!=null&&c+this.unpin<=d.top?!1:g!=null&&d.top+this.$element.height()>=b-g?"bottom":h!=null&&c<=h?"top":!1;if(this.affixed===j)return;this.affixed=j,this.unpin=j=="bottom"?d.top-c:null,this.$element.removeClass(i).addClass("affix"+(j?"-"+j:""))},a.fn.affix=function(c){return this.each(function(){var d=a(this),f=d.data("affix"),g=typeof c=="object"&&c;f||d.data("affix",f=new b(this,g)),typeof c=="string"&&f[c]()})},a.fn.affix.Constructor=b,a.fn.affix.defaults={offset:0},a(window).on("load",function(){a('[data-spy="affix"]').each(function(){var b=a(this),c=b.data();c.offset=c.offset||{},c.offsetBottom&&(c.offset.bottom=c.offsetBottom),c.offsetTop&&(c.offset.top=c.offsetTop),b.affix(c)})})}(window.jQuery),function(a,b){var c=a.document,d,e=function(a,e,f){var g=this,h,i,j,k,l,m,n={updated:[]};this.listContainer=typeof a=="string"?c.getElementById(a):a,this.items=[],this.visibleItems=[],this.matchingItems=[],this.searched=!1,this.filtered=!1,this.list=null,this.templateEngines={},this.page=e.page||200,this.i=e.i||1,i={start:function(a,b){b.plugins=b.plugins||{},this.classes(b),h=new l(g,b),this.callbacks(b),this.items.start(a,b),g.update(),this.plugins(b.plugins)},classes:function(a){a.listClass=a.listClass||"list",a.searchClass=a.searchClass||"search",a.sortClass=a.sortClass||"sort"},callbacks:function(a){g.list=d.getByClass(a.listClass,g.listContainer,!0),d.addEvent(d.getByClass(a.searchClass,g.listContainer),"keyup",g.search),m=d.getByClass(a.sortClass,g.listContainer),d.addEvent(m,"click",g.sort)},items:{start:function(a,c){if(c.valueNames){var d=this.get(),e=c.valueNames;c.indexAsync?this.indexAsync(d,e):this.index(d,e)}a!==b&&g.add(a)},get:function(){var a=g.list.childNodes,c=[];for(var d=0,e=a.length;d<e;d++)a[d].data===b&&c.push(a[d]);return c},index:function(a,b){for(var c=0,d=a.length;c<d;c++)g.items.push(new k(b,a[c]))},indexAsync:function(a,b){var c=a.splice(0,100);this.index(c,b),a.length>0?setTimeout(function(){i.items.indexAsync(a,b)},10):g.update()}},plugins:function(a){for(var b=0;b<a.length;b++){var c=a[b][1].name||a[b][0];g[c]=new g.plugins[a[b][0]](g,a[b][1])}}},this.add=function(a,c){c&&o(a,c);var d=[],e=!1;a[0]===b&&(a=[a]);for(var f=0,h=a.length;f<h;f++){var i=null;a[f]instanceof k?(i=a[f],i.reload()):(e=g.items.length>g.page?!0:!1,i=new k(a[f],b,e)),g.items.push(i),d.push(i)}return g.update(),d};var o=function(a,b,c){var d=a.splice(0,100);c=c||[],c=c.concat(g.add(d)),a.length>0?setTimeout(function(){o(a,b,c)},10):(g.update(),b(c))};this.show=function(a,b){this.i=a,this.page=b,g.update()},this.remove=function(a,b,c){var d=0;for(var e=0,f=g.items.length;e<f;e++)g.items[e].values()[a]==b&&(h.remove(g.items[e],c),g.items.splice(e,1),f--,d++);return g.update(),d},this.get=function(a,b){var c=[];for(var d=0,e=g.items.length;d<e;d++){var f=g.items[d];f.values()[a]==b&&c.push(f)}return c.length==0?null:c.length==1?c[0]:c},this.sort=function(a,c){var e=g.items.length,f=null,h=a.target||a.srcElement,i="",j=!1,k="asc",l="desc",c=c||{};h===b?(f=a,j=c.asc||!1):(f=d.getAttribute(h,"data-sort"),j=d.hasClass(h,k)?!1:!0);for(var n=0,o=m.length;n<o;n++)d.removeClass(m[n],k),d.removeClass(m[n],l);j?(h!==b&&d.addClass(h,k),j=!0):(h!==b&&d.addClass(h,l),j=!1),c.sortFunction?c.sortFunction=c.sortFunction:c.sortFunction=function(a,b){return d.sorter.alphanum(a.values()[f],b.values()[f],j)},g.items.sort(c.sortFunction),g.update()},this.search=function(a,c){g.i=1;var d=[],e,f,i,j,k,c=c===b?g.items[0].values():c,a=a===b?"":a,l=a.target||a.srcElement;a=l===b?(""+a).toLowerCase():""+l.value.toLowerCase(),k=g.items,a=a.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),h.clear();if(a==="")q.search(),g.searched=!1,g.update();else{g.searched=!0;for(var m=0,n=k.length;m<n;m++){e=!1,f=k[m],j=f.values();for(var o in c)j.hasOwnProperty(o)&&c[o]!==null&&(i=j[o]!=null?j[o].toString().toLowerCase():"",a!==""&&i.search(a)>-1&&(e=!0));e?(f.found=!0,d.push(f)):f.found=!1}g.update()}return g.visibleItems},this.filter=function(a){g.i=1;var c=b;q.filter();if(a===b)g.filtered=!1;else{c=[],g.filtered=!0;var d=g.items;for(var e=0,f=d.length;e<f;e++){var h=d[e];a(h.values())?(h.filtered=!0,c.push(h)):h.filtered=!1}}return g.update(),g.visibleItems},this.size=function(){return g.items.length},this.clear=function(){h.clear(),g.items=[]},this.on=function(a,b){n[a].push(b)};var p=function(a){var b=n[a].length;while(b--)n[a][b]()},q={filter:function(){var a=g.items,b=a.length;while(b--)a[b].filtered=!1},search:function(){var a=g.items,b=a.length;while(b--)a[b].found=!1}};this.update=function(){var a=g.items,b=a.length;g.visibleItems=[],g.matchingItems=[],h.clear();for(var c=0;c<b;c++)a[c].matching()&&c+1>=g.i&&g.visibleItems.length<g.page?(a[c].show(),g.visibleItems.push(a[c]),g.matchingItems.push(a[c])):a[c].matching()?(g.matchingItems.push(a[c]),a[c].hide()):a[c].hide();p("updated")},k=function(a,c,d){var e=this,f={};this.found=!1,this.filtered=!1;var i=function(a,c,d){if(c===b)d?e.values(a,d):e.values(a);else{e.elm=c;var f=h.get(e,a);e.values(f)}};this.values=function(a,c){if(a===b)return f;for(var d in a)f[d]=a[d];c!==!0&&h.set(e,e.values())},this.show=function(){h.show(e)},this.hide=function(){h.hide(e)},this.matching=function(){return g.filtered&&g.searched&&e.found&&e.filtered||g.filtered&&!g.searched&&e.filtered||!g.filtered&&g.searched&&e.found||!g.filtered&&!g.searched},this.visible=function(){return e.elm.parentNode?!0:!1},i(a,c,d)},l=function(a,c){return c.engine===b?c.engine="standard":c.engine=c.engine.toLowerCase(),new g.constructor.prototype.templateEngines[c.engine](a,c)},i.start(f,e)};e.prototype.templateEngines={},e.prototype.plugins={},e.prototype.templateEngines.standard=function(a,e){function i(a){if(a===b){var d=f.childNodes,g=[];for(var h=0,i=d.length;h<i;h++)if(d[h].data===b)return d[h];return null}if(a.indexOf("<")!==-1){var j=c.createElement("div");return j.innerHTML=a,j.firstChild}return c.getElementById(e.item)}var f=d.getByClass(e.listClass,a.listContainer)[0],g=i(e.item),h=this,j={created:function(a){a.elm===b&&h.create(a)}};this.get=function(a,b){j.created(a);var c={};for(var e=0,f=b.length;e<f;e++)c[b[e]]=d.getByClass(b[e],a.elm)[0].innerHTML;return c},this.set=function(a,b){j.created(a);for(var c in b)if(b.hasOwnProperty(c)){var e=d.getByClass(c,a.elm,!0);e&&(e.innerHTML=b[c])}},this.create=function(a){if(a.elm!==b)return;var c=g.cloneNode(!0);c.id="",a.elm=c,h.set(a,a.values())},this.remove=function(a){f.removeChild(a.elm)},this.show=function(a){j.created(a),f.appendChild(a.elm)},this.hide=function(a){a.elm!==b&&a.elm.parentNode===f&&f.removeChild(a.elm)},this.clear=function(){if(f.hasChildNodes())while(f.childNodes.length>=1)f.removeChild(f.firstChild)}},d={getByClass:function(){return c.getElementsByClassName?function(a,b,c){return c?b.getElementsByClassName(a)[0]:b.getElementsByClassName(a)}:function(a,b,d){var e=[],f="*";b==null&&(b=c);var g=b.getElementsByTagName(f),h=g.length,i=new RegExp("(^|\\s)"+a+"(\\s|$)");for(var j=0,k=0;j<h;j++)if(i.test(g[j].className)){if(d)return g[j];e[k]=g[j],k++}return e}}(),addEvent:function(a,c){if(c.addEventListener)return function(c,e,f){if(c&&!(c instanceof Array)&&!c.length&&!d.isNodeList(c)&&c.length!==0||c===a)c.addEventListener(e,f,!1);else if(c&&c[0]!==b){var h=c.length;for(var i=0;i<h;i++)d.addEvent(c[i],e,f)}};if(c.attachEvent)return function(c,e,f){if(c&&!(c instanceof Array)&&!c.length&&!d.isNodeList(c)&&c.length!==0||c===a)c.attachEvent("on"+e,function(){return f.call(c,a.event)});else if(c&&c[0]!==b){var h=c.length;for(var i=0;i<h;i++)d.addEvent(c[i],e,f)}}}(this,c),getAttribute:function(a,c){var d=a.getAttribute&&a.getAttribute(c)||null;if(!d){var e=a.attributes,f=e.length;for(var g=0;g<f;g++)c[g]!==b&&c[g].nodeName===c&&(d=c[g].nodeValue)}return d},isNodeList:function(a){var b=Object.prototype.toString.call(a);return typeof a=="object"&&/^\[object (HTMLCollection|NodeList|Object)\]$/.test(b)&&(a.length==0||typeof node=="object"&&a[0].nodeType>0)?!0:!1},hasClass:function(a,b){var c=this.getAttribute(a,"class")||this.getAttribute(a,"className");return c.search(b)>-1},addClass:function(a,b){if(!this.hasClass(a,b)){var c=this.getAttribute(a,"class")||this.getAttribute(a,"className");c=c+" "+b+" ",c=c.replace(/\s{2,}/g," "),a.setAttribute("class",c)}},removeClass:function(a,b){if(this.hasClass(a,b)){var c=this.getAttribute(a,"class")||this.getAttribute(a,"className");c=c.replace(b,""),a.setAttribute("class",c)}},sorter:{alphanum:function(a,c,d){if(a===b||a===null)a="";if(c===b||c===null)c="";a=a.toString().replace(/&(lt|gt);/g,function(a,b){return b=="lt"?"<":">"}),a=a.replace(/<\/?[^>]+(>|$)/g,""),c=c.toString().replace(/&(lt|gt);/g,function(a,b){return b=="lt"?"<":">"}),c=c.replace(/<\/?[^>]+(>|$)/g,"");var e=this.chunkify(a),f=this.chunkify(c);for(var g=0;e[g]&&f[g];g++)if(e[g]!==f[g]){var h=Number(e[g]),i=Number(f[g]);return d?h==e[g]&&i==f[g]?h-i:e[g]>f[g]?1:-1:h==e[g]&&i==f[g]?i-h:e[g]>f[g]?-1:1}return e.length-f.length},chunkify:function(a){var b=[],c=0,d=-1,e=0,f,g;while(f=(g=a.charAt(c++)).charCodeAt(0)){var h=f==45||f==46||f>=48&&f<=57;h!==e&&(b[++d]="",e=h),b[d]+=g}return b}}},a.List=e,a.ListJsHelpers=d}(window),function(window,undefined){function returnTrue(){return!0}function returnFalse(){return!1}var document=window.document;document.createElement("video"),document.createElement("audio");var VideoJS=function(a,b,c){var d;if(typeof a=="string"){a.indexOf("#")===0&&(a=a.slice(1));if(_V_.players[a])return _V_.players[a];d=_V_.el(a)}else d=a;if(!d||!d.nodeName)throw new TypeError("The element or ID supplied is not valid. (VideoJS)");return d.player||new _V_.Player(d,b,c)},_V_=VideoJS,CDN_VERSION="c";VideoJS.players={},VideoJS.options={techOrder:["html5","flash"],html5:{},flash:{swf:"http://vjs.zencdn.net/c/video-js.swf"},width:"auto",height:"auto",defaultVolume:0,components:{posterImage:{},textTrackDisplay:{},loadingSpinner:{},bigPlayButton:{},controlBar:{}}},CDN_VERSION!="GENERATED_CDN_VSN"&&(_V_.options.flash.swf="http://vjs.zencdn.net/"+CDN_VERSION+"/video-js.swf"),_V_.merge=function(a,b,c){b||(b={});for(var d in b)b.hasOwnProperty(d)&&(!c||!a.hasOwnProperty(d))&&(a[d]=b[d]);return a},_V_.extend=function(a){this.merge(this,a,!0)},_V_.extend({tech:{},controlSets:{},isIE:function(){return!1},isFF:function(){return!!_V_.ua.match("Firefox")},isIPad:function(){return navigator.userAgent.match(/iPad/i)!==null},isIPhone:function(){return navigator.userAgent.match(/iPhone/i)!==null},isIOS:function(){return VideoJS.isIPhone()||VideoJS.isIPad()},iOSVersion:function(){var a=navigator.userAgent.match(/OS (\d+)_/i);if(a&&a[1])return a[1]},isAndroid:function(){return navigator.userAgent.match(/Android.*AppleWebKit/i)!==null},androidVersion:function(){var a=navigator.userAgent.match(/Android (\d+)\./i);if(a&&a[1])return a[1]},testVid:document.createElement("video"),ua:navigator.userAgent,support:{},each:function(a,b){if(!a||a.length===0)return;for(var c=0,d=a.length;c<d;c++)b.call(this,a[c],c)},eachProp:function(a,b){if(!a)return;for(var c in a)a.hasOwnProperty(c)&&b.call(this,c,a[c])},el:function(a){return document.getElementById(a)},createElement:function(a,b){var c=document.createElement(a),d;for(d in b)b.hasOwnProperty(d)&&(d.indexOf("-")!==-1?c.setAttribute(d,b[d]):c[d]=b[d]);return c},insertFirst:function(a,b){b.firstChild?b.insertBefore(a,b.firstChild):b.appendChild(a)},addClass:function(a,b){(" "+a.className+" ").indexOf(" "+b+" ")==-1&&(a.className=a.className===""?b:a.className+" "+b)},removeClass:function(a,b){if(a.className.indexOf(b)==-1)return;var c=a.className.split(" ");c.splice(c.indexOf(b),1),a.className=c.join(" ")},remove:function(a,b){if(!b)return;var c=b.indexOf(a);if(c!=-1)return b.splice(c,1)},blockTextSelection:function(){document.body.focus(),document.onselectstart=function(){return!1}},unblockTextSelection:function(){document.onselectstart=function(){return!0}},formatTime:function(a,b){b=b||a;var c=Math.floor(a%60),d=Math.floor(a/60%60),e=Math.floor(a/3600),f=Math.floor(b/60%60),g=Math.floor(b/3600);return e=e>0||g>0?e+":":"",d=((e||f>=10)&&d<10?"0"+d:d)+":",c=c<10?"0"+c:c,e+d+c},uc:function(a){return a.charAt(0).toUpperCase()+a.slice(1)},getRelativePosition:function(a,b){return Math.max(0,Math.min(1,(a-_V_.findPosX(b))/b.offsetWidth))},getComputedStyleValue:function(a,b){return window.getComputedStyle(a,null).getPropertyValue(b)},trim:function(a){return a.toString().replace(/^\s+/,"").replace(/\s+$/,"")},round:function(a,b){return b||(b=0),Math.round(a*Math.pow(10,b))/Math.pow(10,b)},isEmpty:function(a){for(var b in a)return!1;return!0},createTimeRange:function(a,b){return{length:1,start:function(){return a},end:function(){return b}}},cache:{},guid:1,expando:"vdata"+(new Date).getTime(),getData:function(a){var b=a[_V_.expando];return b||(b=a[_V_.expando]=_V_.guid++,_V_.cache[b]={}),_V_.cache[b]},removeData:function(a){var b=a[_V_.expando];if(!b)return;delete _V_.cache[b];try{delete a[_V_.expando]}catch(c){a.removeAttribute?a.removeAttribute(_V_.expando):a[_V_.expando]=null}},proxy:function(a,b,c){b.guid||(b.guid=_V_.guid++);var d=function(){return b.apply(a,arguments)};return d.guid=c?c+"_"+b.guid:b.guid,d},get:function(a,b,c){var d=a.indexOf("file:")==0||window.location.href.indexOf("file:")==0&&a.indexOf("http:")==-1;typeof XMLHttpRequest=="undefined"&&(XMLHttpRequest=function(){try{return new ActiveXObject("Msxml2.XMLHTTP.6.0")}catch(a){}try{return new ActiveXObject("Msxml2.XMLHTTP.3.0")}catch(b){}try{return new ActiveXObject("Msxml2.XMLHTTP")}catch(c){}throw new Error("This browser does not support XMLHttpRequest.")});var e=new XMLHttpRequest;try{e.open("GET",a)}catch(f){return _V_.log("VideoJS XMLHttpRequest (open)",f),!1}e.onreadystatechange=_V_.proxy(this,function(){e.readyState==4&&(e.status==200||d&&e.status==0?b(e.responseText):c&&c())});try{e.send()}catch(f){_V_.log("VideoJS XMLHttpRequest (send)",f),c&&c(f)}},setLocalStorage:function(a,b){var c=window.localStorage||!1;if(!c)return;try{c[a]=b}catch(d){d.code==22||d.code==1014?_V_.log("LocalStorage Full (VideoJS)",d):_V_.log("LocalStorage Error (VideoJS)",d)}},getAbsoluteURL:function(a){return a.match(/^https?:\/\//)||(a=_V_.createElement("div",{innerHTML:'<a href="'+a+'">x</a>'}).firstChild.href),a}}),_V_.log=function(){_V_.log.history=_V_.log.history||[],_V_.log.history.push(arguments);if(window.console){arguments.callee=arguments.callee.caller;var a=[].slice.call(arguments);typeof console.log=="object"?_V_.log.apply.call(console.log,console,a):console.log.apply(console,a)}},function(a){function b(){}for(var c="assert,count,debug,dir,dirxml,error,exception,group,groupCollapsed,groupEnd,info,log,timeStamp,profile,profileEnd,time,timeEnd,trace,warn".split(","),d;d=c.pop();)a[d]=a[d]||b}(function(){try{return console.log(),window.console}catch(a){return window.console={}}}()),"getBoundingClientRect"in document.documentElement?_V_.findPosX=function(a){var b;try{b=a.getBoundingClientRect()}catch(c){}if(!b)return 0;var d=document.documentElement,e=document.body,f=d.clientLeft||e.clientLeft||0,g=window.pageXOffset||e.scrollLeft,h=b.left+g-f;return h}:_V_.findPosX=function(a){var b=a.offsetLeft;while(a=obj.offsetParent)a.className.indexOf("video-js")!=-1,b+=a.offsetLeft;return b},function(){var a=!1,b=/xyz/.test(function(){xyz})?/\b_super\b/:/.*/;_V_.Class=function(){},_V_.Class.extend=function(c){function g(){if(!a&&this.init)return this.init.apply(this,arguments);if(!a)return arguments.callee.prototype.init()}var d=this.prototype;a=!0;var e=new this;a=!1;for(var f in c)e[f]=typeof c[f]=="function"&&typeof d[f]=="function"&&b.test(c[f])?function(a,b){return function(){var c=this._super;this._super=d[a];var e=b.apply(this,arguments);return this._super=c,e}}(f,c[f]):c[f];return g.prototype=e,g.constructor=g,g.extend=arguments.callee,g}}(),_V_.Component=_V_.Class.extend({init:function(a,b){this.player=a,b=this.options=_V_.merge(this.options||{},b),b.el?this.el=b.el:this.el=this.createElement(),this.initComponents()},destroy:function(){},createElement:function(a,b){return _V_.createElement(a||"div",b)},buildCSSClass:function(){return""},initComponents:function(){var a=this.options;a&&a.components&&this.eachProp(a.components,function(a,b){var c=this.proxy(function(){this[a]=this.addComponent(a,b)});b.loadEvent?this.one(b.loadEvent,c):c()})},addComponent:function(a,b){var c,d;return typeof a=="string"?(b=b||{},d=b.componentClass||_V_.uc(a),c=new _V_[d](this.player||this,b)):c=a,this.el.appendChild(c.el),c},removeComponent:function(a){this.el.removeChild(a.el)},show:function(){this.el.style.display="block"},hide:function(){this.el.style.display="none"},fadeIn:function(){this.removeClass("vjs-fade-out"),this.addClass("vjs-fade-in")},fadeOut:function(){this.removeClass("vjs-fade-in"),this.addClass("vjs-fade-out")},lockShowing:function(){var a=this.el.style;a.display="block",a.opacity=1,a.visiblity="visible"},unlockShowing:function(){var a=this.el.style;a.display="",a.opacity="",a.visiblity=""},addClass:function(a){_V_.addClass(this.el,a)},removeClass:function(a){_V_.removeClass(this.el,a)},addEvent:function(a,b,c){return _V_.addEvent(this.el,a,_V_.proxy(this,b))},removeEvent:function(a,b){return _V_.removeEvent(this.el,a,b)},triggerEvent:function(a,b){return _V_.triggerEvent(this.el,a,b)},one:function(a,b){_V_.one(this.el,a,_V_.proxy(this,b))},ready:function(a){return a?(this.isReady?a.call(this):(this.readyQueue===undefined&&(this.readyQueue=[]),this.readyQueue.push(a)),this):this},triggerReady:function(){this.isReady=!0,this.readyQueue&&this.readyQueue.length>0&&(this.each(this.readyQueue,function(a){a.call(this)}),this.readyQueue=[],this.triggerEvent("ready"))},each:function(a,b){_V_.each.call(this,a,b)},eachProp:function(a,b){_V_.eachProp.call(this,a,b)},extend:function(a){_V_.merge(this,a)},proxy:function(a,b){return _V_.proxy(this,a,b)}}),_V_.Control=_V_.Component.extend({buildCSSClass:function(){return"vjs-control "+this._super()}}),_V_.ControlBar=_V_.Component.extend({options:{loadEvent:"play",components:{playToggle:{},fullscreenToggle:{},currentTimeDisplay:{},timeDivider:{},durationDisplay:{},remainingTimeDisplay:{},progressControl:{},volumeControl:{},muteToggle:{}}},init:function(a,b){this._super(a,b),a.addEvent("play",this.proxy(function(){this.fadeIn(),this.player.addEvent("mouseover",this.proxy(this.fadeIn)),this.player.addEvent("mouseout",this.proxy(this.fadeOut))}))},createElement:function(){return _V_.createElement("div",{className:"vjs-controls"})},fadeIn:function(){this._super(),this.player.triggerEvent("controlsvisible")},fadeOut:function(){this._super(),this.player.triggerEvent("controlshidden")},lockShowing:function(){this.el.style.opacity="1"}}),_V_.Button=_V_.Control.extend({init:function(a,b){this._super(a,b),this.addEvent("click",this.onClick),this.addEvent("focus",this.onFocus),this.addEvent("blur",this.onBlur)},createElement:function(a,b){return b=_V_.merge({className:this.buildCSSClass(),innerHTML:'<div><span class="vjs-control-text">'+(this.buttonText||"Need Text")+"</span></div>",role:"button",tabIndex:0},b),this._super(a,b)},onClick:function(){},onFocus:function(){_V_.addEvent(document,"keyup",_V_.proxy(this,this.onKeyPress))},onKeyPress:function(a){if(a.which==32||a.which==13)a.preventDefault(),this.onClick()},onBlur:function(){_V_.removeEvent(document,"keyup",_V_.proxy(this,this.onKeyPress))}}),_V_.PlayButton=_V_.Button.extend({buttonText:"Play",buildCSSClass:function(){return"vjs-play-button "+this._super()},onClick:function(){this.player.play()}}),_V_.PauseButton=_V_.Button.extend({buttonText:"Pause",buildCSSClass:function(){return"vjs-pause-button "+this._super()},onClick:function(){this.player.pause()}}),_V_.PlayToggle=_V_.Button.extend({buttonText:"Play",init:function(a,b){this._super(a,b),a.addEvent("play",_V_.proxy(this,this.onPlay)),a.addEvent("pause",_V_.proxy(this,this.onPause))},buildCSSClass:function(){return"vjs-play-control "+this._super()},onClick:function(){this.player.paused()?this.player.play():this.player.pause()},onPlay:function(){_V_.removeClass(this.el,"vjs-paused"),_V_.addClass(this.el,"vjs-playing")},onPause:function(){_V_.removeClass(this.el,"vjs-playing"),_V_.addClass(this.el,"vjs-paused")}}),_V_.FullscreenToggle=_V_.Button.extend({buttonText:"Fullscreen",buildCSSClass:function(){return"vjs-fullscreen-control "+this._super()},onClick:function(){this.player.isFullScreen?this.player.cancelFullScreen():this.player.requestFullScreen()}}),_V_.BigPlayButton=_V_.Button.extend({init:function(a,b){this._super(a,b),a.addEvent("play",_V_.proxy(this,this.hide)),a.addEvent("ended",_V_.proxy(this,this.show))},createElement:function(){return this._super("div",{className:"vjs-big-play-button",innerHTML:"<span></span>"})},onClick:function(){this.player.currentTime()&&this.player.currentTime(0),this.player.play()}}),_V_.LoadingSpinner=_V_.Component.extend({init:function(a,b){this._super(a,b),a.addEvent("canplay",_V_.proxy(this,this.hide)),a.addEvent("canplaythrough",_V_.proxy(this,this.hide)),a.addEvent("playing",_V_.proxy(this,this.hide)),a.addEvent("seeking",_V_.proxy(this,this.show)),a.addEvent("error",_V_.proxy(this,this.show)),a.addEvent("waiting",_V_.proxy(this,this.show))},createElement:function(){var a,b;return typeof this.player.el.style.WebkitBorderRadius=="string"||typeof this.player.el.style.MozBorderRadius=="string"||typeof this.player.el.style.KhtmlBorderRadius=="string"||typeof this.player.el.style.borderRadius=="string"?(a="vjs-loading-spinner",b="<div class='ball1'></div><div class='ball2'></div><div class='ball3'></div><div class='ball4'></div><div class='ball5'></div><div class='ball6'></div><div class='ball7'></div><div class='ball8'></div>"):(a="vjs-loading-spinner-fallback",b=""),this._super("div",{className:a,innerHTML:b})}}),_V_.CurrentTimeDisplay=_V_.Component.extend({init:function(a,b){this._super(a,b),a.addEvent("timeupdate",_V_.proxy(this,this.updateContent))},createElement:function(){var a=this._super("div",{className:"vjs-current-time vjs-time-controls vjs-control"});return this.content=_V_.createElement("div",{className:"vjs-current-time-display",innerHTML:"0:00"}),a.appendChild(_V_.createElement("div").appendChild(this.content)),a},updateContent:function(){var a=this.player.scrubbing?this.player.values.currentTime:this.player.currentTime();this.content.innerHTML=_V_.formatTime(a,this.player.duration())}}),_V_.DurationDisplay=_V_.Component.extend({init:function(a,b){this._super(a,b),a.addEvent("timeupdate",_V_.proxy(this,this.updateContent))},createElement:function(){var a=this._super("div",{className:"vjs-duration vjs-time-controls vjs-control"});return this.content=_V_.createElement("div",{className:"vjs-duration-display",innerHTML:"0:00"}),a.appendChild(_V_.createElement("div").appendChild(this.content)),a},updateContent:function(){this.player.duration()&&(this.content.innerHTML=_V_.formatTime(this.player.duration()))}}),_V_.TimeDivider=_V_.Component.extend({createElement:function(){return this._super("div",{className:"vjs-time-divider",innerHTML:"<div><span>/</span></div>"})}}),_V_.RemainingTimeDisplay=_V_.Component.extend({init:function(a,b){this._super(a,b),a.addEvent("timeupdate",_V_.proxy(this,this.updateContent))},createElement:function(){var a=this._super("div",{className:"vjs-remaining-time vjs-time-controls vjs-control"});return this.content=_V_.createElement("div",{className:"vjs-remaining-time-display",innerHTML:"-0:00"}),a.appendChild(_V_.createElement("div").appendChild(this.content)),a},updateContent:function(){this.player.duration()&&(this.content.innerHTML="-"+_V_.formatTime(this.player.remainingTime()))}}),_V_.Slider=_V_.Component.extend({init:function(a,b){this._super(a,b),a.addEvent(this.playerEvent,_V_.proxy(this,this.update)),this.addEvent("mousedown",this.onMouseDown),this.addEvent("focus",this.onFocus),this.addEvent("blur",this.onBlur),this.player.addEvent("controlsvisible",this.proxy(this.update)),this.update()},createElement:function(a,b){return b=_V_.merge({role:"slider","aria-valuenow":0,"aria-valuemin":0,"aria-valuemax":100,tabIndex:0},b),this._super(a,b)},onMouseDown:function(a){a.preventDefault(),_V_.blockTextSelection(),_V_.addEvent(document,"mousemove",_V_.proxy(this,this.onMouseMove)),_V_.addEvent(document,"mouseup",_V_.proxy(this,this.onMouseUp)),this.onMouseMove(a)},onMouseUp:function(a){_V_.unblockTextSelection(),_V_.removeEvent(document,"mousemove",this.onMouseMove,!1),_V_.removeEvent(document,"mouseup",this.onMouseUp,!1),this.update()},update:function(){var a,b=this.getPercent();handle=this.handle,bar=this.bar,isNaN(b)&&(b=0),a=b;if(handle){var c=this.el,d=c.offsetWidth,e=handle.el.offsetWidth,f=e?e/d:0,g=1-f;adjustedProgress=b*g,a=adjustedProgress+f/2,handle.el.style.left=_V_.round(adjustedProgress*100,2)+"%"}bar.el.style.width=_V_.round(a*100,2)+"%"},calculateDistance:function(a){var b=this.el,c=_V_.findPosX(b),d=b.offsetWidth,e=this.handle;if(e){var f=e.el.offsetWidth;c=c+f/2,d=d-f}return Math.max(0,Math.min(1,(a.pageX-c)/d))},onFocus:function(a){_V_.addEvent(document,"keyup",_V_.proxy(this,this.onKeyPress))},onKeyPress:function(a){a.which==37?(a.preventDefault(),this.stepBack()):a.which==39&&(a.preventDefault(),this.stepForward())},onBlur:function(a){_V_.removeEvent(document,"keyup",_V_.proxy(this,this.onKeyPress))}}),_V_.ProgressControl=_V_.Component.extend({options:{components:{seekBar:{}}},createElement:function(){return this._super("div",{className:"vjs-progress-control vjs-control"})}}),_V_.SeekBar=_V_.Slider.extend({options:{components:{loadProgressBar:{},bar:{componentClass:"PlayProgressBar"},handle:{componentClass:"SeekHandle"}}},playerEvent:"timeupdate",init:function(a,b){this._super(a,b)},createElement:function(){return this._super("div",{className:"vjs-progress-holder"})},getPercent:function(){return this.player.currentTime()/this.player.duration()},onMouseDown:function(a){this._super(a),this.player.scrubbing=!0,this.videoWasPlaying=!this.player.paused(),this.player.pause()},onMouseMove:function(a){var b=this.calculateDistance(a)*this.player.duration();b==this.player.duration()&&(b=b-.1),this.player.currentTime(b)},onMouseUp:function(a){this._super(a),this.player.scrubbing=!1,this.videoWasPlaying&&this.player.play()},stepForward:function(){this.player.currentTime(this.player.currentTime()+1)},stepBack:function(){this.player.currentTime(this.player.currentTime()-1)}}),_V_.LoadProgressBar=_V_.Component.extend({init:function(a,b){this._super(a,b),a.addEvent("progress",_V_.proxy(this,this.update))},createElement:function(){return this._super("div",{className:"vjs-load-progress",innerHTML:'<span class="vjs-control-text">Loaded: 0%</span>'})},update:function(){this.el.style&&(this.el.style.width=_V_.round(this.player.bufferedPercent()*100,2)+"%")}}),_V_.PlayProgressBar=_V_.Component.extend({createElement:function(){return this._super("div",{className:"vjs-play-progress",innerHTML:'<span class="vjs-control-text">Progress: 0%</span>'})}}),_V_.SeekHandle=_V_.Component.extend({createElement:function(){return this._super("div",{className:"vjs-seek-handle",innerHTML:'<span class="vjs-control-text">00:00</span>'})}}),_V_.VolumeControl=_V_.Component.extend({options:{components:{volumeBar:{}}},createElement:function(){return this._super("div",{className:"vjs-volume-control vjs-control"})}}),_V_.VolumeBar=_V_.Slider.extend({options:{components:{bar:{componentClass:"VolumeLevel"},handle:{componentClass:"VolumeHandle"}}},playerEvent:"volumechange",createElement:function(){return this._super("div",{className:"vjs-volume-bar"})},onMouseMove:function(a){this.player.volume(this.calculateDistance(a))},getPercent:function(){return this.player.volume()},stepForward:function(){this.player.volume(this.player.volume()+.1)},stepBack:function(){this.player.volume(this.player.volume()-.1)}}),_V_.VolumeLevel=_V_.Component.extend({createElement:function(){return this._super("div",{className:"vjs-volume-level",innerHTML:'<span class="vjs-control-text"></span>'})}}),_V_.VolumeHandle=_V_.Component.extend({createElement:function(){return this._super("div",{className:"vjs-volume-handle",innerHTML:'<span class="vjs-control-text"></span>'})}}),_V_.MuteToggle=_V_.Button.extend({init:function(a,b){this._super(a,b),a.addEvent("volumechange",_V_.proxy(this,this.update))},createElement:function(){return this._super("div",{className:"vjs-mute-control vjs-control",innerHTML:'<div><span class="vjs-control-text">Mute</span></div>'})},onClick:function(a){this.player.muted(this.player.muted()?!1:!0)},update:function(a){var b=this.player.volume(),c=3;b==0||this.player.muted()?c=0:b<.33?c=1:b<.67&&(c=2),_V_.each.call(this,[0,1,2,3],function(a){_V_.removeClass(this.el,"vjs-vol-"+a)}),_V_.addClass(this.el,"vjs-vol-"+c)}}),_V_.PosterImage=_V_.Button.extend({init:function(a,b){this._super(a,b),this.player.options.poster||this.hide(),a.addEvent("play",_V_.proxy(this,this.hide))},createElement:function(){return _V_.createElement("img",{className:"vjs-poster",src:this.player.options.poster,tabIndex:-1})},onClick:function(){this.player.play()}}),_V_.Menu=_V_.Component.extend({init:function(a,b){this._super(a,b)},addItem:function(a){this.addComponent(a),a.addEvent("click",this.proxy(function(){this.unlockShowing()}))},createElement:function(){return this._super("ul",{className:"vjs-menu"})}}),_V_.MenuItem=_V_.Button.extend({init:function(a,b){this._super(a,b),b.selected&&this.addClass("vjs-selected")},createElement:function(a,b){return this._super("li",_V_.merge({className:"vjs-menu-item",innerHTML:this.options.label},b))},onClick:function(){this.selected(!0)},selected:function(a){a?this.addClass("vjs-selected"):this.removeClass("vjs-selected")}}),Array.prototype.indexOf||(Array.prototype.indexOf=function(a){if(this===void 0||this===null)throw new TypeError;var b=Object(this),c=b.length>>>0;if(c===0)return-1;var d=0;arguments.length>0&&(d=Number(arguments[1]),d!==d?d=0:d!==0&&d!==1/0&&d!==-Infinity&&(d=(d>0||-1)*Math.floor(Math.abs(d))));if(d>=c)return-1;var e=d>=0?d:Math.max(c-Math.abs(d),0);for(;e<c;e++)if(e in b&&b[e]===a)return e;return-1}),_V_.extend({addEvent:function(a,b,c){var d=_V_.getData(a),e;d&&!d.handler&&(d.handler=function(b){b=_V_.fixEvent(b);var c=_V_.getData(a).events[b.type];if(c){var d=[];_V_.each(c,function(a,b){d[b]=a});for(var e=0,f=d.length;e<f;e++)d[e].call(a,b)}}),d.events||(d.events={}),e=d.events[b],e||(e=d.events[b]=[],document.addEventListener?a.addEventListener(b,d.handler,!1):document.attachEvent&&a.attachEvent("on"+b,d.handler)),c.guid||(c.guid=_V_.guid++),e.push(c)},removeEvent:function(a,b,c){var d=_V_.getData(a),e;if(!d.events)return;if(!b){for(b in d.events)_V_.cleanUpEvents(a,b);return}e=d.events[b];if(!e)return;if(c&&c.guid)for(var f=0;f<e.length;f++)e[f].guid===c.guid&&e.splice(f--,1);_V_.cleanUpEvents(a,b)},cleanUpEvents:function(a,b){var c=_V_.getData(a);c.events[b].length===0&&(delete c.events[b],document.removeEventListener?a.removeEventListener(b,c.handler,!1):document.detachEvent&&a.detachEvent("on"+b,c.handler)),_V_.isEmpty(c.events)&&(delete c.events,delete c.handler),_V_.isEmpty(c)&&_V_.removeData(a)},fixEvent:function(a){if(a[_V_.expando])return a;var b=a;a=new _V_.Event(b);for(var c=_V_.Event.props.length,d;c;)d=_V_.Event.props[--c],a[d]=b[d];a.target||(a.target=a.srcElement||document),a.target.nodeType===3&&(a.target=a.target.parentNode),!a.relatedTarget&&a.fromElement&&(a.relatedTarget=a.fromElement===a.target?a.toElement:a.fromElement);if(a.pageX==null&&a.clientX!=null){var e=a.target.ownerDocument||document,f=e.documentElement,g=e.body;a.pageX=a.clientX+(f&&f.scrollLeft||g&&g.scrollLeft||0)-(f&&f.clientLeft||g&&g.clientLeft||0),a.pageY=a.clientY+(f&&f.scrollTop||g&&g.scrollTop||0)-(f&&f.clientTop||g&&g.clientTop||0)}return a.which==null&&(a.charCode!=null||a.keyCode!=null)&&(a.which=a.charCode!=null?a.charCode:a.keyCode),!a.metaKey&&a.ctrlKey&&(a.metaKey=a.ctrlKey),!a.which&&a.button!==undefined&&(a.which=a.button&1?1:a.button&2?3:a.button&4?2:0),a},triggerEvent:function(a,b){var c=_V_.getData(a),d=a.parentNode||a.ownerDocument,e=b.type||b,f;c&&(f=c.handler),b=typeof b=="object"?b[_V_.expando]?b:new _V_.Event(e,b):new _V_.Event(e),b.type=e,f&&f.call(a,b),b.result=undefined,b.target=a},one:function(a,b,c){_V_.addEvent(a,b,function(){_V_.removeEvent(a,b,arguments.callee),c.apply(this,arguments)})}}),_V_.Event=function(a,b){a&&a.type?(this.originalEvent=a,this.type=a.type,this.isDefaultPrevented=a.defaultPrevented||a.returnValue===!1||a.getPreventDefault&&a.getPreventDefault()?returnTrue:returnFalse):this.type=a,b&&_V_.merge(this,b),this.timeStamp=(new Date).getTime(),this[_V_.expando]=!0},_V_.Event.prototype={preventDefault:function(){this.isDefaultPrevented=returnTrue;var a=this.originalEvent;if(!a)return;a.preventDefault?a.preventDefault():a.returnValue=!1},stopPropagation:function(){this.isPropagationStopped=returnTrue;var a=this.originalEvent;if(!a)return;a.stopPropagation&&a.stopPropagation(),a.cancelBubble=!0},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=returnTrue,this.stopPropagation()},isDefaultPrevented:returnFalse,isPropagationStopped:returnFalse,isImmediatePropagationStopped:returnFalse},_V_.Event.props="altKey attrChange attrName bubbles button cancelable charCode clientX clientY ctrlKey currentTarget data detail eventPhase fromElement handler keyCode metaKey newValue offsetX offsetY pageX pageY prevValue relatedNode relatedTarget screenX screenY shiftKey srcElement target toElement view wheelDelta which".split(" ");var JSON;JSON||(JSON={}),function(){var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g;typeof JSON.parse!="function"&&(JSON.parse=function(text,reviver){function walk(a,b){var c,d,e=a[b];if(e&&typeof e=="object")for(c in e)Object.prototype.hasOwnProperty.call(e,c)&&(d=walk(e,c),d!==undefined?e[c]=d:delete e[c]);return reviver.call(a,b,e)}var j;text=String(text),cx.lastIndex=0,cx.test(text)&&(text=text.replace(cx,function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)}));if(/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return j=eval("("+text+")"),typeof reviver=="function"?walk({"":j},""):j;throw new SyntaxError("JSON.parse")})}(),_V_.Player=_V_.Component.extend({init:function(a,b,c){this.tag=a;var d=this.el=_V_.createElement("div"),e=this.options={},f=e.width=a.getAttribute("width"),g=e.height=a.getAttribute("height"),h=f||300,i=g||150;a.player=d.player=this,this.ready(c),a.parentNode.insertBefore(d,a),d.appendChild(a),d.id=this.id=a.id,d.className=a.className,a.id+="_html5_api",a.className="vjs-tech",_V_.players[d.id]=this,d.setAttribute("width",h),d.setAttribute("height",i),d.style.width=h+"px",d.style.height=i+"px",a.removeAttribute("width"),a.removeAttribute("height"),_V_.merge(e,_V_.options),_V_.merge(e,this.getVideoTagSettings()),_V_.merge(e,b),a.removeAttribute("controls"),a.removeAttribute("poster");if(a.hasChildNodes())for(var j=0,k=a.childNodes;j<k.length;j++)(k[j].nodeName=="SOURCE"||k[j].nodeName=="TRACK")&&a.removeChild(k[j]);this.values={},this.addClass("vjs-paused"),this.addEvent("ended",this.onEnded),this.addEvent("play",this.onPlay),this.addEvent("pause",this.onPause),this.addEvent("progress",this.onProgress),this.addEvent("error",this.onError),e.controls&&this.ready(function(){this.initComponents()}),this.textTracks=[],e.tracks&&e.tracks.length>0&&this.addTextTracks(e.tracks);if(!e.sources||e.sources.length==0)for(var j=0,k=e.techOrder;j<k.length;j++){var l=k[j],m=_V_[l];if(m.isSupported()){this.loadTech(l);break}}else this.src(e.sources)},values:{},destroy:function(){this.stopTrackingProgress(),this.stopTrackingCurrentTime(),_V_.players[this.id]=null,delete _V_.players[this.id],this.tech.destroy(),this.el.parentNode.removeChild(this.el)},createElement:function(a,b){},getVideoTagSettings:function(){var a={sources:[],tracks:[]};a.src=this.tag.getAttribute("src"),a.controls=this.tag.getAttribute("controls")!==null,a.poster=this.tag.getAttribute("poster"),a.preload=this.tag.getAttribute("preload"),a.autoplay=this.tag.getAttribute("autoplay")!==null,a.loop=this.tag.getAttribute("loop")!==null,a.muted=this.tag.getAttribute("muted")!==null;if(this.tag.hasChildNodes())for(var b,c=0,d=this.tag.childNodes;c<d.length;c++)b=d[c],b.nodeName=="SOURCE"&&a.sources.push({src:b.getAttribute("src"),type:b.getAttribute("type"),media:b.getAttribute("media"),title:b.getAttribute("title")}),b.nodeName=="TRACK"&&a.tracks.push({src:b.getAttribute("src"),kind:b.getAttribute("kind"),srclang:b.getAttribute("srclang"),label:b.getAttribute("label"),"default":b.getAttribute("default")!==null,title:b.getAttribute("title")});return a},loadTech:function(a,b){this.tech?this.unloadTech():a!="html5"&&this.tag&&(this.el.removeChild(this.tag),this.tag=!1),this.techName=a,this.isReady=!1;var c=function(){this.player.triggerReady(),this.support.progressEvent||this.player.manualProgressOn(),this.support.timeupdateEvent||this.player.manualTimeUpdatesOn()},d=_V_.merge({source:b,parentEl:this.el},this.options[a]);b&&(b.src==this.values.src&&this.values.currentTime>0&&(d.startTime=this.values.currentTime),this.values.src=b.src),this.tech=new _V_[a](this,d),this.tech.ready(c)},unloadTech:function(){this.tech.destroy(),this.manualProgress&&this.manualProgressOff(),this.manualTimeUpdates&&this.manualTimeUpdatesOff(),this.tech=!1},manualProgressOn:function(){this.manualProgress=!0,this.trackProgress(),this.tech.addEvent("progress",function(){this.removeEvent("progress",arguments.callee),this.support.progressEvent=!0,this.player.manualProgressOff()})},manualProgressOff:function(){this.manualProgress=!1,this.stopTrackingProgress()},trackProgress:function(){this.progressInterval=setInterval(_V_.proxy(this,function(){this.values.bufferEnd<this.buffered().end(0)?this.triggerEvent("progress"):this.bufferedPercent()==1&&(this.stopTrackingProgress(),this.triggerEvent("progress"))}),500)},stopTrackingProgress:function(){clearInterval(this.progressInterval)},manualTimeUpdatesOn:function(){this.manualTimeUpdates=!0,this.addEvent("play",this.trackCurrentTime),this.addEvent("pause",this.stopTrackingCurrentTime),this.tech.addEvent("timeupdate",function(){this.removeEvent("timeupdate",arguments.callee),this.support.timeupdateEvent=!0,this.player.manualTimeUpdatesOff()})},manualTimeUpdatesOff:function(){this.manualTimeUpdates=!1,this.stopTrackingCurrentTime(),this.removeEvent("play",this.trackCurrentTime),this.removeEvent("pause",this.stopTrackingCurrentTime)},trackCurrentTime:function(){this.currentTimeInterval&&this.stopTrackingCurrentTime(),this.currentTimeInterval=setInterval(_V_.proxy(this,function(){this.triggerEvent("timeupdate")}),250)},stopTrackingCurrentTime:function(){clearInterval(this.currentTimeInterval)},onEnded:function(){this.options.loop?(this.currentTime(0),this.play()):(this.pause(),this.currentTime(0),this.pause())},onPlay:function(){_V_.removeClass(this.el,"vjs-paused"),_V_.addClass(this.el,"vjs-playing")},onPause:function(){_V_.removeClass(this.el,"vjs-playing"),_V_.addClass(this.el,"vjs-paused")},onProgress:function(){this.bufferedPercent()==1&&this.triggerEvent("loadedalldata")},onError:function(a){_V_.log("Video Error",a)},techCall:function(a,b){if(!this.tech.isReady)this.tech.ready(function(){this[a](b)});else try{this.tech[a](b)}catch(c){_V_.log(c)}},techGet:function(a){if(this.tech.isReady)try{return this.tech[a]()}catch(b){this.tech[a]===undefined?_V_.log("Video.js: "+a+" method not defined for "+this.techName+" playback technology.",b):b.name=="TypeError"?(_V_.log("Video.js: "+a+" unavailable on "+this.techName+" playback technology element.",b),this.tech.isReady=!1):_V_.log(b)}return},play:function(){return this.techCall("play"),this},pause:function(){return this.techCall("pause"),this},paused:function(){return this.techGet("paused")===!1?!1:!0},currentTime:function(a){return a!==undefined?(this.values.lastSetCurrentTime=a,this.techCall("setCurrentTime",a),this.manualTimeUpdates&&this.triggerEvent("timeupdate"),this):this.values.currentTime=this.techGet("currentTime")||0},duration:function(){return parseFloat(this.techGet("duration"))},remainingTime:function(){return this.duration()-this.currentTime()},buffered:function(){var a=this.techGet("buffered"),b=0,c=this.values.bufferEnd=this.values.bufferEnd||0,d;return a&&a.length>0&&a.end(0)!==c&&(c=a.end(0),this.values.bufferEnd=c),_V_.createTimeRange(b,c)},bufferedPercent:function(){return this.duration()?this.buffered().end(0)/this.duration():0},volume:function(a){var b;return a!==undefined?(b=Math.max(0,Math.min(1,parseFloat(a))),this.values.volume=b,this.techCall("setVolume",b),_V_.setLocalStorage("volume",b),this):(b=parseFloat(this.techGet("volume")),isNaN(b)?1:b)},muted:function(a){return a!==undefined?(this.techCall("setMuted",a),this):this.techGet("muted")||!1},width:function(a,b){return a!==undefined?(this.el.width=a,this.el.style.width=a+"px",b||this.triggerEvent("resize"),this):parseInt(this.el.getAttribute("width"))},height:function(a){return a!==undefined?(this.el.height=a,this.el.style.height=a+"px",this.triggerEvent("resize"),this):parseInt(this.el.getAttribute("height"))},size:function(a,b){return this.width(a,!0).height(b)},supportsFullScreen:function(){return this.techGet("supportsFullScreen")||!1},requestFullScreen:function(){var a=_V_.support.requestFullScreen;return this.isFullScreen=!0,a?(_V_.addEvent(document,a.eventName,this.proxy(function(){this.isFullScreen=document[a.isFullScreen],this.isFullScreen==!1&&_V_.removeEvent(document,a.eventName,arguments.callee),this.triggerEvent("fullscreenchange")})),this.tech.support.fullscreenResize===!1&&this.options.flash.iFrameMode!=!0?(this.pause(),this.unloadTech(),_V_.addEvent(document,a.eventName,this.proxy(function(){_V_.removeEvent(document,a.eventName,arguments.callee),this.loadTech(this.techName,{src:this.values.src})})),this.el[a.requestFn]()):this.el[a.requestFn]()):this.tech.supportsFullScreen()?(this.triggerEvent("fullscreenchange"),this.techCall("enterFullScreen")):(this.triggerEvent("fullscreenchange"),this.enterFullWindow()),this},cancelFullScreen:function(){var a=_V_.support.requestFullScreen;return this.isFullScreen=!1,a?this.tech.support.fullscreenResize===!1&&this.options.flash.iFrameMode!=!0?(this.pause(),this.unloadTech(),_V_.addEvent(document,a.eventName,this.proxy(function(){_V_.removeEvent(document,a.eventName,arguments.callee),this.loadTech(this.techName,{src:this.values.src})})),document[a.cancelFn]()):document[a.cancelFn]():this.tech.supportsFullScreen()?(this.techCall("exitFullScreen"),this.triggerEvent("fullscreenchange")):(this.exitFullWindow(),this.triggerEvent("fullscreenchange")),this},enterFullWindow:function(){this.isFullWindow=!0,this.docOrigOverflow=document.documentElement.style.overflow,_V_.addEvent(document,"keydown",_V_.proxy(this,this.fullWindowOnEscKey)),document.documentElement.style.overflow="hidden",_V_.addClass(document.body,"vjs-full-window"),_V_.addClass(this.el,"vjs-fullscreen"),this.triggerEvent("enterFullWindow")},fullWindowOnEscKey:function(a){a.keyCode==27&&(this.isFullScreen==!0?this.cancelFullScreen():this.exitFullWindow())},exitFullWindow:function(){this.isFullWindow=!1,_V_.removeEvent(document,"keydown",this.fullWindowOnEscKey),document.documentElement.style.overflow=this.docOrigOverflow,_V_.removeClass(document.body,"vjs-full-window"),_V_.removeClass(this.el,"vjs-fullscreen"),this.triggerEvent("exitFullWindow")},selectSource:function(a){for(var b=0,c=this.options.techOrder;b<c.length;b++){var d=c[b],e=_V_[d];if(e.isSupported())for(var f=0,g=a;f<g.length;f++){var h=g[f];if(e.canPlaySource.call(this,h))return{source:h,tech:d}}}return!1},src:function(a){if(a instanceof Array){var b=this.selectSource(a),a,c;b?(a=b.source,c=b.tech,c==this.techName?this.src(a):this.loadTech(c,a)):_V_.log("No compatible source and playback technology were found.")}else a instanceof Object?_V_[this.techName].canPlaySource(a)?this.src(a.src):this.src([a]):(this.values.src=a,this.isReady?(this.techCall("src",a),this.options.preload=="auto"&&this.load(),this.options.autoplay&&this.play()):this.ready(function(){this.src(a)}));return this},load:function(){return this.techCall("load"),this},currentSrc:function(){return this.techGet("currentSrc")||this.values.src||""},preload:function(a){return a!==undefined?(this.techCall("setPreload",a),this.options.preload=a,this):this.techGet("preload")},autoplay:function(a){return a!==undefined?(this.techCall("setAutoplay",a),this.options.autoplay=a,this):this.techGet("autoplay",a)},loop:function(a){return a!==undefined?(this.techCall("setLoop",a),this.options.loop=a,this):this.techGet("loop")},controls:function(){return this.options.controls},poster:function(){return this.techGet("poster")},error:function(){return this.techGet("error")},ended:function(){return this.techGet("ended")}}),function(){var a,b,c,d,e=_V_.Player.prototype;document.cancelFullscreen!==undefined?(a="requestFullscreen",b="exitFullscreen",c="fullscreenchange",d="fullScreen"):_V_.each(["moz","webkit"],function(e){(e!="moz"||document.mozFullScreenEnabled)&&document[e+"CancelFullScreen"]!==undefined&&(a=e+"RequestFullScreen",b=e+"CancelFullScreen",c=e+"fullscreenchange",e=="webkit"?d=e+"IsFullScreen":d=e+"FullScreen")}),a&&(_V_.support.requestFullScreen={requestFn:a,cancelFn:b,eventName:c,isFullScreen:d})}(),_V_.PlaybackTech=_V_.Component.extend({init:function(a,b){},onClick:function(){this.player.options.controls&&_V_.PlayToggle.prototype.onClick.call(this)}}),_V_.apiMethods="play,pause,paused,currentTime,setCurrentTime,duration,buffered,volume,setVolume,muted,setMuted,width,height,supportsFullScreen,enterFullScreen,src,load,currentSrc,preload,setPreload,autoplay,setAutoplay,loop,setLoop,error,networkState,readyState,seeking,initialTime,startOffsetTime,played,seekable,ended,videoTracks,audioTracks,videoWidth,videoHeight,textTracks,defaultPlaybackRate,playbackRate,mediaGroup,controller,controls,defaultMuted".split(","),_V_.each(_V_.apiMethods,function(a){_V_.PlaybackTech.prototype[a]=function(){throw new Error("The '"+a+"' method is not available on the playback technology's API")}}),_V_.html5=_V_.PlaybackTech.extend({init:function(a,b,c){this.player=a,this.el=this.createElement(),this.ready(c),this.addEvent("click",this.proxy(this.onClick));var d=b.source;d&&this.el.currentSrc==d.src?a.triggerEvent("loadstart"):d&&(this.el.src=d.src),a.ready(function(){this.options.autoplay&&this.paused()&&(this.tag.poster=null,this.play())}),this.setupTriggers(),this.triggerReady()},destroy:function(){this.player.tag=!1,this.removeTriggers(),this.el.parentNode.removeChild(this.el)},createElement:function(){var a=_V_.html5,b=this.player,c=b.tag,d;if(!c||this.support.movingElementInDOM===!1)c&&b.el.removeChild(c),d=_V_.createElement("video",{id:c.id||b.el.id+"_html5_api",className:c.className||"vjs-tech"}),c=d,_V_.insertFirst(c,b.el);return _V_.each(["autoplay","preload","loop","muted"],function(a){b.options[a]!==null&&(c[a]=b.options[a])},this),c},setupTriggers:function(){_V_.each.call(this,_V_.html5.events,function(a){_V_.addEvent(this.el,a,_V_.proxy(this.player,this.eventHandler))})},removeTriggers:function(){_V_.each.call(this,_V_.html5.events,function(a){_V_.removeEvent(this.el,a,_V_.proxy(this.player,this.eventHandler))})},eventHandler:function(a){a.stopPropagation(),this.triggerEvent(a)},play:function(){this.el.play()},pause:function(){this.el.pause()},paused:function(){return this.el.paused},currentTime:function(){return this.el.currentTime},setCurrentTime:function(a){try{this.el.currentTime=a}catch(b){_V_.log(b,"Video isn't ready. (VideoJS)")}},duration:function(){return this.el.duration||0},buffered:function(){return this.el.buffered},volume:function(){return this.el.volume},setVolume:function(a){this.el.volume=a},muted:function(){return this.el.muted},setMuted:function(a){this.el.muted=a},width:function(){return this.el.offsetWidth},height:function(){return this.el.offsetHeight},supportsFullScreen:function(){return typeof this.el.webkitEnterFullScreen=="function"&&!navigator.userAgent.match("Chrome")&&!navigator.userAgent.match("Mac OS X 10.5")?!0:!1},enterFullScreen:function(){try{this.el.webkitEnterFullScreen()}catch(a){a.code==11&&_V_.log("VideoJS: Video not ready.")}},src:function(a){this.el.src=a},load:function(){this.el.load()},currentSrc:function(){return this.el.currentSrc},preload:function(){return this.el.preload},setPreload:function(a){this.el.preload=a},autoplay:function(){return this.el.autoplay},setAutoplay:function(a){this.el.autoplay=a},loop:function(){return this.el.loop},setLoop:function(a){this.el.loop=a},error:function(){return this.el.error},seeking:function(){return this.el.seeking},ended:function(){return this.el.ended},controls:function(){return this.player.options.controls},defaultMuted:function(){return this.el.defaultMuted}}),_V_.html5.isSupported=function(){return!!document.createElement("video").canPlayType},_V_.html5.canPlaySource=function(a){return!!document.createElement("video").canPlayType(a.type)},_V_.html5.events="loadstart,suspend,abort,error,emptied,stalled,loadedmetadata,loadeddata,canplay,canplaythrough,playing,waiting,seeking,seeked,ended,durationchange,timeupdate,progress,play,pause,ratechange,volumechange".split(","),_V_.html5.prototype.support={fullscreen:typeof _V_.testVid.webkitEnterFullScreen!==undefined?!_V_.ua.match("Chrome")&&!_V_.ua.match("Mac OS X 10.5")?!0:!1:!1,movingElementInDOM:!_V_.isIOS()},_V_.isAndroid()&&_V_.androidVersion()<3&&(document.createElement("video").constructor.prototype.canPlayType=function(a){return a&&a.toLowerCase().indexOf("video/mp4")!=-1?"maybe":""}),_V_.flash=_V_.PlaybackTech.extend({init:function(a,b){this.player=a;var c=b.source,d=b.parentEl,e=this.el=_V_.createElement("div",{id:d.id+"_temp_flash"}),f=a.el.id+"_flash_api",g=a.options,h=_V_.merge({readyFunction:"_V_.flash.onReady",eventProxyFunction:"_V_.flash.onEvent",errorEventProxyFunction:"_V_.flash.onError",autoplay:g.autoplay,preload:g.preload,loop:g.loop,muted:g.muted},b.flashVars),i=_V_.merge({wmode:"opaque",bgcolor:"#000000"},b.params),j=_V_.merge({id:f,name:f,"class":"vjs-tech"},b.attributes);c&&(h.src=encodeURIComponent(_V_.getAbsoluteURL(c.src))),_V_.insertFirst(e,d),b.startTime&&this.ready(function(){this.load(),this.play(),this.currentTime(b.startTime)});if(b.iFrameMode==!0&&!_V_.isFF){var k=_V_.createElement("iframe",{id:f+"_iframe",name:f+"_iframe",className:"vjs-tech",scrolling:"no",marginWidth:0,marginHeight:0,frameBorder:0});h.readyFunction="ready",h.eventProxyFunction="events",h.errorEventProxyFunction="errors",_V_.addEvent(k,"load",_V_.proxy(this,function(){var a,c,d,e=k.contentWindow,f="";a=k.contentDocument?k.contentDocument:k.contentWindow.document,a.write(_V_.flash.getEmbedCode(b.swf,h,i,j)),e.player=this.player,e.ready=_V_.proxy(this.player,function(b){var c=a.getElementById(b),d=this,e=d.tech;e.el=c,_V_.addEvent(c,"click",e.proxy(e.onClick)),_V_.flash.checkReady(e)}),e.events=_V_.proxy(this.player,function(a,b,c){var d=this;d&&d.techName=="flash"&&d.triggerEvent(b)}),e.errors=_V_.proxy(this.player,function(a,b){_V_.log("Flash Error",b)})})),e.parentNode.replaceChild(k,e)}else _V_.flash.embed(b.swf,e,h,i,j)},destroy:function(){this.el.parentNode.removeChild(this.el)},play:function(){this.el.vjs_play()},pause:function(){this.el.vjs_pause()},src:function(a){a=_V_.getAbsoluteURL(a),this.el.vjs_src(a);if(this.player.autoplay()){var b=this;setTimeout(function(){b.play()},0)}},load:function(){this.el.vjs_load()},poster:function(){this.el.vjs_getProperty("poster")},buffered:function(){return _V_.createTimeRange(0,this.el.vjs_getProperty("buffered"))},supportsFullScreen:function(){return!1},enterFullScreen:function(){return!1}}),function(){var a=_V_.flash.prototype,b="preload,currentTime,defaultPlaybackRate,playbackRate,autoplay,loop,mediaGroup,controller,controls,volume,muted,defaultMuted".split(","),c="error,currentSrc,networkState,readyState,seeking,initialTime,duration,startOffsetTime,paused,played,seekable,ended,videoTracks,audioTracks,videoWidth,videoHeight,textTracks".split(","),d="load,play,pause".split(",");createSetter=function(b){var c=b.charAt(0).toUpperCase()+b.slice(1);a["set"+c]=function(a){return this.el.vjs_setProperty(b,a)}},createGetter=function(b){a[b]=function(){return this.el.vjs_getProperty(b)}},_V_.each(b,function(a){createGetter(a),createSetter(a)}),_V_.each(c,function(a){createGetter(a)})}(),_V_.flash.isSupported=function(){return _V_.flash.version()[0]>=10},_V_.flash.canPlaySource=function(a){if(a.type in _V_.flash.prototype.support.formats)return"maybe"},_V_.flash.prototype.support={formats:{"video/flv":"FLV","video/x-flv":"FLV","video/mp4":"MP4","video/m4v":"MP4"},progressEvent:!1,timeupdateEvent:!1,fullscreenResize:!1,parentResize:!_V_.ua.match("Firefox")},_V_.flash.onReady=function(a){var b=_V_.el(a),c=b.player||b.parentNode.player,d=c.tech;b.player=c,d.el=b,d.addEvent("click",d.onClick),_V_.flash.checkReady(d)},_V_.flash.checkReady=function(a){a.el.vjs_getProperty?a.triggerReady():setTimeout(function(){_V_.flash.checkReady(a)},50)},_V_.flash.onEvent=function(a,b){var c=_V_.el(a).player;c.triggerEvent(b)},_V_.flash.onError=function(a,b){var c=_V_.el(a).player;c.triggerEvent("error"),_V_.log("Flash Error",b,a)},_V_.flash.version=function(){var a="0,0,0";try{a=(new ActiveXObject("ShockwaveFlash.ShockwaveFlash")).GetVariable("$version").replace(/\D+/g,",").match(/^,?(.+),?$/)[1]}catch(b){try{navigator.mimeTypes["application/x-shockwave-flash"].enabledPlugin&&(a=(navigator.plugins["Shockwave Flash 2.0"]||navigator.plugins["Shockwave Flash"]).description.replace(/\D+/g,",").match(/^,?(.+),?$/)[1])}catch(b){}}return a.split(",")},_V_.flash.embed=function(a,b,c,d,e){var f=_V_.flash.getEmbedCode(a,c,d,e),g=_V_.createElement("div",{innerHTML:f}).childNodes[0],h=b.parentNode;b.parentNode.replaceChild(g,b);if(_V_.isIE()){var i=h.childNodes[0];setTimeout(function(){i.style.display="block"},1e3)}return g},_V_.flash.getEmbedCode=function(a,b,c,d){var e='<object type="application/x-shockwave-flash"',f="",g="";return attrsString="",b&&_V_.eachProp(b,function(a,b){f+=a+"="+b+"&amp;"}),c=_V_.merge({movie:a,flashvars:f,allowScriptAccess:"always",allowNetworking:"all"},c),_V_.eachProp(c,function(a,b){g+='<param name="'+a+'" value="'+b+'" />'}),d=_V_.merge({data:a,width:"100%",height:"100%"},d),_V_.eachProp(d,function(a,b){attrsString+=a+'="'+b+'" '}),e+attrsString+">"+g+"</object>"},_V_.merge(_V_.Player.prototype,{addTextTracks:function(a){var b=this.textTracks=this.textTracks?this.textTracks:[],c=0,d=a.length,e,f;for(;c<d;c++)f=_V_.uc(a[c].kind||"subtitles"),e=new _V_[f+"Track"](this,a[c]),b.push(e),e["default"]&&this.ready(_V_.proxy(e,e.show));return this},showTextTrack:function(a,b){var c=this.textTracks,d=0,e=c.length,f,g,h;for(;d<e;d++)f=c[d],f.id===a?(f.show(),g=f):b&&f.kind==b&&f.mode>0&&f.disable();return h=g?g.kind:b?b:!1,h&&this.triggerEvent(h+"trackchange"),this}}),_V_.Track=_V_.Component.extend({init:function(a,b){this._super(a,b),_V_.merge(this,{id:b.id||"vjs_"+b.kind+"_"+b.language+"_"+_V_.guid++,src:b.src,"default":b["default"],title:b.title,language:b.srclang,label:b.label,cues:[],activeCues:[],readyState:0,mode:0})},createElement:function(){return this._super("div",{className:"vjs-"+this.kind+" vjs-text-track"})},show:function(){this.activate(),this.mode=2,this._super()},hide:function(){this.activate(),this.mode=1,this._super()},disable:function(){this.mode==2&&this.hide(),this.deactivate(),this.mode=0},activate:function(){this.readyState==0&&this.load(),this.mode==0&&(this.player.addEvent("timeupdate",this.proxy(this.update,this.id)),this.player.addEvent("ended",this.proxy(this.reset,this.id)),(this.kind=="captions"||this.kind=="subtitles")&&this.player.textTrackDisplay.addComponent(this))},deactivate:function(){this.player.removeEvent("timeupdate",this.proxy(this.update,this.id)),this.player.removeEvent("ended",this.proxy(this.reset,this.id)),this.reset(),this.player.textTrackDisplay.removeComponent(this)},load:function(){this.readyState==0&&(this.readyState=1,_V_.get(this.src,this.proxy(this.parseCues),this.proxy(this.onError)))},onError:function(a){this.error=a,this.readyState=3,this.triggerEvent("error")},parseCues:function(a){var b,c,d,e=a.split("\n"),f="",g;for(var h=1,i=e.length;h<i;h++){f=_V_.trim(e[h]);if(f){f.indexOf("-->")==-1?(g=f,f=_V_.trim(e[++h])):g=this.cues.length,b={id:g,index:this.cues.length},c=f.split(" --> "),b.startTime=this.parseCueTime(c[0]),b.endTime=this.parseCueTime(c[1]),d=[];while(e[++h]&&(f=_V_.trim(e[h])))d.push(f);b.text=d.join("<br/>"),this.cues.push(b)}}this.readyState=2,this.triggerEvent("loaded")},parseCueTime:function(a){var b=a.split(":"),c=0,d,e,f,g,h,i;return b.length==3?(d=b[0],e=b[1],f=b[2]):(d=0,e=b[0],f=b[1]),f=f.split(/\s+/),g=f.splice(0,1)[0],g=g.split(/\.|,/),h=parseFloat(g[1]),g=g[0],c+=parseFloat(d)*3600,c+=parseFloat(e)*60,c+=parseFloat(g),h&&(c+=h/1e3),c},update:function(){if(this.cues.length>0){var a=this.player.currentTime();if(this.prevChange===undefined||a<this.prevChange||this.nextChange<=a){var b=this.cues,c=this.player.duration(),d=0,e=!1,f=[],g,h,i="",j,k,l;a>=this.nextChange||this.nextChange===undefined?k=this.firstActiveIndex!==undefined?this.firstActiveIndex:0:(e=!0,k=this.lastActiveIndex!==undefined?this.lastActiveIndex:b.length-1);for(;;){j=b[k];if(j.endTime<=a)d=Math.max(d,j.endTime),j.active&&(j.active=!1);else if(a<j.startTime){c=Math.min(c,j.startTime),j.active&&(j.active=!1);if(!e)break}else e?(f.splice(0,0,j),h===undefined&&(h=k),g=k):(f.push(j),g===undefined&&(g=k),h=k),c=Math.min(c,j.endTime),d=Math.max(d,j.startTime),j.active=!0;if(e){if(k===0)break;k--}else{if(k===b.length-1)break;k++}}this.activeCues=f,this.nextChange=c,this.prevChange=d,this.firstActiveIndex=g,this.lastActiveIndex=h,this.updateDisplay(),this.triggerEvent("cuechange")}}},updateDisplay:function(){var a=this.activeCues,b="",c=0,d=a.length;for(;c<d;c++)b+="<span class='vjs-tt-cue'>"+a[c].text+"</span>";this.el.innerHTML=b},reset:function(){this.nextChange=0,this.prevChange=this.player.duration(),this.firstActiveIndex=0,this.lastActiveIndex=0}}),_V_.CaptionsTrack=_V_.Track.extend({kind:"captions"}),_V_.SubtitlesTrack=_V_.Track.extend({kind:"subtitles"}),_V_.ChaptersTrack=_V_.Track.extend({kind:"chapters"}),_V_.TextTrackDisplay=_V_.Component.extend({createElement:function(){return this._super("div",{className:"vjs-text-track-display"})}}),_V_.TextTrackMenuItem=_V_.MenuItem.extend({init:function(a,b){var c=this.track=b.track;b.label=c.label,b.selected=c["default"],this._super(a,b),this.player.addEvent(c.kind+"trackchange",_V_.proxy(this,this.update))},onClick:function(){this._super(),this.player.showTextTrack(this.track.id,this.track.kind)},update:function(){this.track.mode==2?this.selected(!0):this.selected(!1)}}),_V_.OffTextTrackMenuItem=_V_.TextTrackMenuItem.extend({init:function(a,b){b.track={kind:b.kind,player:a,label:"Off"},this._super(a,b)},onClick:function(){this._super(),this.player.showTextTrack(this.track.id,this.track.kind)},update:function(){var a=this.player.textTracks,b=0,c=a.length,d,e=!0;for(;b<c;b++)d=a[b],d.kind==this.track.kind&&d.mode==2&&(e=!1);e?this.selected(!0):this.selected(!1)}}),_V_.TextTrackButton=_V_.Button.extend({init:function(a,b){this._super(a,b),this.menu=this.createMenu(),this.items.length===0&&this.hide()},createMenu:function(){var a=new _V_.Menu(this.player);return a.el.appendChild(_V_.createElement("li",{className:"vjs-menu-title",innerHTML:_V_.uc(this.kind)})),a.addItem(new _V_.OffTextTrackMenuItem(this.player,{kind:this.kind})),this.items=this.createItems(),this.each(this.items,function(b){a.addItem(b)}),this.addComponent(a),a},createItems:function(){var a=[];return this.each(this.player.textTracks,function(b){b.kind===this.kind&&a.push(new _V_.TextTrackMenuItem(this.player,{track:b}))}),a},buildCSSClass:function(){return this.className+" vjs-menu-button "+this._super()},onFocus:function(){this.menu.lockShowing(),_V_.one(this.menu.el.childNodes[this.menu.el.childNodes.length-1],"blur",this.proxy(function(){this.menu.unlockShowing()}))},onBlur:function(){},onClick:function(){this.one("mouseout",this.proxy(function(){this.menu.unlockShowing(),this.el.blur()}))}}),_V_.CaptionsButton=_V_.TextTrackButton.extend({kind:"captions",buttonText:"Captions",className:"vjs-captions-button"}),_V_.SubtitlesButton=_V_.TextTrackButton.extend({kind:"subtitles",buttonText:"Subtitles",className:"vjs-subtitles-button"}),_V_.ChaptersButton=_V_.TextTrackButton.extend({kind:"chapters",buttonText:"Chapters",className:"vjs-chapters-button",createItems:function(a){var b=[];return this.each(this.player.textTracks,function(a){a.kind===this.kind&&b.push(new _V_.TextTrackMenuItem(this.player,{track:a}))}),b},createMenu:function(){var a=this.player.textTracks,b=0,c=a.length,d,e,f=this.items=[];for(;b<c;b++){d=a[b];if(d.kind==this.kind&&d["default"]){if(d.readyState<2){this.chaptersTrack=d,d.addEvent("loaded",this.proxy(this.createMenu));return}e=d;break}}var g=this.menu=new _V_.Menu(this.player);g.el.appendChild(_V_.createElement("li",{className:"vjs-menu-title",innerHTML:_V_.uc(this.kind)}));if(e){var h=e.cues,b=0,c=h.length,i,j;for(;b<c;b++)i=h[b],j=new _V_.ChaptersTrackMenuItem(this.player,{track:e,cue:i}),f.push(j),g.addComponent(j)}return this.addComponent(g),this.items.length>0&&this.show(),g}}),_V_.ChaptersTrackMenuItem=_V_.MenuItem.extend({init:function(a,b){var c=this.track=b.track,d=this.cue=b.cue,e=a.currentTime();b.label=d.text,b.selected=d.startTime<=e&&e<d.endTime,this._super(a,b),c.addEvent("cuechange",_V_.proxy(this,this.update))},onClick:function(){this._super(),this.player.currentTime(this.cue.startTime),this.update(this.cue.startTime)},update:function(a){var b=this.cue,c=this.player.currentTime();b.startTime<=c&&c<b.endTime?this.selected(!0):this.selected(!1)}}),_V_.merge(_V_.ControlBar.prototype.options.components,{subtitlesButton:{},captionsButton:{},chaptersButton:{}}),_V_.autoSetup=function(){var a,b,c,d=document.getElementsByTagName("video");if(d&&d.length>0)for(var e=0,f=d.length;e<f;e++){b=d[e];if(b&&b.getAttribute)b.player===undefined&&(a=b.getAttribute("data-setup"),a!==null&&(a=JSON.parse(a||"{}"),c=_V_(b,a)));else{_V_.autoSetupTimeout(1);break}}else _V_.windowLoaded||_V_.autoSetupTimeout(1)},_V_.autoSetupTimeout=function(a){setTimeout(_V_.autoSetup,a)},_V_.addEvent(window,"load",function(){_V_.windowLoaded=!0}),_V_.autoSetup(),window.VideoJS=window._V_=VideoJS}(window),function(a,b){function A(a,b){this._d=a,this._isUTC=!!b}function B(a){return a<0?Math.ceil(a):Math.floor(a)}function C(a){var b=this._data={},c=a.years||a.y||0,d=a.months||a.M||0,e=a.weeks||a.w||0,f=a.days||a.d||0,g=a.hours||a.h||0,h=a.minutes||a.m||0,i=a.seconds||a.s||0,j=a.milliseconds||a.ms||0;this._milliseconds=j+i*1e3+h*6e4+g*36e5,this._days=f+e*7,this._months=d+c*12,b.milliseconds=j%1e3,i+=B(j/1e3),b.seconds=i%60,h+=B(i/60),b.minutes=h%60,g+=B(h/60),b.hours=g%24,f+=B(g/24),f+=e*7,b.days=f%30,d+=B(f/30),b.months=d%12,c+=B(d/12),b.years=c}function D(a,b){var c=a+"";while(c.length<b)c="0"+c;return c}function E(a,b,c){var d=b._milliseconds,e=b._days,f=b._months,g;d&&a._d.setTime(+a+d*c),e&&a.date(a.date()+e*c),f&&(g=a.date(),a.date(1).month(a.month()+f*c).date(Math.min(g,a.daysInMonth())))}function F(a){return Object.prototype.toString.call(a)==="[object Array]"}function G(b){return new a(b[0],b[1]||0,b[2]||1,b[3]||0,b[4]||0,b[5]||0,b[6]||0)}function H(b,d){function q(d){var l,r;switch(d){case"M":return e+1;case"Mo":return e+1+o(e+1);case"MM":return D(e+1,2);case"MMM":return c.monthsShort[e];case"MMMM":return c.months[e];case"D":return f;case"Do":return f+o(f);case"DD":return D(f,2);case"DDD":return l=new a(g,e,f),r=new a(g,0,1),~~((l-r)/864e5+1.5);case"DDDo":return l=q("DDD"),l+o(l);case"DDDD":return D(q("DDD"),3);case"d":return h;case"do":return h+o(h);case"ddd":return c.weekdaysShort[h];case"dddd":return c.weekdays[h];case"w":return l=new a(g,e,f-h+5),r=new a(l.getFullYear(),0,4),~~((l-r)/864e5/7+1.5);case"wo":return l=q("w"),l+o(l);case"ww":return D(q("w"),2);case"YY":return D(g%100,2);case"YYYY":return g;case"a":return p?p(i,j,!1):i>11?"pm":"am";case"A":return p?p(i,j,!0):i>11?"PM":"AM";case"H":return i;case"HH":return D(i,2);case"h":return i%12||12;case"hh":return D(i%12||12,2);case"m":return j;case"mm":return D(j,2);case"s":return k;case"ss":return D(k,2);case"S":return~~(m/100);case"SS":return D(~~(m/10),2);case"SSS":return D(m,3);case"Z":return(n<0?"-":"+")+D(~~(Math.abs(n)/60),2)+":"+D(~~(Math.abs(n)%60),2);case"ZZ":return(n<0?"-":"+")+D(~~(10*Math.abs(n)/6),4);case"L":case"LL":case"LLL":case"LLLL":case"LT":return H(b,c.longDateFormat[d]);default:return d.replace(/(^\[)|(\\)|\]$/g,"")}}var e=b.month(),f=b.date(),g=b.year(),h=b.day(),i=b.hours(),j=b.minutes(),k=b.seconds(),m=b.milliseconds(),n=-b.zone(),o=c.ordinal,p=c.meridiem;return d.replace(l,q)}function I(a){switch(a){case"DDDD":return p;case"YYYY":return q;case"S":case"SS":case"SSS":case"DDD":return o;case"MMM":case"MMMM":case"ddd":case"dddd":case"a":case"A":return r;case"Z":case"ZZ":return s;case"T":return t;case"MM":case"DD":case"dd":case"YY":case"HH":case"hh":case"mm":case"ss":case"M":case"D":case"d":case"H":case"h":case"m":case"s":return n;default:return new RegExp(a.replace("\\",""))}}function J(a,b,d,e){var f;switch(a){case"M":case"MM":d[1]=b==null?0:~~b-1;break;case"MMM":case"MMMM":for(f=0;f<12;f++)if(c.monthsParse[f].test(b)){d[1]=f;break}break;case"D":case"DD":case"DDD":case"DDDD":d[2]=~~b;break;case"YY":b=~~b,d[0]=b+(b>70?1900:2e3);break;case"YYYY":d[0]=~~Math.abs(b);break;case"a":case"A":e.isPm=(b+"").toLowerCase()==="pm";break;case"H":case"HH":case"h":case"hh":d[3]=~~b;break;case"m":case"mm":d[4]=~~b;break;case"s":case"ss":d[5]=~~b;break;case"S":case"SS":case"SSS":d[6]=~~(("0."+b)*1e3);break;case"Z":case"ZZ":e.isUTC=!0,f=(b+"").match(x),f&&f[1]&&(e.tzh=~~f[1]),f&&f[2]&&(e.tzm=~~f[2]),f&&f[0]==="+"&&(e.tzh=-e.tzh,e.tzm=-e.tzm)}}function K(b,c){var d=[0,0,1,0,0,0,0],e={tzh:0,tzm:0},f=c.match(l),g,h;for(g=0;g<f.length;g++)h=(I(f[g]).exec(b)||[])[0],b=b.replace(I(f[g]),""),J(f[g],h,d,e);return e.isPm&&d[3]<12&&(d[3]+=12),e.isPm===!1&&d[3]===12&&(d[3]=0),d[3]+=e.tzh,d[4]+=e.tzm,e.isUTC?new a(a.UTC.apply({},d)):G(d)}function L(a,b){var c=Math.min(a.length,b.length),d=Math.abs(a.length-b.length),e=0,f;for(f=0;f<c;f++)~~a[f]!==~~b[f]&&e++;return e+d}function M(a,b){var c,d=a.match(m)||[],e,f=99,g,h,i;for(g=0;g<b.length;g++)h=K(a,b[g]),e=H(new A(h),b[g]).match(m)||[],i=L(d,e),i<f&&(f=i,c=h);return c}function N(b){var c="YYYY-MM-DDT",d;if(u.exec(b)){for(d=0;d<4;d++)if(w[d][1].exec(b)){c+=w[d][0];break}return s.exec(b)?K(b,c+" Z"):K(b,c)}return new a(b)}function O(a,b,d,e){var f=c.relativeTime[a];return typeof f=="function"?f(b||1,!!d,a,e):f.replace(/%d/i,b||1)}function P(a,b){var c=e(Math.abs(a)/1e3),d=e(c/60),f=e(d/60),g=e(f/24),h=e(g/365),i=c<45&&["s",c]||d===1&&["m"]||d<45&&["mm",d]||f===1&&["h"]||f<22&&["hh",f]||g===1&&["d"]||g<=25&&["dd",g]||g<=45&&["M"]||g<345&&["MM",e(g/30)]||h===1&&["y"]||["yy",h];return i[2]=b,i[3]=a>0,O.apply({},i)}function Q(a,b){c.fn[a]=function(a){var c=this._isUTC?"UTC":"";return a!=null?(this._d["set"+c+b](a),this):this._d["get"+c+b]()}}function R(a){c.duration.fn[a]=function(){return this._data[a]}}function S(a,b){c.duration.fn["as"+a]=function(){return+this/b}}var c,d="1.6.2",e=Math.round,f,g={},h="en",i=typeof module!="undefined",j="months|monthsShort|monthsParse|weekdays|weekdaysShort|longDateFormat|calendar|relativeTime|ordinal|meridiem".split("|"),k=/^\/?Date\((\-?\d+)/i,l=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|dddd?|do?|w[o|w]?|YYYY|YY|a|A|hh?|HH?|mm?|ss?|SS?S?|zz?|ZZ?|LT|LL?L?L?)/g,m=/([0-9a-zA-Z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+)/gi,n=/\d\d?/,o=/\d{1,3}/,p=/\d{3}/,q=/\d{4}/,r=/[0-9a-z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+/i,s=/Z|[\+\-]\d\d:?\d\d/i,t=/T/i,u=/^\s*\d{4}-\d\d-\d\d(T(\d\d(:\d\d(:\d\d(\.\d\d?\d?)?)?)?)?([\+\-]\d\d:?\d\d)?)?/,v="YYYY-MM-DDTHH:mm:ssZ",w=[["HH:mm:ss.S",/T\d\d:\d\d:\d\d\.\d{1,3}/],["HH:mm:ss",/T\d\d:\d\d:\d\d/],["HH:mm",/T\d\d:\d\d/],["HH",/T\d\d/]],x=/([\+\-]|\d\d)/gi,y="Month|Date|Hours|Minutes|Seconds|Milliseconds".split("|"),z={Milliseconds:1,Seconds:1e3,Minutes:6e4,Hours:36e5,Days:864e5,Months:2592e6,Years:31536e6};c=function(d,e){if(d===null||d==="")return null;var f,g,h;return c.isMoment(d)?(f=new a(+d._d),h=d._isUTC):e?F(e)?f=M(d,e):f=K(d,e):(g=k.exec(d),f=d===b?new a:g?new a(+g[1]):d instanceof a?d:F(d)?G(d):typeof d=="string"?N(d):new a(d)),new A(f,h)},c.utc=function(b,d){return F(b)?new A(new a(a.UTC.apply({},b)),!0):d&&b?c(b+" +0000",d+" Z").utc():c(b&&!s.exec(b)?b+"+0000":b).utc()},c.unix=function(a){return c(a*1e3)},c.duration=function(a,b){var d=c.isDuration(a),e=typeof a=="number",f=d?a._data:e?{}:a;return e&&(b?f[b]=a:f.milliseconds=a),new C(f)},c.humanizeDuration=function(a,b,d){return c.duration(a,b===!0?null:b).humanize(b===!0?!0:d)},c.version=d,c.defaultFormat=v,c.lang=function(a,b){var d,e,f=[];if(!a)return h;if(b){for(d=0;d<12;d++)f[d]=new RegExp("^"+b.months[d]+"|^"+b.monthsShort[d].replace(".",""),"i");b.monthsParse=b.monthsParse||f,g[a]=b}if(g[a]){for(d=0;d<j.length;d++)c[j[d]]=g[a][j[d]]||g.en[j[d]];h=a}else i&&(e=require("./lang/"+a),c.lang(a,e))},c.lang("en",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),longDateFormat:{LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D YYYY",LLL:"MMMM D YYYY LT",LLLL:"dddd, MMMM D YYYY LT"},meridiem:!1,calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},ordinal:function(a){var b=a%10;return~~(a%100/10)===1?"th":b===1?"st":b===2?"nd":b===3?"rd":"th"}}),c.isMoment=function(a){return a instanceof A},c.isDuration=function(a){return a instanceof C},c.fn=A.prototype={clone:function(){return c(this)},valueOf:function(){return+this._d},unix:function(){return Math.floor(+this._d/1e3)},toString:function(){return this._d.toString()},toDate:function(){return this._d},utc:function(){return this._isUTC=!0,this},local:function(){return this._isUTC=!1,this},format:function(a){return H(this,a?a:c.defaultFormat)},add:function(a,b){var d=b?c.duration(+b,a):c.duration(a);return E(this,d,1),this},subtract:function(a,b){var d=b?c.duration(+b,a):c.duration(a);return E(this,d,-1),this},diff:function(a,b,d){var f=this._isUTC?c(a).utc():c(a).local(),g=(this.zone()-f.zone())*6e4,h=this._d-f._d-g,i=this.year()-f.year(),j=this.month()-f.month(),k=this.date()-f.date(),l;return b==="months"?l=i*12+j+k/30:b==="years"?l=i+(j+k/30)/12:l=b==="seconds"?h/1e3:b==="minutes"?h/6e4:b==="hours"?h/36e5:b==="days"?h/864e5:b==="weeks"?h/6048e5:h,d?l:e(l)},from:function(a,b){return c.duration(this.diff(a)).humanize(!b)},fromNow:function(a){return this.from(c(),a)},calendar:function(){var a=this.diff(c().sod(),"days",!0),b=c.calendar,d=b.sameElse,e=a<-6?d:a<-1?b.lastWeek:a<0?b.lastDay:a<1?b.sameDay:a<2?b.nextDay:a<7?b.nextWeek:d;return this.format(typeof e=="function"?e.apply(this):e)},isLeapYear:function(){var a=this.year();return a%4===0&&a%100!==0||a%400===0},isDST:function(){return this.zone()<c([this.year()]).zone()||this.zone()<c([this.year(),5]).zone()},day:function(a){var b=this._isUTC?this._d.getUTCDay():this._d.getDay();return a==null?b:this.add({d:a-b})},sod:function(){return c(this).hours(0).minutes(0).seconds(0).milliseconds(0)},eod:function(){return this.sod().add({d:1,ms:-1})},zone:function(){return this._isUTC?0:this._d.getTimezoneOffset()},daysInMonth:function(){return c(this).month(this.month()+1).date(0).date()}};for(f=0;f<y.length;f++)Q(y[f].toLowerCase(),y[f]);Q("year","FullYear"),c.duration.fn=C.prototype={weeks:function(){return B(this.days()/7)},valueOf:function(){return this._milliseconds+this._days*864e5+this._months*2592e6},humanize:function(a){var b=+this,d=c.relativeTime,e=P(b,!a);return a&&(e=(b<=0?d.past:d.future).replace(/%s/i,e)),e}};for(f in z)z.hasOwnProperty(f)&&(S(f,z[f]),R(f.toLowerCase()));S("Weeks",6048e5),i&&(module.exports=c),typeof window!="undefined"&&typeof ender=="undefined"&&(window.moment=c),typeof define=="function"&&define.amd&&define("moment",[],function(){return c})}(Date),function(a){"undefined"==typeof a.fn.each2&&a.fn.extend({each2:function(b){for(var c=a([0]),d=-1,e=this.length;++d<e&&(c.context=c[0]=this[d])&&!1!==b.call(c[0],d,c););return this}})}(jQuery),function(a,b){function c(a){return a&&"string"==typeof a?a.replace("&","&amp;"):a}function d(a,b){var c=0,d=b.length,e;if("undefined"==typeof a)return-1;if(a.constructor===String){for(;c<d;c+=1)if(0===a.localeCompare(b[c]))return c}else for(;c<d;c+=1)if(e=b[c],e.constructor===String){if(0===e.localeCompare(a))return c}else if(e===a)return c;return-1}function e(a,c){return a===c?!0:a===b||c===b||null===a||null===c?!1:a.constructor===String?0===a.localeCompare(c):c.constructor===String?0===c.localeCompare(a):!1}function f(b,c){var d,e,f;if(null===b||1>b.length)return[];d=b.split(c),e=0;for(f=d.length;e<f;e+=1)d[e]=a.trim(d[e]);return d}function g(a,b){var c;return function(){window.clearTimeout(c),c=window.setTimeout(b,a)}}function h(a){a.preventDefault(),a.stopPropagation()}function i(a,b,c){var d=a.toUpperCase().indexOf(b.toUpperCase()),b=b.length;0>d?c.push(a):(c.push(a.substring(0,d)),c.push("<span class='select2-match'>"),c.push(a.substring(d,d+b)),c.push("</span>"),c.push(a.substring(d+b,a.length)))}function j(b){var c,d=0,e=null,f=b.quietMillis||100;return function(g){window.clearTimeout(c),c=window.setTimeout(function(){var c=d+=1,f=b.data,h=b.transport||a.ajax,i=b.type||"GET",f=f.call(this,g.term,g.page,g.context);null!==e&&e.abort(),e=h.call(null,{url:b.url,dataType:b.dataType,data:f,type:i,success:function(a){c<d||(a=b.results(a,g.page),g.callback(a))}})},f)}}function k(b){var c=b,d,e=function(a){return""+a.text};return a.isArray(c)||(e=c.text,a.isFunction(e)||(d=c.text,e=function(a){return a[d]}),c=c.results),function(b){var d=b.term,f={};d===""?b.callback({results:c}):(f.results=a(c).filter(function(){return b.matcher(d,e(this))}).get(),b.callback(f))}}function l(c){return a.isFunction(c)?c:function(d){var e=d.term,f={results:[]};a(c).each(function(){var a=this.text!==b,c=a?this.text:this;(""===e||d.matcher(e,c))&&f.results.push(a?this:{id:this,text:this})}),d.callback(f)}}function m(b){if(a.isFunction(b))return!0;if(!b)return fasle;throw Error("formatterName must be a function or a falsy value")}function n(b){return a.isFunction(b)?b():b}function o(b,c){var d=function(){};return d.prototype=new b,d.prototype.constructor=d,d.prototype.parent=b.prototype,d.prototype=a.extend(d.prototype,c),d}if(window.Select2===b){var p,q,r,s,t;p={TAB:9,ENTER:13,ESC:27,SPACE:32,LEFT:37,UP:38,RIGHT:39,DOWN:40,SHIFT:16,CTRL:17,ALT:18,PAGE_UP:33,PAGE_DOWN:34,HOME:36,END:35,BACKSPACE:8,DELETE:46,isArrow:function(a){a=a.which?a.which:a;switch(a){case p.LEFT:case p.RIGHT:case p.UP:case p.DOWN:return!0}return!1},isControl:function(a){a=a.which?a.which:a;switch(a){case p.SHIFT:case p.CTRL:case p.ALT:return!0}return a.metaKey?!0:!1},isFunctionKey:function(a){return a=a.which?a.which:a,112<=a&&123>=a}},a(document).delegate("*","mousemove",function(b){a.data(document,"select2-lastpos",{x:b.pageX,y:b.pageY})}),a(document).ready(function(){a(document).delegate("*","mousedown touchend",function(c){var d=a(c.target).closest("div.select2-container").get(0),e;d?a(document).find("div.select2-container-active").each(function(){this!==d&&a(this).data("select2").blur()}):(d=a(c.target).closest("div.select2-drop").get(0),a(document).find("div.select2-drop-active").each(function(){this!==d&&a(this).data("select2").blur()})),d=a(c.target),e=d.attr("for"),"LABEL"===c.target.tagName&&e&&0<e.length&&(d=a("#"+e),d=d.data("select2"),d!==b&&(d.focus(),c.preventDefault()))})}),q=o(Object,{bind:function(a){var b=this;return function(){a.apply(b,arguments)}},init:function(c){var e,f;this.opts=c=this.prepareOpts(c),this.id=c.id,c.element.data("select2")!==b&&null!==c.element.data("select2")&&this.destroy(),this.enabled=!0,this.container=this.createContainer();var i=!1,j;this.body=function(){return!1===i&&(j=c.element.closest("body"),i=!0),j},c.element.attr("class")!==b&&this.container.addClass(c.element.attr("class")),this.container.css(n(c.containerCss)),this.container.addClass(n(c.containerCssClass)),this.opts.element.data("select2",this).hide().after(this.container),this.container.data("select2",this),this.dropdown=this.container.find(".select2-drop"),this.dropdown.css(n(c.dropdownCss)),this.dropdown.addClass(n(c.dropdownCssClass)),this.dropdown.data("select2",this),this.results=e=this.container.find(".select2-results"),this.search=f=this.container.find("input.select2-input"),f.attr("tabIndex",this.opts.element.attr("tabIndex")),this.resultsPage=0,this.context=null,this.initContainer(),this.initContainerWidth(),this.results.bind("mousemove",function(c){var d=a.data(document,"select2-lastpos");(d===b||d.x!==c.pageX||d.y!==c.pageY)&&a(c.target).trigger("mousemove-filtered",c)}),this.dropdown.delegate(".select2-results","mousemove-filtered",this.bind(this.highlightUnderEvent));var k=this.results,l=g(80,function(a){k.trigger("scroll-debounced",a)});k.bind("scroll",function(a){0<=d(a.target,k.get())&&l(a)}),this.dropdown.delegate(".select2-results","scroll-debounced",this.bind(this.loadMoreIfNeeded)),a.fn.mousewheel&&e.mousewheel(function(a,b,c,d){b=e.scrollTop(),0<d&&0>=b-d?(e.scrollTop(0),h(a)):0>d&&e.get(0).scrollHeight-e.scrollTop()+d<=e.height()&&(e.scrollTop(e.get(0).scrollHeight-e.height()),h(a))}),f.bind("keydown",function(){a.data(f,"keyup-change-value")===b&&a.data(f,"keyup-change-value",f.val())}),f.bind("keyup",function(){var c=a.data(f,"keyup-change-value");c!==b&&f.val()!==c&&(a.removeData(f,"keyup-change-value"),f.trigger("keyup-change"))}),f.bind("keyup-change",this.bind(this.updateResults)),f.bind("focus",function(){f.addClass("select2-focused")," "===f.val()&&f.val("")}),f.bind("blur",function(){f.removeClass("select2-focused")}),this.dropdown.delegate(".select2-results","mouseup",this.bind(function(b){0<a(b.target).closest(".select2-result-selectable:not(.select2-disabled)").length?(this.highlightUnderEvent(b),this.selectHighlighted(b)):this.focusSearch(),h(b)})),this.dropdown.bind("click mouseup mousedown",function(a){a.stopPropagation()}),a.isFunction(this.opts.initSelection)&&(this.initSelection(),this.monitorSource()),c.element.is(":disabled")&&this.disable()},destroy:function(){var a=this.opts.element.data("select2");a!==b&&(a.container.remove(),a.dropdown.remove(),a.opts.element.removeData("select2").unbind(".select2").show())},prepareOpts:function(d){var g,h,i;g=d.element,"select"===g.get(0).tagName.toLowerCase()&&(this.select=h=d.element),d.separator=d.separator||",",h&&a.each("id multiple ajax query createSearchChoice initSelection data tags".split(" "),function(){if(this in d)throw Error("Option '"+this+"' is not allowed for Select2 when attached to a <select> element.")}),d=a.extend({},{populateResults:function(e,f,g){var h,i=this.opts.id;h=function(e,f,j){var k,l,m,n,o,p,q;k=0;for(l=e.length;k<l;k=k+1)m=e[k],n=i(m)!==b,o="children"in m&&m.children.length>0,p=a("<li></li>"),p.addClass("select2-results-dept-"+j),p.addClass("select2-result"),p.addClass(n?"select2-result-selectable":"select2-result-unselectable"),o&&p.addClass("select2-result-with-children"),n=a("<div></div>"),n.addClass("select2-result-label"),q=d.formatResult(m,n,g),q!==b&&n.html(c(q)),p.append(n),o&&(o=a("<ul></ul>"),o.addClass("select2-result-sub"),h(m.children,o,j+1),p.append(o)),p.data("select2-data",m),f.append(p)},h(f,e,0)}},a.fn.select2.defaults,d),"function"!=typeof d.id&&(i=d.id,d.id=function(a){return a[i]}),h?(d.query=this.bind(function(c){var d={results:[],more:!1},e=c.term,f,h,i;i=function(a,b){var d;a.is("option")?c.matcher(e,a.text(),a)&&b.push({id:a.attr("value"),text:a.text(),element:a.get()}):a.is("optgroup")&&(d={text:a.attr("label"),children:[],element:a.get()},a.children().each2(function(a,b){i(b,d.children)}),d.children.length>0&&b.push(d))},f=g.children(),this.getPlaceholder()!==b&&f.length>0&&(h=f[0],a(h).text()===""&&(f=f.not(h))),f.each2(function(a,b){i(b,d.results)}),c.callback(d)}),d.id=function(a){return a.id}):"query"in d||("ajax"in d?((h=d.element.data("ajax-url"))&&0<h.length&&(d.ajax.url=h),d.query=j(d.ajax)):"data"in d?d.query=k(d.data):"tags"in d&&(d.query=l(d.tags),d.createSearchChoice=function(a){return{id:a,text:a}},d.initSelection=function(b,c){var g=[];a(f(b.val(),d.separator)).each(function(){var b=this,c=this,f=d.tags;a.isFunction(f)&&(f=f()),a(f).each(function(){if(e(this.id,b))return c=this.text,!1}),g.push({id:b,text:c})}),c(g)}));if("function"!=typeof d.query)throw"query function not defined for Select2 "+d.element.attr("id");return d},monitorSource:function(){this.opts.element.bind("change.select2",this.bind(function(){!0!==this.opts.element.data("select2-change-triggered")&&this.initSelection()}))},triggerChange:function(b){b=b||{},b=a.extend({},b,{type:"change",val:this.val()}),this.opts.element.data("select2-change-triggered",!0),this.opts.element.trigger(b),this.opts.element.data("select2-change-triggered",!1),this.opts.element.click()},enable:function(){this.enabled||(this.enabled=!0,this.container.removeClass("select2-container-disabled"))},disable:function(){this.enabled&&(this.close(),this.enabled=!1,this.container.addClass("select2-container-disabled"))},opened:function(){return this.container.hasClass("select2-dropdown-open")},positionDropdown:function(){var b=this.container.offset(),c=this.container.outerHeight(),d=this.container.outerWidth(),e=this.dropdown.outerHeight(),f=a(window).scrollTop()+document.documentElement.clientHeight,c=b.top+c,f=c+e<=f,g=b.top-e>=this.body().scrollTop(),h;this.dropdown.hasClass("select2-drop-above")?(h=!0,!g&&f&&(h=!1)):(h=!1,!f&&g&&(h=!0)),h?(c=b.top-e,this.container.addClass("select2-drop-above"),this.dropdown.addClass("select2-drop-above")):(this.container.removeClass("select2-drop-above"),this.dropdown.removeClass("select2-drop-above")),this.dropdown.css({top:c,left:b.left,width:d})},shouldOpen:function(){var a;return this.opened()?!1:(a=jQuery.Event("open"),this.opts.element.trigger(a),!a.isDefaultPrevented())},clearDropdownAlignmentPreference:function(){this.container.removeClass("select2-drop-above"),this.dropdown.removeClass("select2-drop-above")},open:function(){return this.shouldOpen()?(window.setTimeout(this.bind(this.opening),1),!0):!1},opening:function(){this.clearDropdownAlignmentPreference()," "===this.search.val()&&this.search.val(""),this.dropdown.addClass("select2-drop-active"),this.container.addClass("select2-dropdown-open").addClass("select2-container-active"),this.updateResults(!0),this.dropdown[0]!==this.body().children().last()[0]&&this.dropdown.detach().appendTo(this.body()),this.dropdown.show(),this.ensureHighlightVisible(),this.positionDropdown(),this.focusSearch()},close:function(){this.opened()&&(this.clearDropdownAlignmentPreference(),this.dropdown.hide(),this.container.removeClass("select2-dropdown-open").removeClass("select2-container-active"),this.results.empty(),this.clearSearch(),this.opts.element.trigger(jQuery.Event("close")))},clearSearch:function(){},ensureHighlightVisible:function(){var b=this.results,c,d,e,f;d=this.highlight(),0>d||(0==d?b.scrollTop(0):(c=b.find(".select2-result-selectable"),e=a(c[d]),f=e.offset().top+e.outerHeight(),d===c.length-1&&(c=b.find("li.select2-more-results"),0<c.length&&(f=c.offset().top+c.outerHeight())),c=b.offset().top+b.outerHeight(),f>c&&b.scrollTop(b.scrollTop()+(f-c)),e=e.offset().top-b.offset().top,0>e&&b.scrollTop(b.scrollTop()+e)))},moveHighlight:function(b){for(var c=this.results.find(".select2-result-selectable"),d=this.highlight();-1<d&&d<c.length;){var d=d+b,e=a(c[d]);if(e.hasClass("select2-result-selectable")&&!e.hasClass("select2-disabled")){this.highlight(d);break}}},highlight:function(b){var c=this.results.find(".select2-result-selectable").not(".select2-disabled");if(0===arguments.length)return d(c.filter(".select2-highlighted")[0],c.get());b>=c.length&&(b=c.length-1),0>b&&(b=0),c.removeClass("select2-highlighted"),a(c[b]).addClass("select2-highlighted"),this.ensureHighlightVisible()},countSelectableResults:function(){return this.results.find(".select2-result-selectable").not(".select2-disabled").length},highlightUnderEvent:function(b){b=a(b.target).closest(".select2-result-selectable");if(0<b.length&&!b.is(".select2-highlighted")){var c=this.results.find(".select2-result-selectable");this.highlight(c.index(b))}else 0==b.length&&this.results.find(".select2-highlighted").removeClass("select2-highlighted")},loadMoreIfNeeded:function(){var a=this.results,b=a.find("li.select2-more-results"),c,d=this.resultsPage+1,e=this,f=this.search.val(),g=this.context;0!==b.length&&(c=b.offset().top-a.offset().top-a.height(),0>=c&&(b.addClass("select2-active"),this.opts.query({term:f,page:d,context:g,matcher:this.opts.matcher,callback:this.bind(function(c){e.opts.populateResults.call(this,a,c.results,{term:f,page:d,context:g}),!0===c.more?(b.detach().appendTo(a.children(":last")).text(e.opts.formatLoadMore(d+1)),window.setTimeout(function(){e.loadMoreIfNeeded()},10)):b.remove(),e.positionDropdown(),e.resultsPage=d})})))},updateResults:function(d){function f(){i.scrollTop(0),h.removeClass("select2-active"),l.positionDropdown()}function g(a){i.html(c(a)),f()}var h=this.search,i=this.results,j=this.opts,k,l=this;if(!0===d||!1!==this.showSearchInput&&!!this.opened()){h.addClass("select2-active");if(1<=j.maximumSelectionSize&&(k=this.data(),a.isArray(k)&&k.length>=j.maximumSelectionSize&&m(j.formatSelectionTooBig,"formatSelectionTooBig"))){g("<li class='select2-selection-limit'>"+j.formatSelectionTooBig(j.maximumSelectionSize)+"</li>");return}h.val().length<j.minimumInputLength&&m(j.formatInputTooShort,"formatInputTooShort")?g("<li class='select2-no-results'>"+j.formatInputTooShort(h.val(),j.minimumInputLength)+"</li>"):(this.resultsPage=1,j.query({term:h.val(),page:this.resultsPage,context:null,matcher:j.matcher,callback:this.bind(function(k){var n;this.context=k.context===b?null:k.context,this.opts.createSearchChoice&&""!==h.val()&&(n=this.opts.createSearchChoice.call(null,h.val(),k.results),n!==b&&null!==n&&l.id(n)!==b&&null!==l.id(n)&&0===a(k.results).filter(function(){return e(l.id(this),l.id(n))}).length&&k.results.unshift(n)),0===k.results.length&&m(j.formatNoMatches,"formatNoMatches")?g("<li class='select2-no-results'>"+j.formatNoMatches(h.val())+"</li>"):(i.empty(),l.opts.populateResults.call(this,i,k.results,{term:h.val(),page:this.resultsPage,context:null}),!0===k.more&&m(j.formatLoadMore,"formatLoadMore")&&(i.children().filter(":last").append("<li class='select2-more-results'>"+c(j.formatLoadMore(this.resultsPage))+"</li>"),window.setTimeout(function(){l.loadMoreIfNeeded()},10)),this.postprocessResults(k,d),f())})}))}},cancel:function(){this.close()},blur:function(){this.close(),this.container.removeClass("select2-container-active"),this.dropdown.removeClass("select2-drop-active"),this.search[0]===document.activeElement&&this.search.blur(),this.clearSearch(),this.selection.find(".select2-search-choice-focus").removeClass("select2-search-choice-focus")},focusSearch:function(){window.setTimeout(this.bind(function(){this.search.focus(),this.search.val(this.search.val())}),10)},selectHighlighted:function(){var a=this.highlight(),b=this.results.find(".select2-highlighted").not(".select2-disabled"),c=b.closest(".select2-result-selectable").data("select2-data");c&&(b.addClass("select2-disabled"),this.highlight(a),this.onSelect(c))},getPlaceholder:function(){return this.opts.element.attr("placeholder")||this.opts.element.attr("data-placeholder")||this.opts.element.data("placeholder")||this.opts.placeholder},initContainerWidth:function(){var c=function(){var c,d,e,f;if("off"===this.opts.width)return null;if("element"===this.opts.width)return 0===this.opts.element.outerWidth()?"auto":this.opts.element.outerWidth()+"px";if("copy"===this.opts.width||"resolve"===this.opts.width){c=this.opts.element.attr("style");if(c!==b){c=c.split(";"),e=0;for(f=c.length;e<f;e+=1)if(d=c[e].replace(/\s/g,"").match(/width:(([-+]?([0-9]*\.)?[0-9]+)(px|em|ex|%|in|cm|mm|pt|pc))/),null!==d&&1<=d.length)return d[1]}return"resolve"===this.opts.width?(c=this.opts.element.css("width"),0<c.indexOf("%")?c:0===this.opts.element.outerWidth()?"auto":this.opts.element.outerWidth()+"px"):null}return a.isFunction(this.opts.width)?this.opts.width():this.opts.width}.call(this);null!==c&&this.container.attr("style","width: "+c)}}),r=o(q,{createContainer:function(){return a("<div></div>",{"class":"select2-container"}).html("    <a href='javascript:void(0)' class='select2-choice'>   <span></span><abbr class='select2-search-choice-close' style='display:none;'></abbr>   <div><b></b></div></a>    <div class='select2-drop select2-offscreen'>   <div class='select2-search'>       <input type='text' autocomplete='off' class='select2-input'/>   </div>   <ul class='select2-results'>   </ul></div>")},opening:function(){this.search.show(),this.parent.opening.apply(this,arguments),this.dropdown.removeClass("select2-offscreen")},close:function(){this.opened()&&(this.parent.close.apply(this,arguments),this.dropdown.removeAttr("style").addClass("select2-offscreen").insertAfter(this.selection).show())},focus:function(){this.close(),this.selection.focus()},isFocused:function(){return this.selection[0]===document.activeElement},cancel:function(){this.parent.cancel.apply(this,arguments),this.selection.focus()},initContainer:function(){var a,b=this.dropdown;this.selection=a=this.container.find(".select2-choice"),this.search.bind("keydown",this.bind(function(a){if(this.enabled)if(a.which===p.PAGE_UP||a.which===p.PAGE_DOWN)h(a);else if(this.opened())switch(a.which){case p.UP:case p.DOWN:this.moveHighlight(a.which===p.UP?-1:1),h(a);break;case p.TAB:case p.ENTER:this.selectHighlighted(),h(a);break;case p.ESC:this.cancel(a),h(a)}else a.which===p.TAB||p.isControl(a)||p.isFunctionKey(a)||a.which===p.ESC||this.open()})),this.search.bind("focus",this.bind(function(){this.selection.attr("tabIndex","-1")})),this.search.bind("blur",this.bind(function(){this.opened()||this.container.removeClass("select2-container-active"),window.setTimeout(this.bind(function(){this.selection.attr("tabIndex",this.opts.element.attr("tabIndex"))}),10)})),a.bind("mousedown",this.bind(function(a){this.opened()?(this.close(),this.selection.focus()):this.enabled&&this.open(),h(a)})),b.bind("mousedown",this.bind(function(){this.search.focus()})),a.bind("focus",this.bind(function(){this.container.addClass("select2-container-active"),this.search.attr("tabIndex","-1")})),a.bind("blur",this.bind(function(){this.container.removeClass("select2-container-active"),window.setTimeout(this.bind(function(){this.search.attr("tabIndex",this.opts.element.attr("tabIndex"))}),10)})),a.bind("keydown",this.bind(function(a){if(this.enabled)if(a.which===p.PAGE_UP||a.which===p.PAGE_DOWN)h(a);else if(a.which!==p.TAB&&!p.isControl(a)&&!p.isFunctionKey(a)&&a.which!==p.ESC){this.open();if(a.which!==p.ENTER&&!(48>a.which)){var b=String.fromCharCode(a.which).toLowerCase();a.shiftKey&&(b=b.toUpperCase()),this.search.val(b)}h(a)}})),a.delegate("abbr","mousedown",this.bind(function(a){this.enabled&&(this.clear(),h(a),this.close(),this.triggerChange(),this.selection.focus())})),this.setPlaceholder(),this.search.bind("focus",this.bind(function(){this.container.addClass("select2-container-active")}))},clear:function(){this.opts.element.val(""),this.selection.find("span").empty(),this.selection.removeData("select2-data"),this.setPlaceholder()},initSelection:function(){if(""===this.opts.element.val())this.close(),this.setPlaceholder();else{var a=this;this.opts.initSelection.call(null,this.opts.element,function(c){c!==b&&null!==c&&(a.updateSelection(c),a.close(),a.setPlaceholder())})}},prepareOpts:function(){var b=this.parent.prepareOpts.apply(this,arguments);return"select"===b.element.get(0).tagName.toLowerCase()&&(b.initSelection=function(b,c){var d=b.find(":selected");a.isFunction(c)&&c({id:d.attr("value"),text:d.text()})}),b},setPlaceholder:function(){var a=this.getPlaceholder();""===this.opts.element.val()&&a!==b&&(!this.select||""===this.select.find("option:first").text())&&(this.selection.find("span").html(c(a)),this.selection.addClass("select2-default"),this.selection.find("abbr").hide())},postprocessResults:function(b,c){var d=0,f=this,g=!0;this.results.find(".select2-result-selectable").each2(function(a,b){if(e(f.id(b.data("select2-data")),f.opts.element.val()))return d=a,!1}),this.highlight(d),!0===c&&(g=this.showSearchInput=b.results.length>=this.opts.minimumResultsForSearch,this.dropdown.find(".select2-search")[g?"removeClass":"addClass"]("select2-search-hidden"),a(this.dropdown,this.container)[g?"addClass":"removeClass"]("select2-with-searchbox"))},onSelect:function(a){var b=this.opts.element.val();this.opts.element.val(this.id(a)),this.updateSelection(a),this.close(),this.selection.focus(),e(b,this.id(a))||this.triggerChange()},updateSelection:function(a){var d=this.selection.find("span");this.selection.data("select2-data",a),d.empty(),a=this.opts.formatSelection(a,d),a!==b&&d.append(c(a)),this.selection.removeClass("select2-default"),this.opts.allowClear&&this.getPlaceholder()!==b&&this.selection.find("abbr").show()},val:function(){var a,c=null,d=this;if(0===arguments.length)return this.opts.element.val();a=arguments[0];if(this.select)this.select.val(a).find(":selected").each2(function(a,b){return c={id:b.attr("value"),text:b.text()},!1}),this.updateSelection(c),this.setPlaceholder();else{if(this.opts.initSelection===b)throw Error("cannot call val() if initSelection() is not defined");a?this.opts.initSelection(this.opts.element,function(a){d.opts.element.val(a?d.id(a):""),d.updateSelection(a),d.setPlaceholder()}):this.clear()}},clearSearch:function(){this.search.val("")},data:function(a){var c;if(0===arguments.length)return c=this.selection.data("select2-data"),c==b&&(c=null),c;!a||""===a?this.clear():(this.opts.element.val(a?this.id(a):""),this.updateSelection(a))}}),s=o(q,{createContainer:function(){return a("<div></div>",{"class":"select2-container select2-container-multi"}).html("    <ul class='select2-choices'>  <li class='select2-search-field'>    <input type='text' autocomplete='off' style='width: 25px;' class='select2-input'>  </li></ul><div class='select2-drop select2-drop-multi' style='display:none;'>   <ul class='select2-results'>   </ul></div>")},prepareOpts:function(){var b=this.parent.prepareOpts.apply(this,arguments);return"select"===b.element.get(0).tagName.toLowerCase()&&(b.initSelection=function(b,c){var d=[];b.find(":selected").each2(function(a,b){d.push({id:b.attr("value"),text:b.text()})}),a.isFunction(c)&&c(d)}),b},initContainer:function(){var a;this.searchContainer=this.container.find(".select2-search-field"),this.selection=a=this.container.find(".select2-choices"),this.search.bind("keydown",this.bind(function(b){if(this.enabled){if(b.which===p.BACKSPACE&&""===this.search.val()){this.close();var c;c=a.find(".select2-search-choice-focus");if(0<c.length){this.unselect(c.first()),this.search.width(10),h(b);return}c=a.find(".select2-search-choice"),0<c.length&&c.last().addClass("select2-search-choice-focus")}else a.find(".select2-search-choice-focus").removeClass("select2-search-choice-focus");if(this.opened())switch(b.which){case p.UP:case p.DOWN:this.moveHighlight(b.which===p.UP?-1:1),h(b);return;case p.ENTER:case p.TAB:this.selectHighlighted(),h(b);return;case p.ESC:this.cancel(b),h(b);return}b.which===p.TAB||p.isControl(b)||p.isFunctionKey(b)||b.which===p.BACKSPACE||b.which===p.ESC||(this.open(),(b.which===p.PAGE_UP||b.which===p.PAGE_DOWN)&&h(b))}})),this.search.bind("keyup",this.bind(this.resizeSearch)),this.search.bind("blur",this.bind(function(){this.container.removeClass("select2-container-active")})),this.container.delegate(".select2-choices","mousedown",this.bind(function(a){this.enabled&&(this.clearPlaceholder(),this.open(),this.focusSearch(),a.preventDefault())})),this.container.delegate(".select2-choices","focus",this.bind(function(){this.enabled&&(this.container.addClass("select2-container-active"),this.dropdown.addClass("select2-drop-active"),this.clearPlaceholder())})),this.clearSearch()},enable:function(){this.enabled||(this.parent.enable.apply(this,arguments),this.search.removeAttr("disabled"))},disable:function(){this.enabled&&(this.parent.disable.apply(this,arguments),this.search.attr("disabled",!0))},initSelection:function(){""===this.opts.element.val()&&(this.updateSelection([]),this.close(),this.clearSearch());if(this.select||""!==this.opts.element.val()){var a=this;this.opts.initSelection.call(null,this.opts.element,function(c){c!==b&&c!==null&&(a.updateSelection(c),a.close(),a.clearSearch())})}},clearSearch:function(){var a=this.getPlaceholder();a!==b&&0===this.getVal().length&&!1===this.search.hasClass("select2-focused")?(this.search.val(a).addClass("select2-default"),this.resizeSearch()):this.search.val(" ").width(10)},clearPlaceholder:function(){this.search.hasClass("select2-default")?this.search.val("").removeClass("select2-default"):" "===this.search.val()&&this.search.val("")},opening:function(){this.parent.opening.apply(this,arguments),this.clearPlaceholder(),this.resizeSearch(),this.focusSearch()},close:function(){this.opened()&&this.parent.close.apply(this,arguments)},focus:function(){this.close(),this.search.focus()},isFocused:function(){return this.search.hasClass("select2-focused")},updateSelection:function(b){var c=[],e=[],f=this;a(b).each(function(){0>d(f.id(this),c)&&(c.push(f.id(this)),e.push(this))}),b=e,this.selection.find(".select2-search-choice").remove(),a(b).each(function(){f.addSelectedChoice(this)}),f.postprocessResults()},onSelect:function(a){this.addSelectedChoice(a),this.select&&this.postprocessResults(),this.opts.closeOnSelect?(this.close(),this.search.width(10)):(this.search.width(10),this.resizeSearch(),0<this.countSelectableResults()?this.positionDropdown():this.close()),this.triggerChange({added:a}),this.focusSearch()},cancel:function(){this.close(),this.focusSearch()},addSelectedChoice:function(b){var d=a("<li class='select2-search-choice'>    <div></div>    <a href='javascript:void(0)' class='select2-search-choice-close' tabindex='-1'></a></li>"),e=this.id(b),f=this.getVal(),g;g=this.opts.formatSelection(b,d),d.find("div").replaceWith("<div>"+c(g)+"</div>"),d.find(".select2-search-choice-close").bind("click dblclick",this.bind(function(b){this.enabled&&(a(b.target).closest(".select2-search-choice").fadeOut("fast").animate({width:"hide"},50,this.bind(function(){this.unselect(a(b.target)),this.selection.find(".select2-search-choice-focus").removeClass("select2-search-choice-focus"),this.close(),this.focusSearch()})).dequeue(),h(b))})).bind("focus",this.bind(function(){this.enabled&&(this.container.addClass("select2-container-active"),this.dropdown.addClass("select2-drop-active"))})),d.data("select2-data",b),d.insertBefore(this.searchContainer),f.push(e),this.setVal(f)},unselect:function(a){var b=this.getVal(),c,e,a=a.closest(".select2-search-choice");if(0===a.length)throw"Invalid argument: "+a+". Must be .select2-search-choice";c=a.data("select2-data"),e=d(this.id(c),b),0<=e&&(b.splice(e,1),this.setVal(b),this.select&&this.postprocessResults()),a.remove(),this.triggerChange({removed:c})},postprocessResults:function(){var a=this.getVal(),b=this.results.find(".select2-result-selectable"),c=this.results.find(".select2-result-with-children"),e=this;b.each2(function(b,c){var f=e.id(c.data("select2-data"));0<=d(f,a)?c.addClass("select2-disabled").removeClass("select2-result-selectable"):c.removeClass("select2-disabled").addClass("select2-result-selectable")}),c.each2(function(a,b){0==b.find(".select2-result-selectable").length?b.addClass("select2-disabled"):b.removeClass("select2-disabled")}),b.each2(function(a,b){if(!b.hasClass("select2-disabled")&&b.hasClass("select2-result-selectable"))return e.highlight(0),!1})},resizeSearch:function(){var b,c,d,e,f=this.search.outerWidth()-this.search.width();b=this.search,t||(d=b[0].currentStyle||window.getComputedStyle(b[0],null),t=a("<div></div>").css({position:"absolute",left:"-10000px",top:"-10000px",display:"none",fontSize:d.fontSize,fontFamily:d.fontFamily,fontStyle:d.fontStyle,fontWeight:d.fontWeight,letterSpacing:d.letterSpacing,textTransform:d.textTransform,whiteSpace:"nowrap"}),a("body").append(t)),t.text(b.val()),b=t.width()+10,c=this.search.offset().left,d=this.selection.width(),e=this.selection.offset().left,c=d-(c-e)-f,c<b&&(c=d-f),40>c&&(c=d-f),this.search.width(c)},getVal:function(){var a;return this.select?(a=this.select.val(),null===a?[]:a):(a=this.opts.element.val(),f(a,this.opts.separator))},setVal:function(b){var c;this.select?this.select.val(b):(c=[],a(b).each(function(){0>d(this,c)&&c.push(this)}),this.opts.element.val(0===c.length?"":c.join(this.opts.separator)))},val:function(){var c,d=[],e=this;if(0===arguments.length)return this.getVal();if(c=arguments[0])if(this.setVal(c),this.select)this.select.find(":selected").each(function(){d.push({id:a(this).attr("value"),text:a(this).text()})}),this.updateSelection(d);else{if(this.opts.initSelection===b)throw Error("val() cannot be called if initSelection() is not defined");this.opts.initSelection(this.opts.element,function(b){var c=a(b).map(e.id);e.setVal(c),e.updateSelection(b),e.clearSearch()})}else this.opts.element.val(""),this.updateSelection([]);this.clearSearch()},onSortStart:function(){if(this.select)throw Error("Sorting of elements is not supported when attached to <select>. Attach to <input type='hidden'/> instead.");this.search.width(0),this.searchContainer.hide()},onSortEnd:function(){var b=[],c=this;this.searchContainer.show(),this.searchContainer.appendTo(this.searchContainer.parent()),this.resizeSearch(),this.selection.find(".select2-search-choice").each(function(){b.push(c.opts.id(a(this).data("select2-data")))}),this.setVal(b),this.triggerChange()},data:function(b){var c=this,d;if(0===arguments.length)return this.selection.find(".select2-search-choice").map(function(){return a(this).data("select2-data")}).get();b||(b=[]),d=a.map(b,function(a){return c.opts.id(a)}),this.setVal(d),this.updateSelection(b),this.clearSearch()}}),a.fn.select2=function(){var c=Array.prototype.slice.call(arguments,0),e,f,g,h,i="val destroy open close focus isFocused container onSortStart onSortEnd enable disable positionDropdown data".split(" ");return this.each(function(){if(0===c.length||"object"==typeof c[0])e=0===c.length?{}:a.extend({},c[0]),e.element=a(this),"select"===e.element.get(0).tagName.toLowerCase()?h=e.element.attr("multiple"):(h=e.multiple||!1,"tags"in e&&(e.multiple=h=!0)),f=h?new s:new r,f.init(e);else{if("string"!=typeof c[0])throw"Invalid arguments to select2 plugin: "+c;if(0>d(c[0],i))throw"Unknown method: "+c[0];g=b,f=a(this).data("select2");if(f!==b&&(g="container"===c[0]?f.container:f[c[0]].apply(f,c.slice(1)),g!==b))return!1}}),g===b?this:g},a.fn.select2.defaults={width:"copy",closeOnSelect:!0,containerCss:{},dropdownCss:{},containerCssClass:"",dropdownCssClass:"",formatResult:function(a,b,c){return b=[],i(a.text,c.term,b),b.join("")},formatSelection:function(a){return a.text},formatNoMatches:function(){return"No matches found"},formatInputTooShort:function(a,b){return"Please enter "+(b-a.length)+" more characters"},formatSelectionTooBig:function(a){return"You can only select "+a+" items"},formatLoadMore:function(){return"Loading more results..."},minimumResultsForSearch:0,minimumInputLength:0,maximumSelectionSize:0,id:function(a){return a.id},matcher:function(a,b){return 0<=b.toUpperCase().indexOf(a.toUpperCase())}},window.Select2={query:{ajax:j,local:k,tags:l},util:{debounce:g,markMatch:i},"class":{"abstract":q,single:r,multi:s}}}}(jQuery);
